(function(ee,m){typeof exports=="object"&&typeof module<"u"?m(exports,require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["exports","react","react-dom"],m):(ee=typeof globalThis<"u"?globalThis:ee||self,m(ee.chatbox={},ee.React,ee.ReactDOM))})(this,function(ee,m,ge){"use strict";var ss=(ee,m,ge)=>{if(!m.has(ee))throw TypeError("Cannot "+ge)};var f=(ee,m,ge)=>(ss(ee,m,"read from private field"),ge?ge.call(ee):m.get(ee)),N=(ee,m,ge)=>{if(m.has(ee))throw TypeError("Cannot add the same private member more than once");m instanceof WeakSet?m.add(ee):m.set(ee,ge)},R=(ee,m,ge,St)=>(ss(ee,m,"write to private field"),St?St.call(ee,ge):m.set(ee,ge),ge);var ln=(ee,m,ge,St)=>({set _(me){R(ee,m,me,ge)},get _(){return f(ee,m,St)}}),Y=(ee,m,ge)=>(ss(ee,m,"access private method"),ge);var yt,tt,$t,Bo,Pt,rt,Mt,Io,gt,Fo,Lt,Nt,Oe,be,de,gr,mt,Pe,Ye,Uo,De,qo,Be,mr,_e,jt,Ie,ct,Ho,Ae,br,bt,Vo,oe,nt,st,Dt,Bt,it,It,Ft,zo,xe,ne,vr,ve,vt,Ut,Fe,wr,qt,Ht,wt,xt,ot,Vt,Et,Tr,xr,is,Er,os,Sr,as,_r,cs,kr,ls,Cr,us,Or,hs,sn,oa,Qo;function St(t){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const r in t)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:()=>t[r]})}}return e.default=t,Object.freeze(e)}const me=St(m);var lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function aa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var un={exports:{}},Kt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fs;function ca(){if(fs)return Kt;fs=1;var t=m,e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,p){var u,d={},h=null,y=null;p!==void 0&&(h=""+p),l.key!==void 0&&(h=""+l.key),l.ref!==void 0&&(y=l.ref);for(u in l)n.call(l,u)&&!i.hasOwnProperty(u)&&(d[u]=l[u]);if(a&&a.defaultProps)for(u in l=a.defaultProps,l)d[u]===void 0&&(d[u]=l[u]);return{$$typeof:e,type:a,key:h,ref:y,props:d,_owner:s.current}}return Kt.Fragment=r,Kt.jsx=o,Kt.jsxs=o,Kt}var Gt={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ds;function la(){return ds||(ds=1,process.env.NODE_ENV!=="production"&&function(){var t=m,e=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),x=Symbol.iterator,S="@@iterator";function w(c){if(c===null||typeof c!="object")return null;var E=x&&c[x]||c[S];return typeof E=="function"?E:null}var O=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function P(c){{for(var E=arguments.length,A=new Array(E>1?E-1:0),U=1;U<E;U++)A[U-1]=arguments[U];j("error",c,A)}}function j(c,E,A){{var U=O.ReactDebugCurrentFrame,J=U.getStackAddendum();J!==""&&(E+="%s",A=A.concat([J]));var te=A.map(function(K){return String(K)});te.unshift("Warning: "+E),Function.prototype.apply.call(console[c],console,te)}}var z=!1,M=!1,F=!1,se=!1,I=!1,Z;Z=Symbol.for("react.module.reference");function G(c){return!!(typeof c=="string"||typeof c=="function"||c===n||c===i||I||c===s||c===p||c===u||se||c===y||z||M||F||typeof c=="object"&&c!==null&&(c.$$typeof===h||c.$$typeof===d||c.$$typeof===o||c.$$typeof===a||c.$$typeof===l||c.$$typeof===Z||c.getModuleId!==void 0))}function V(c,E,A){var U=c.displayName;if(U)return U;var J=E.displayName||E.name||"";return J!==""?A+"("+J+")":A}function g(c){return c.displayName||"Context"}function $(c){if(c==null)return null;if(typeof c.tag=="number"&&P("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case n:return"Fragment";case r:return"Portal";case i:return"Profiler";case s:return"StrictMode";case p:return"Suspense";case u:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case a:var E=c;return g(E)+".Consumer";case o:var A=c;return g(A._context)+".Provider";case l:return V(c,c.render,"ForwardRef");case d:var U=c.displayName||null;return U!==null?U:$(c.type)||"Memo";case h:{var J=c,te=J._payload,K=J._init;try{return $(K(te))}catch{return null}}}return null}var k=Object.assign,b=0,v,_,C,L,D,H,X;function ae(){}ae.__reactDisabledLog=!0;function pe(){{if(b===0){v=console.log,_=console.info,C=console.warn,L=console.error,D=console.group,H=console.groupCollapsed,X=console.groupEnd;var c={configurable:!0,enumerable:!0,value:ae,writable:!0};Object.defineProperties(console,{info:c,log:c,warn:c,error:c,group:c,groupCollapsed:c,groupEnd:c})}b++}}function Ee(){{if(b--,b===0){var c={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:k({},c,{value:v}),info:k({},c,{value:_}),warn:k({},c,{value:C}),error:k({},c,{value:L}),group:k({},c,{value:D}),groupCollapsed:k({},c,{value:H}),groupEnd:k({},c,{value:X})})}b<0&&P("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Ue=O.ReactCurrentDispatcher,Me;function qe(c,E,A){{if(Me===void 0)try{throw Error()}catch(J){var U=J.stack.trim().match(/\n( *(at )?)/);Me=U&&U[1]||""}return`
`+Me+c}}var Le=!1,he;{var He=typeof WeakMap=="function"?WeakMap:Map;he=new He}function at(c,E){if(!c||Le)return"";{var A=he.get(c);if(A!==void 0)return A}var U;Le=!0;var J=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var te;te=Ue.current,Ue.current=null,pe();try{if(E){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(We){U=We}Reflect.construct(c,[],K)}else{try{K.call()}catch(We){U=We}c.call(K.prototype)}}else{try{throw Error()}catch(We){U=We}c()}}catch(We){if(We&&U&&typeof We.stack=="string"){for(var Q=We.stack.split(`
`),we=U.stack.split(`
`),ce=Q.length-1,ue=we.length-1;ce>=1&&ue>=0&&Q[ce]!==we[ue];)ue--;for(;ce>=1&&ue>=0;ce--,ue--)if(Q[ce]!==we[ue]){if(ce!==1||ue!==1)do if(ce--,ue--,ue<0||Q[ce]!==we[ue]){var Te=`
`+Q[ce].replace(" at new "," at ");return c.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",c.displayName)),typeof c=="function"&&he.set(c,Te),Te}while(ce>=1&&ue>=0);break}}}finally{Le=!1,Ue.current=te,Ee(),Error.prepareStackTrace=J}var Wt=c?c.displayName||c.name:"",ia=Wt?qe(Wt):"";return typeof c=="function"&&he.set(c,ia),ia}function zt(c,E,A){return at(c,!1)}function Qu(c){var E=c.prototype;return!!(E&&E.isReactComponent)}function on(c,E,A){if(c==null)return"";if(typeof c=="function")return at(c,Qu(c));if(typeof c=="string")return qe(c);switch(c){case p:return qe("Suspense");case u:return qe("SuspenseList")}if(typeof c=="object")switch(c.$$typeof){case l:return zt(c.render);case d:return on(c.type,E,A);case h:{var U=c,J=U._payload,te=U._init;try{return on(te(J),E,A)}catch{}}}return""}var an=Object.prototype.hasOwnProperty,Wo={},Yo=O.ReactDebugCurrentFrame;function cn(c){if(c){var E=c._owner,A=on(c.type,c._source,E?E.type:null);Yo.setExtraStackFrame(A)}else Yo.setExtraStackFrame(null)}function Wu(c,E,A,U,J){{var te=Function.call.bind(an);for(var K in c)if(te(c,K)){var Q=void 0;try{if(typeof c[K]!="function"){var we=Error((U||"React class")+": "+A+" type `"+K+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof c[K]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw we.name="Invariant Violation",we}Q=c[K](E,K,U,A,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(ce){Q=ce}Q&&!(Q instanceof Error)&&(cn(J),P("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",U||"React class",A,K,typeof Q),cn(null)),Q instanceof Error&&!(Q.message in Wo)&&(Wo[Q.message]=!0,cn(J),P("Failed %s type: %s",A,Q.message),cn(null))}}}var Yu=Array.isArray;function Zn(c){return Yu(c)}function Ku(c){{var E=typeof Symbol=="function"&&Symbol.toStringTag,A=E&&c[Symbol.toStringTag]||c.constructor.name||"Object";return A}}function Gu(c){try{return Ko(c),!1}catch{return!0}}function Ko(c){return""+c}function Go(c){if(Gu(c))return P("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Ku(c)),Ko(c)}var Ar=O.ReactCurrentOwner,Xu={key:!0,ref:!0,__self:!0,__source:!0},Xo,Jo,es;es={};function Ju(c){if(an.call(c,"ref")){var E=Object.getOwnPropertyDescriptor(c,"ref").get;if(E&&E.isReactWarning)return!1}return c.ref!==void 0}function Zu(c){if(an.call(c,"key")){var E=Object.getOwnPropertyDescriptor(c,"key").get;if(E&&E.isReactWarning)return!1}return c.key!==void 0}function eh(c,E){if(typeof c.ref=="string"&&Ar.current&&E&&Ar.current.stateNode!==E){var A=$(Ar.current.type);es[A]||(P('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',$(Ar.current.type),c.ref),es[A]=!0)}}function th(c,E){{var A=function(){Xo||(Xo=!0,P("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",E))};A.isReactWarning=!0,Object.defineProperty(c,"key",{get:A,configurable:!0})}}function rh(c,E){{var A=function(){Jo||(Jo=!0,P("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",E))};A.isReactWarning=!0,Object.defineProperty(c,"ref",{get:A,configurable:!0})}}var nh=function(c,E,A,U,J,te,K){var Q={$$typeof:e,type:c,key:E,ref:A,props:K,_owner:te};return Q._store={},Object.defineProperty(Q._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(Q,"_self",{configurable:!1,enumerable:!1,writable:!1,value:U}),Object.defineProperty(Q,"_source",{configurable:!1,enumerable:!1,writable:!1,value:J}),Object.freeze&&(Object.freeze(Q.props),Object.freeze(Q)),Q};function sh(c,E,A,U,J){{var te,K={},Q=null,we=null;A!==void 0&&(Go(A),Q=""+A),Zu(E)&&(Go(E.key),Q=""+E.key),Ju(E)&&(we=E.ref,eh(E,J));for(te in E)an.call(E,te)&&!Xu.hasOwnProperty(te)&&(K[te]=E[te]);if(c&&c.defaultProps){var ce=c.defaultProps;for(te in ce)K[te]===void 0&&(K[te]=ce[te])}if(Q||we){var ue=typeof c=="function"?c.displayName||c.name||"Unknown":c;Q&&th(K,ue),we&&rh(K,ue)}return nh(c,Q,we,J,U,Ar.current,K)}}var ts=O.ReactCurrentOwner,Zo=O.ReactDebugCurrentFrame;function Qt(c){if(c){var E=c._owner,A=on(c.type,c._source,E?E.type:null);Zo.setExtraStackFrame(A)}else Zo.setExtraStackFrame(null)}var rs;rs=!1;function ns(c){return typeof c=="object"&&c!==null&&c.$$typeof===e}function ea(){{if(ts.current){var c=$(ts.current.type);if(c)return`

Check the render method of \``+c+"`."}return""}}function ih(c){{if(c!==void 0){var E=c.fileName.replace(/^.*[\\\/]/,""),A=c.lineNumber;return`

Check your code at `+E+":"+A+"."}return""}}var ta={};function oh(c){{var E=ea();if(!E){var A=typeof c=="string"?c:c.displayName||c.name;A&&(E=`

Check the top-level render call using <`+A+">.")}return E}}function ra(c,E){{if(!c._store||c._store.validated||c.key!=null)return;c._store.validated=!0;var A=oh(E);if(ta[A])return;ta[A]=!0;var U="";c&&c._owner&&c._owner!==ts.current&&(U=" It was passed a child from "+$(c._owner.type)+"."),Qt(c),P('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',A,U),Qt(null)}}function na(c,E){{if(typeof c!="object")return;if(Zn(c))for(var A=0;A<c.length;A++){var U=c[A];ns(U)&&ra(U,E)}else if(ns(c))c._store&&(c._store.validated=!0);else if(c){var J=w(c);if(typeof J=="function"&&J!==c.entries)for(var te=J.call(c),K;!(K=te.next()).done;)ns(K.value)&&ra(K.value,E)}}}function ah(c){{var E=c.type;if(E==null||typeof E=="string")return;var A;if(typeof E=="function")A=E.propTypes;else if(typeof E=="object"&&(E.$$typeof===l||E.$$typeof===d))A=E.propTypes;else return;if(A){var U=$(E);Wu(A,c.props,"prop",U,c)}else if(E.PropTypes!==void 0&&!rs){rs=!0;var J=$(E);P("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",J||"Unknown")}typeof E.getDefaultProps=="function"&&!E.getDefaultProps.isReactClassApproved&&P("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function ch(c){{for(var E=Object.keys(c.props),A=0;A<E.length;A++){var U=E[A];if(U!=="children"&&U!=="key"){Qt(c),P("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",U),Qt(null);break}}c.ref!==null&&(Qt(c),P("Invalid attribute `ref` supplied to `React.Fragment`."),Qt(null))}}function sa(c,E,A,U,J,te){{var K=G(c);if(!K){var Q="";(c===void 0||typeof c=="object"&&c!==null&&Object.keys(c).length===0)&&(Q+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var we=ih(J);we?Q+=we:Q+=ea();var ce;c===null?ce="null":Zn(c)?ce="array":c!==void 0&&c.$$typeof===e?(ce="<"+($(c.type)||"Unknown")+" />",Q=" Did you accidentally export a JSX literal instead of a component?"):ce=typeof c,P("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",ce,Q)}var ue=sh(c,E,A,J,te);if(ue==null)return ue;if(K){var Te=E.children;if(Te!==void 0)if(U)if(Zn(Te)){for(var Wt=0;Wt<Te.length;Wt++)na(Te[Wt],c);Object.freeze&&Object.freeze(Te)}else P("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else na(Te,c)}return c===n?ch(ue):ah(ue),ue}}function lh(c,E,A){return sa(c,E,A,!0)}function uh(c,E,A){return sa(c,E,A,!1)}var hh=uh,fh=lh;Gt.Fragment=n,Gt.jsx=hh,Gt.jsxs=fh}()),Gt}process.env.NODE_ENV==="production"?un.exports=ca():un.exports=la();var T=un.exports;const ps=Object,Rr=Map,Xt=Set,hn=Xt.prototype.has,ua=Xt.prototype.add,$r=Rr.prototype.has,ys=Rr.prototype.get,Pr=Rr.prototype.set,_t=1,fn=2,Jt=4,Mr=8,ha=16,fa=32,Ke="__t",gs="__p",dn="__e",da=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,pa="http://www.w3.org/1999/xlink",ya="http://www.w3.org/2000/xmlns/",ga=120,ma=new Xt(["href","list","form","tabIndex","download"]),ba=new Xt(["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","isindex","keygen","link","menuitem","meta","nextid","param","source","track","wbr"]);if(typeof window>"u")throw new Error("See http://million.dev/docs/install to install the compiler.");const Ge=document;Ge.createElement("template");const ms=Ge.createElement("template"),va=ms.content,bs=Ge.createElementNS("http://www.w3.org/2000/svg","svg"),ut=Node.prototype,Lr=Element.prototype,wa=CharacterData.prototype,Nr=ps.getOwnPropertyDescriptor,jr=ut.insertBefore,vs=ut.cloneNode,xa=ut.replaceChild,Ea=Lr.remove,Sa=ut.addEventListener,_a=Lr.removeAttribute,ws=Lr.setAttribute,xs=Lr.setAttributeNS,ka=Nr(ut,"textContent").set,Es=Nr(ut,"firstChild").get,Ca=Nr(ut,"nextSibling").get,Oa=Nr(wa,"data").set,Aa=(t,e)=>{const r=e?bs:ms;return r.innerHTML=t,(e?bs:va).firstChild};Ge[dn]=new Xt;const Ss=(t,e,r)=>{let n=e.toLowerCase(),s=!1;n.endsWith("capture")&&(n=n.slice(0,-7),s=!0);const i=`$$${n}`;hn.call(Ge[dn],n)||(Sa.call(Ge,n,a=>{let l=a.target;for(;l;){const p=l[i];p&&(ps.defineProperty(a,"currentTarget",{configurable:!0,get(){return l}}),p(a)),l=l.parentNode}},{capture:s}),ua.call(Ge[dn],n));const o=a=>{var l;a?"key"in a&&a.key===((l=t[i])==null?void 0:l.key)||(t[i]=a):t[i]=null};return o(r),o},ht=(t,e)=>{let r=Es.call(t);if(e)for(let n=0;n<e&&r;++n)r=Ca.call(r);return r},_s=new WeakSet,ks=t=>{var r;if(_s.has(t))return;t.nodeType===8&&((r=t.parentNode)==null||r.removeChild(t));let e=Es.call(t);for(;e;)ks(e),e=e.nextSibling;_s.add(t)},Cs=(t,e,r)=>{const n=Ge.createTextNode(e),s=ht(t,r);return jr.call(t,n,s),n},Ta=(t,e)=>{Oa.call(t,e)},Dr=(t,e,r)=>{typeof r!="number"||da.test(e)?t.style[e]=r:typeof r=="string"?t.style.cssText=r:e.startsWith("-")?t.style.setProperty(e,String(r)):r==null?t.style[e]="":t.style[e]=`${String(r)}px`},Os=(t,e,r)=>{e=e.replace(/xlink(?:H|:h)/,"h").replace(/sName$/,"s"),e.startsWith("xmlns")?xs.call(t,ya,e,String(r)):e.startsWith("xlink")&&xs.call(t,pa,"href",String(r))},As=(t,e,r)=>{const n=r==null;if(r=n?"":r,e in t&&t[e]!==void 0&&t[e]!==null&&!(t instanceof SVGElement)&&hn.call(ma,e))try{t[e]=r}catch{}else!n&&r!==""&&(r!==!1||e.includes("-"))?ws.call(t,e,String(r)):_a.call(t,e);const s=t instanceof HTMLInputElement,i=t instanceof HTMLSelectElement,o=t instanceof HTMLTextAreaElement;e==="value"&&(s||i||o)&&(ws.call(t,e,String(r)),t.value=r)};var Ra=Object.defineProperty,$a=(t,e,r)=>e in t?Ra(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ve=(t,e,r)=>($a(t,typeof e!="symbol"?e+"":e,r),r);class Zt{constructor(){Ve(this,"r"),Ve(this,"e"),Ve(this,"l"),Ve(this,"g"),Ve(this,"_u"),Ve(this,"_t"),Ve(this,"d"),Ve(this,"k"),Ve(this,"c")}}const Ts=(t,e=[],r=[])=>{var a,l;if(typeof t=="string")return t;if(typeof t=="number"||typeof t=="bigint"||t===!0)return String(t);if(t==null||t===!1)return"";if(typeof t=="object"&&"$"in t)return e.push({p:r,e:[{t:_t,n:null,v:null,h:t.$,i:0,l:null,p:null,b:null}],i:[]}),"<slot/>";let n="",s="";const i={p:r,e:[],i:[]};for(let p in t.props){const u=t.props[p];if(!(p==="key"||p==="ref"||p==="children")){if(p==="className"&&(p="class"),p==="htmlFor"&&(p="for"),p.startsWith("on")){"$"in u?i.e.push({t:Jt,n:p.slice(2),v:null,h:u.$,i:null,l:null,p:null,b:null}):i.i.push({t:Jt,n:p.slice(2),v:null,h:null,i:null,l:u,p:null,b:null});continue}if(u){if(typeof u=="object"&&"$"in u){p==="style"?i.e.push({t:Mr,n:p,v:null,h:u.$,i:null,l:null,p:null,b:null}):p.charCodeAt(0)===ga?i.e.push({t:ha,n:p,v:null,h:u.$,i:null,l:null,p:null,b:null}):i.e.push({t:fn,n:p,v:null,h:u.$,i:null,l:null,p:null,b:null});continue}if(p==="style"&&typeof u=="object"){let d="";for(const h in u){if(typeof u[h]=="object"){i.e.push({t:Mr,n:h,v:null,h:u[h].$,i:null,l:null,p:null,b:null});continue}let y="";for(let x=0,S=h.length;x<S;++x){const w=h.charCodeAt(x);w<97?y+=`-${String.fromCharCode(w+32)}`:y+=h[x]}d+=`${y}:${String(u[h])};`}n+=` style="${d}"`;continue}n+=` ${p}="${String(u)}"`}}}if(hn.call(ba,t.type))return i.e.length&&e.push(i),`<${t.type}${n} />`;let o=!1;for(let p=0,u=((a=t.props.children)==null?void 0:a.length)||0,d=0;p<u;++p){const h=(l=t.props.children)==null?void 0:l[p];if(h==null||h===!1)continue;if(typeof h=="object"&&"$"in h){i.e.push({t:_t,n:null,v:null,h:h.$,i:p,l:null,p:null,b:null});continue}if(h instanceof Zt){i.i.push({t:fa,n:null,v:null,h:null,i:p,l:null,p:null,b:h});continue}if(typeof h=="string"||typeof h=="number"||typeof h=="bigint"){const x=typeof h=="number"||typeof h=="bigint"?String(h):h;if(o){i.i.push({t:_t,n:null,v:x,h:null,i:p,l:null,p:null,b:null});continue}o=!0,s+=x,d++;continue}o=!1;const y=r.slice();y.push(d++),s+=Ts(h,e,y)}return(i.i.length||i.e.length)&&e.push(i),`<${t.type}${n}>${s}</${t.type}>`};var Pa=Object.defineProperty,Ma=(t,e,r)=>e in t?Pa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,La=(t,e,r)=>(Ma(t,typeof e!="symbol"?e+"":e,r),r);const Rs=t=>new $s(t);class $s extends Zt{constructor(e){super(),La(this,"b"),this.b=e}v(){}p(e){const r=this.b,n=e.b,s=r.length,i=n.length,o=this.t();if(this===e||i===0&&s===0)return o;if(this.b=n,i===0)return Na.call(this),o;if(s===0)return Ps.call(e,o),o;let a=0,l=0,p=s-1,u=i-1,d=r[0],h=n[0],y=r[p],x=n[u],S;for(;a<=p&&l<=u;){if(!d){d=r[++a];continue}if(!y){y=r[--p];continue}const w=d.k,O=h.k;if(w===O){Ct.call(d,h),n[l]=d,d=r[++a],h=n[++l];continue}const P=y.k,j=x.k;if(P===j){Ct.call(y,x),n[u]=y,y=r[--p],x=n[--u];continue}if(w===j){Ct.call(d,x),n[u]=d;const M=n[u+1];yn.call(d,M,(M==null?void 0:M.l)||null),d=r[++a],x=n[--u];continue}if(P===O){Ct.call(y,h),n[l]=y;const M=r[a];yn.call(y,M,(M==null?void 0:M.l)||null),y=r[--p],h=n[++l];continue}if(!S){S=new Rr;for(let M=a;M<=p;M++)Pr.call(S,r[M].k,M)}const z=S.get(O);if(z===void 0)kt.call(h,o,d.l||null);else{const M=r[z];yn.call(M,d,null),Ct.call(M,h),n[l]=M,r[z]=null}h=n[++l]}if(a<=p||l<=u)if(a>p){const w=n[u+1];for(let O=l;O<=u;++O)kt.call(n[O],o,w?w.l:null)}else for(let w=a;w<=p;++w)Br.call(r[w]);return o}m(e,r=null){if(this._t)return this._t;for(let n=0,s=this.b.length;n<s;++n){const i=this.b[n];kt.call(i,e,r)}return this._t=e,e}x(){const e=this.t();if(e)ka.call(e,"");else for(let r=0,n=this.b.length;r<n;++r)Br.call(this.b[r]);this.b=[]}u(){return!0}s(){return this.b.map(e=>e.s()).join("")}t(){return this._t||(this._t=this.b[0].t()),this._t}}const pn=$s.prototype,Ps=pn.m,Ms=pn.p,Na=pn.x,ja=new Proxy({},{get(t,e){return{$:e}}}),Ls=(t,e,r,n)=>{const s=t(ja),i=[],o=Aa(Ts(e?e(s):s,i),n);return ks(o),(a,l,p)=>new Ns(o,i,a,l??(a==null?void 0:a.key)??null,p??r??null,null)},Da=(t,e)=>{if(("b"in t||"b"in e)&&Ms.call(t,e),t.l||kt.call(t,void 0,null,null),t.k&&t.k===e.k||t.r===e.r)return Ct.call(t,e);const r=kt.call(e,t.t(),t.l,null);return Br.call(t),t.k=e.k,r};class Ns extends Zt{constructor(e,r,n,s,i,o){super(),this.r=e,this.d=n,this.e=r,this.k=s,this.c=Array(r.length),i?this._u=i:this._u=null,o?this.g=o:this.g=null}m(e,r=null,n){var o,a;if(this.l)return this.l;const s=n??vs.call(this.r,!0),i=(o=this.g)==null?void 0:o.call(this,s);i&&(this.c=i);for(let l=0,p=this.e.length;l<p;++l){const u=this.e[l],d=(i==null?void 0:i[l])??js(u.p,s,this.c,l);for(let y=0,x=u.e.length;y<x;++y){const S=u.e[y],w=this.d[S.h];if(S.t&_t){if(w instanceof Zt){const O=ht(d,S.i);n?w.m(d,O,O):w.m(d,O);continue}if(d[Ke]||(d[Ke]=new Array(x)),w&&typeof w=="object"&&"foreign"in w){if(n){const P=ht(d,S.i);w.reset(P)}const O=w.current;d[Ke][y]=O,n||jr.call(d,O,ht(d,S.i));continue}if(n){d[Ke][y]=ht(d,S.i);continue}d[Ke][y]=Cs(d,w==null||w===!1?"":String(w),S.i)}else if(S.t&Jt){const O=Ss(d,S.n,w);d[gs+S.n]=O}else if(S.t&fn)As(d,S.n,w);else if(S.t&Mr)if(typeof w=="string"||typeof w=="number")Dr(d,S.n,w);else for(const O in w)Dr(d,O,w[O]);else Os(d,S.n,w)}const h=(a=u.i)==null?void 0:a.length;if(h)for(let y=0;y<h;++y){const x=u.i[y];if(x.t&_t)x.v&&!n&&Cs(d,x.v,x.i);else if(x.t&Jt)Ss(d,x.n,x.l);else{const S=ht(d,x.i);n?x.b.m(d,S,S):x.b.m(d,S)}}}return e&&!n&&jr.call(e,s,r),this.l=s,s}p(e){var s,i;const r=this.l;if(!e.d)return r;const n=this.d;if(!Ba.call(this,n,e.d))return r;this.d=e.d;for(let o=0,a=this.e.length;o<a;++o){const l=this.e[o],p=this.c[o]??js(l.p,r,this.c,o);for(let u=0,d=l.e.length;u<d;++u){const h=l.e[u],y=n[h.h],x=e.d[h.h];if(x!==y){if(h.t&Jt){p[gs+h.n](x);continue}if(h.t&_t){if(y instanceof Zt){const S=(i=(s=e.e)==null?void 0:s[o])==null?void 0:i.e[u],w=e.d[S.h];y.p(w);continue}if(x&&typeof x=="object"&&"foreign"in x){const S=p[Ke][u];if(x.unstable&&y!==x){const w=x.current;p[Ke][u]=w,xa.call(p,w,S)}else x.current=S;continue}Ta(p[Ke][u],x==null||x===!1?"":String(x))}else if(h.t&fn)As(p,h.n,x);else if(h.t&Mr)if(typeof x=="string"||typeof x=="number")Dr(p,h.n,x);else for(const S in x)x[S]!==y[S]&&Dr(p,S,x[S]);else Os(p,h.n,x)}}}return r}v(e=null,r=null){jr.call(this.t(),this.l,e?e.l:r)}x(){Ea.call(this.l),this.l=null}u(e,r){return this._u?this._u(e,r):!0}s(){var e;return String((e=this.l)==null?void 0:e.outerHTML)}t(){var e;return this._t||(this._t=(e=this.l)==null?void 0:e.parentElement),this._t}}const js=(t,e,r,n)=>{const s=t.length;if(!s)return e;const i=r&&n!==void 0;if(i&&r[n])return r[n];for(let o=0;o<s;++o){const a=t[o];e=ht(e,a)}return i&&(r[n]=e),e},er=Ns.prototype,kt=er.m,Ct=er.p,yn=er.v,Br=er.x,Ba=er.u,Ia={noSlot:!1},Ir="slot",Ds="g",Fa=({effect:t,deps:e})=>(m.useEffect(t,e||[]),null),Re=new Map,Ua=m.createContext(!1),qa=(t,e,r)=>{const n={ref:e};let s=0;for(const i in t){const o=t[i];if(m.isValidElement(o)||Array.isArray(o)&&o.length&&m.isValidElement(o[0])){n[i]=mn(o,!1,r,s++);continue}n[i]=t[i]}return n},gn=(t,e)=>m.createElement(Ir,{suppressHydrationWarning:!0,id:e},t),mn=(t,e,r,n,s)=>{var d;const i=(d=r==null?void 0:r[n])==null?void 0:d.current,o=m.isValidElement(t)&&typeof t.type=="function"&&"_c"in t.type,a=o&&t.type._c;if(typeof window>"u")return o?a?t:gn(gn(t),s):gn(t,s);if(a){const h=t.type(t.props);if(Re.has(h.type)){const y=Re.get(h.type);if(typeof y=="function")return y(h.props)}}const l=i??(s?document.getElementById(s):null)??document.createElement(Ir),p=ge.createPortal(m.createElement(m.Fragment,{children:t}),l,s),u={foreign:!0,current:l,portal:p,reset:h=>{h.childNodes.forEach(y=>h.removeChild(y))},unstable:e};return r&&(r[n]=u),u},bn=t=>{var s;if(typeof t!="object"||t===null||!("type"in t))return typeof t=="number"?String(t):t;let e=t.type;if(typeof e=="function")return bn(e(t.props??{}));if(typeof e=="object"&&"$"in e)return e;const r={...t.props};"css"in r&&"__EMOTION_TYPE_PLEASE_DO_NOT_USE__"in r&&(r.style=r.css.styles,e=r.__EMOTION_TYPE_PLEASE_DO_NOT_USE__,delete r.__EMOTION_TYPE_PLEASE_DO_NOT_USE__,delete r.css);const n=(s=t.props)==null?void 0:s.children;return n!=null&&(r.children=vn(t.props.children).map(i=>bn(i))),{type:e,props:r}},vn=t=>{if(t==null)return[];if(typeof t=="object"&&"type"in t&&t.type===m.Fragment)return vn(t.props.children);if(!Array.isArray(t)||typeof t=="object"&&"$"in t)return[t];const e=t.flat(1/0),r=[];for(let n=0,s=e.length;n<s;++n)r.push(...vn(e[n]));return r},Bs=typeof window>"u"?m.useEffect:m.useLayoutEffect;function wn(t,e,r){if(!t||e(t))return t;let n=r?t.return:t.child;for(;n;){const s=wn(n,e,r);if(s)return s;n=r?null:n.sibling}}function Is(){const t=m.useRef();return m.useState(()=>{const e=Function.prototype.bind;Function.prototype.bind=function(r,n){return r===null&&typeof(n==null?void 0:n.type)=="function"&&(t.current=n,Function.prototype.bind=e),e.apply(this,arguments)}}),t.current}function Ha(t){const e=Is(),r=m.useRef({el:null,depth:0});return Bs(()=>{var n;r.current.el=(n=wn(e,s=>(r.current.depth++,typeof s.type=="string"&&(t===void 0||s.type===t)),!0))==null?void 0:n.stateNode},[e]),r}function Va(){const t=Is(),e=m.useRef({el:null,depth:0});return Bs(()=>{var r;e.current.el=(r=wn(t,n=>{var s;return e.current.depth++,((s=n.stateNode)==null?void 0:s.containerInfo)!=null},!0))==null?void 0:r.stateNode.containerInfo},[t]),e}const Fs=(t,e={})=>{const r=(e==null?void 0:e.experimental_noSlot)??Ia.noSlot;let n=e==null?void 0:e.block;const s=e!=null&&e.svg?Ds:Ir;t&&(n=Ls(t,bn,e==null?void 0:e.shouldUpdate,e==null?void 0:e.svg));const i=(o,a)=>{var j,z;const l=Va(),p=Ha(),u=o._hmr,d=m.useRef(null),h=m.useRef(null),y=m.useRef([]);o=qa(o,a,y.current),(j=h.current)==null||j.call(h,o);const x=m.useCallback(()=>{var F,se,I;if(!d.current&&!r)return;const M=n(o,o.key);return u&&((F=d.current)!=null&&F.textContent)&&(d.current.textContent=""),r&&(d.current=((se=p.current)==null?void 0:se.el)??((I=l.current)==null?void 0:I.el),(o.scoped||p.current&&l.current&&p.current.depth>l.current.depth)&&(d.current=l.current.el),d.current.childNodes.length&&console.error(new Error(`\`experimental_options.noSlot\` does not support having siblings at the moment.
The block element should be the only child of the \`${vs.call(d.current).outerHTML}\` element.
To avoid this error, \`experimental_options.noSlot\` should be false`))),(h.current===null||u)&&(kt.call(M,d.current,null),h.current=Z=>{Da(M,n(Z,Z.key,e==null?void 0:e.shouldUpdate))}),()=>{Br.call(M)}},[]),S=m.useMemo(()=>r?null:m.createElement((e==null?void 0:e.as)??s,{ref:d}),[]),w=y.current.length,O=new Array(w);for(let M=0;M<w;++M)O[M]=(z=y.current[M])==null?void 0:z.portal;return m.createElement(m.Fragment,{},S,m.createElement(Fa,{effect:x,deps:u?[u]:[]}),O)};return $r.call(Re,i)||Pr.call(Re,i,Fs),e!=null&&e.name&&(t&&(t.displayName=`Million(Render(${e.name}))`),i.displayName=`Million(Block(${e.name}))`),i},za=({each:t,children:e,memo:r,svg:n,as:s,...i})=>{const o=m.useRef(null),[a]=m.useState(()=>({current:Array(t.length)})),l=m.useRef(null),p=m.useRef({each:null,children:null,mounted:!1}),[,u]=m.useState(!1);if(l.current&&(t!==p.current.each||!r)){const y=Us(t,e,p,a,r);Ms.call(l.current,Rs(y))}const d=n?Ds:Ir,h=m.createElement(m.Fragment,null,m.createElement(s??d,{...i,ref:o}),...a.current.map(y=>y.portal));return m.useEffect(()=>{if(!o.current||l.current||p.current.mounted)return;const y=Us(t,e,p,a,r);l.current=Rs(y),$r.call(Re,h)||Pr.call(Re,h,l.current),Ps.call(l.current,o.current),p.current.mounted=!0,u(!0)},[o.current]),h},Qa=m.memo;Qa(za);const Us=(t,e,r,n,s)=>{var a;const i=Array(t.length),o=r.current;for(let l=0,p=t.length;l<p;++l){if(s&&o.each&&o.each[l]===t[l]){i[l]=(a=o.children)==null?void 0:a[l];continue}const u=e(t[l],l);if($r.call(Re,u.type)){o.block||(o.block=ys.call(Re,u.type)),i[l]=o.block(u.props,n,l);continue}if(typeof u.type=="function"&&"_c"in u.type){const y=u.type(u.props);if($r.call(Re,y.type)){const x=ys.call(Re,y.type);if(typeof x=="function"){i[l]=x(y.props);continue}}}const d=Ls(y=>y==null?void 0:y.scope),h=(y,x,S)=>d({scope:mn(m.createElement(u.type,y),!1,x.current,S)},u.key?String(u.key):void 0);Pr.call(Re,u.type,h),o.block=h,i[l]=h(u.props,n,l)}return o.each=t,o.children=i,i};function Wa(t,e){return t===e||t!==t&&e!==e}function Ya(t,e){for(const r in t)if(!Wa(t[r],e[r]))return!0;return!1}function Fr(t,{portals:e,...r}){const n=`CompiledBlock(Inner(${r.name}))`,s=Fs(a=>t(a),{...r,scoped:void 0,name:n,shouldUpdate:Ya}),i=(e==null?void 0:e.length)||0,o=e&&i>0?a=>{const l=m.useContext(Ua),[p]=m.useState(()=>[]),u={...a,scoped:l};for(let h=0;h<i;h++){const y=e[h],x=mn(u[y],!1,p,h);u[y]=x}const d=[];for(let h=0,y=p.length;h<y;h++)d[h]=p[h].portal;return m.createElement(m.Fragment,null,m.createElement(s,u),d)}:a=>m.createElement(s,a);return r.name&&(o.displayName=`Million(CompiledBlock(Outer(${r.name})))`),o}typeof window<"u"&&(window.__MILLION_DATA__={version:"3.0.6"});const tr={MESSAGE:"message",TYPING:"typing",STOP_TYPING:"stop-typing",AGENT_MESSAGE:"agent-message"},qs="user-bot-id",rr="https://api.dialoguebot.tech";console.log("API_URL",rr);var Xe={},re={},fe={};Object.defineProperty(fe,"__esModule",{value:!0}),fe.output=fe.exists=fe.hash=fe.bytes=fe.bool=fe.number=fe.isBytes=void 0;function Ur(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}fe.number=Ur;function Hs(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}fe.bool=Hs;function Vs(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}fe.isBytes=Vs;function xn(t,...e){if(!Vs(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}fe.bytes=xn;function zs(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ur(t.outputLen),Ur(t.blockLen)}fe.hash=zs;function Qs(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}fe.exists=Qs;function Ws(t,e){xn(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}fe.output=Ws;const Ka={number:Ur,bool:Hs,bytes:xn,hash:zs,exists:Qs,output:Ws};fe.default=Ka;var B={};Object.defineProperty(B,"__esModule",{value:!0}),B.add5L=B.add5H=B.add4H=B.add4L=B.add3H=B.add3L=B.add=B.rotlBL=B.rotlBH=B.rotlSL=B.rotlSH=B.rotr32L=B.rotr32H=B.rotrBL=B.rotrBH=B.rotrSL=B.rotrSH=B.shrSL=B.shrSH=B.toBig=B.split=B.fromBig=void 0;const qr=BigInt(2**32-1),En=BigInt(32);function Sn(t,e=!1){return e?{h:Number(t&qr),l:Number(t>>En&qr)}:{h:Number(t>>En&qr)|0,l:Number(t&qr)|0}}B.fromBig=Sn;function Ys(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=Sn(t[s],e);[r[s],n[s]]=[i,o]}return[r,n]}B.split=Ys;const Ks=(t,e)=>BigInt(t>>>0)<<En|BigInt(e>>>0);B.toBig=Ks;const Gs=(t,e,r)=>t>>>r;B.shrSH=Gs;const Xs=(t,e,r)=>t<<32-r|e>>>r;B.shrSL=Xs;const Js=(t,e,r)=>t>>>r|e<<32-r;B.rotrSH=Js;const Zs=(t,e,r)=>t<<32-r|e>>>r;B.rotrSL=Zs;const ei=(t,e,r)=>t<<64-r|e>>>r-32;B.rotrBH=ei;const ti=(t,e,r)=>t>>>r-32|e<<64-r;B.rotrBL=ti;const ri=(t,e)=>e;B.rotr32H=ri;const ni=(t,e)=>t;B.rotr32L=ni;const si=(t,e,r)=>t<<r|e>>>32-r;B.rotlSH=si;const ii=(t,e,r)=>e<<r|t>>>32-r;B.rotlSL=ii;const oi=(t,e,r)=>e<<r-32|t>>>64-r;B.rotlBH=oi;const ai=(t,e,r)=>t<<r-32|e>>>64-r;B.rotlBL=ai;function ci(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}B.add=ci;const li=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0);B.add3L=li;const ui=(t,e,r,n)=>e+r+n+(t/2**32|0)|0;B.add3H=ui;const hi=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0);B.add4L=hi;const fi=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0;B.add4H=fi;const di=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0);B.add5L=di;const pi=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0;B.add5H=pi;const Ga={fromBig:Sn,split:Ys,toBig:Ks,shrSH:Gs,shrSL:Xs,rotrSH:Js,rotrSL:Zs,rotrBH:ei,rotrBL:ti,rotr32H:ri,rotr32L:ni,rotlSH:si,rotlSL:ii,rotlBH:oi,rotlBL:ai,add:ci,add3L:li,add3H:ui,add4L:hi,add4H:fi,add5H:pi,add5L:di};B.default=Ga;var yi={},Hr={};Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.crypto=void 0,Hr.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.byteSwap32=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=t.isBytes=void 0;const e=Hr,r=fe;function n(g){return g instanceof Uint8Array||g!=null&&typeof g=="object"&&g.constructor.name==="Uint8Array"}t.isBytes=n;const s=g=>new Uint8Array(g.buffer,g.byteOffset,g.byteLength);t.u8=s;const i=g=>new Uint32Array(g.buffer,g.byteOffset,Math.floor(g.byteLength/4));t.u32=i;const o=g=>new DataView(g.buffer,g.byteOffset,g.byteLength);t.createView=o;const a=(g,$)=>g<<32-$|g>>>$;t.rotr=a;const l=(g,$)=>g<<$|g>>>32-$>>>0;t.rotl=l,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const p=g=>g<<24&4278190080|g<<8&16711680|g>>>8&65280|g>>>24&255;t.byteSwap=p,t.byteSwapIfBE=t.isLE?g=>g:g=>(0,t.byteSwap)(g);function u(g){for(let $=0;$<g.length;$++)g[$]=(0,t.byteSwap)(g[$])}t.byteSwap32=u;const d=Array.from({length:256},(g,$)=>$.toString(16).padStart(2,"0"));function h(g){(0,r.bytes)(g);let $="";for(let k=0;k<g.length;k++)$+=d[g[k]];return $}t.bytesToHex=h;const y={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function x(g){if(g>=y._0&&g<=y._9)return g-y._0;if(g>=y._A&&g<=y._F)return g-(y._A-10);if(g>=y._a&&g<=y._f)return g-(y._a-10)}function S(g){if(typeof g!="string")throw new Error("hex string expected, got "+typeof g);const $=g.length,k=$/2;if($%2)throw new Error("padded hex string expected, got unpadded hex of length "+$);const b=new Uint8Array(k);for(let v=0,_=0;v<k;v++,_+=2){const C=x(g.charCodeAt(_)),L=x(g.charCodeAt(_+1));if(C===void 0||L===void 0){const D=g[_]+g[_+1];throw new Error('hex string expected, got non-hex character "'+D+'" at index '+_)}b[v]=C*16+L}return b}t.hexToBytes=S;const w=async()=>{};t.nextTick=w;async function O(g,$,k){let b=Date.now();for(let v=0;v<g;v++){k(v);const _=Date.now()-b;_>=0&&_<$||(await(0,t.nextTick)(),b+=_)}}t.asyncLoop=O;function P(g){if(typeof g!="string")throw new Error(`utf8ToBytes expected string, got ${typeof g}`);return new Uint8Array(new TextEncoder().encode(g))}t.utf8ToBytes=P;function j(g){return typeof g=="string"&&(g=P(g)),(0,r.bytes)(g),g}t.toBytes=j;function z(...g){let $=0;for(let b=0;b<g.length;b++){const v=g[b];(0,r.bytes)(v),$+=v.length}const k=new Uint8Array($);for(let b=0,v=0;b<g.length;b++){const _=g[b];k.set(_,v),v+=_.length}return k}t.concatBytes=z;class M{clone(){return this._cloneInto()}}t.Hash=M;const F={}.toString;function se(g,$){if($!==void 0&&F.call($)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(g,$)}t.checkOpts=se;function I(g){const $=b=>g().update(j(b)).digest(),k=g();return $.outputLen=k.outputLen,$.blockLen=k.blockLen,$.create=()=>g(),$}t.wrapConstructor=I;function Z(g){const $=(b,v)=>g(v).update(j(b)).digest(),k=g({});return $.outputLen=k.outputLen,$.blockLen=k.blockLen,$.create=b=>g(b),$}t.wrapConstructorWithOpts=Z;function G(g){const $=(b,v)=>g(v).update(j(b)).digest(),k=g({});return $.outputLen=k.outputLen,$.blockLen=k.blockLen,$.create=b=>g(b),$}t.wrapXOFConstructorWithOpts=G;function V(g=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(g));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=V}(yi),Object.defineProperty(re,"__esModule",{value:!0}),re.shake256=re.shake128=re.keccak_512=re.keccak_384=re.keccak_256=re.keccak_224=re.sha3_512=re.sha3_384=re.sha3_256=re.sha3_224=re.Keccak=re.keccakP=void 0;const Ot=fe,nr=B,ze=yi,gi=[],mi=[],bi=[],Xa=BigInt(0),sr=BigInt(1),Ja=BigInt(2),Za=BigInt(7),ec=BigInt(256),tc=BigInt(113);for(let t=0,e=sr,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],gi.push(2*(5*n+r)),mi.push((t+1)*(t+2)/2%64);let s=Xa;for(let i=0;i<7;i++)e=(e<<sr^(e>>Za)*tc)%ec,e&Ja&&(s^=sr<<(sr<<BigInt(i))-sr);bi.push(s)}const[rc,nc]=(0,nr.split)(bi,!0),vi=(t,e,r)=>r>32?(0,nr.rotlBH)(t,e,r):(0,nr.rotlSH)(t,e,r),wi=(t,e,r)=>r>32?(0,nr.rotlBL)(t,e,r):(0,nr.rotlSL)(t,e,r);function xi(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,p=r[l],u=r[l+1],d=vi(p,u,1)^r[a],h=wi(p,u,1)^r[a+1];for(let y=0;y<50;y+=10)t[o+y]^=d,t[o+y+1]^=h}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=mi[o],l=vi(s,i,a),p=wi(s,i,a),u=gi[o];s=t[u],i=t[u+1],t[u]=l,t[u+1]=p}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=rc[n],t[1]^=nc[n]}r.fill(0)}re.keccakP=xi;class ir extends ze.Hash{constructor(e,r,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,Ot.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,ze.u32)(this.state)}keccak(){ze.isLE||(0,ze.byteSwap32)(this.state32),xi(this.state32,this.rounds),ze.isLE||(0,ze.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(e){(0,Ot.exists)(this);const{blockLen:r,state:n}=this;e=(0,ze.toBytes)(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);for(let a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,r&128&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){(0,Ot.exists)(this,!1),(0,Ot.bytes)(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,Ot.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,Ot.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new ir(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}re.Keccak=ir;const Je=(t,e,r)=>(0,ze.wrapConstructor)(()=>new ir(e,t,r));re.sha3_224=Je(6,144,224/8),re.sha3_256=Je(6,136,256/8),re.sha3_384=Je(6,104,384/8),re.sha3_512=Je(6,72,512/8),re.keccak_224=Je(1,144,224/8),re.keccak_256=Je(1,136,256/8),re.keccak_384=Je(1,104,384/8),re.keccak_512=Je(1,72,512/8);const Ei=(t,e,r)=>(0,ze.wrapXOFConstructorWithOpts)((n={})=>new ir(e,t,n.dkLen===void 0?r:n.dkLen,!0));re.shake128=Ei(31,168,128/8),re.shake256=Ei(31,136,256/8);const{sha3_512:sc}=re,Si=24,or=32,_n=(t=4,e=Math.random)=>{let r="";for(;r.length<t;)r=r+Math.floor(e()*36).toString(36);return r};function _i(t){let e=8n,r=0n;for(const n of t.values()){const s=BigInt(n);r=(r<<e)+s}return r}const ki=(t="")=>_i(sc(t)).toString(36).slice(1),Ci=Array.from({length:26},(t,e)=>String.fromCharCode(e+97)),ic=t=>Ci[Math.floor(t()*Ci.length)],Oi=({globalObj:t=typeof lt<"u"?lt:typeof window<"u"?window:{},random:e=Math.random}={})=>{const r=Object.keys(t).toString(),n=r.length?r+_n(or,e):_n(or,e);return ki(n).substring(0,or)},Ai=t=>()=>t++,oc=476782367,Ti=({random:t=Math.random,counter:e=Ai(Math.floor(t()*oc)),length:r=Si,fingerprint:n=Oi({random:t})}={})=>function(){const i=ic(t),o=Date.now().toString(36),a=e().toString(36),l=_n(r,t),p=`${o+l+a+n}`;return`${i+ki(p).substring(1,r)}`},ac=Ti(),cc=(t,{minLength:e=2,maxLength:r=or}={})=>{const n=t.length,s=/^[0-9a-z]+$/;try{if(typeof t=="string"&&n>=e&&n<=r&&s.test(t))return!0}finally{}return!1};Xe.getConstants=()=>({defaultLength:Si,bigLength:or}),Xe.init=Ti,Xe.createId=ac,Xe.bufToBigInt=_i,Xe.createCounter=Ai,Xe.createFingerprint=Oi,Xe.isCuid=cc;const{createId:lc,init:dh,getConstants:ph,isCuid:yh}=Xe;var uc=lc;const Se=()=>{const t=uc(),e=localStorage.getItem(qs);return e||(localStorage.setItem(qs,t),t)},Ri=(t,e)=>{const r=e||Se();return`${t}_${r}`},$i=t=>{var e;(e=window.open(t,"_blank"))==null||e.focus()},kn=t=>{t=t.replace(/^#/,"");const e=parseInt(t,16);let r=e>>16&255,n=e>>8&255,s=e&255;r/=255,n/=255,s/=255;const i=Math.max(r,n,s),o=Math.min(r,n,s);let a=0,l;const p=(i+o)/2;if(i===o)a=l=0;else{const u=i-o;switch(l=p>.5?u/(2-i-o):u/(i+o),i){case r:a=(n-s)/u+(n<s?6:0);break;case n:a=(s-r)/u+2;break;case s:a=(r-n)/u+4;break}a/=6}return a*=360,{h:Math.round(a),s:Math.round(l*100),l:Math.round(p*100)}};var ar=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},At=typeof window>"u"||"Deno"in globalThis;function ke(){}function hc(t,e){return typeof t=="function"?t(e):t}function Cn(t){return typeof t=="number"&&t>=0&&t!==1/0}function Pi(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Mi(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==On(o,e.options))return!1}else if(!lr(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Li(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(cr(e.options.mutationKey)!==cr(i))return!1}else if(!lr(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function On(t,e){return((e==null?void 0:e.queryKeyHashFn)||cr)(t)}function cr(t){return JSON.stringify(t,(e,r)=>Tn(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function lr(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!lr(t[r],e[r])):!1}function Ni(t,e){if(t===e)return t;const r=ji(t)&&ji(e);if(r||Tn(t)&&Tn(e)){const n=r?t:Object.keys(t),s=n.length,i=r?e:Object.keys(e),o=i.length,a=r?[]:{};let l=0;for(let p=0;p<o;p++){const u=r?p:i[p];!r&&t[u]===void 0&&e[u]===void 0&&n.includes(u)?(a[u]=void 0,l++):(a[u]=Ni(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function An(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function ji(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Tn(t){if(!Di(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Di(r)||!r.hasOwnProperty("isPrototypeOf"))}function Di(t){return Object.prototype.toString.call(t)==="[object Object]"}function fc(t){return new Promise(e=>{setTimeout(e,t)})}function Rn(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Ni(t,e):e}function dc(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function pc(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var ur=Symbol(),yc=(Bo=class extends ar{constructor(){super();N(this,yt,void 0);N(this,tt,void 0);N(this,$t,void 0);R(this,$t,e=>{if(!At&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){f(this,tt)||this.setEventListener(f(this,$t))}onUnsubscribe(){var e;this.hasListeners()||((e=f(this,tt))==null||e.call(this),R(this,tt,void 0))}setEventListener(e){var r;R(this,$t,e),(r=f(this,tt))==null||r.call(this),R(this,tt,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){f(this,yt)!==e&&(R(this,yt,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof f(this,yt)=="boolean"?f(this,yt):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},yt=new WeakMap,tt=new WeakMap,$t=new WeakMap,Bo),$n=new yc,gc=(Io=class extends ar{constructor(){super();N(this,Pt,!0);N(this,rt,void 0);N(this,Mt,void 0);R(this,Mt,e=>{if(!At&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){f(this,rt)||this.setEventListener(f(this,Mt))}onUnsubscribe(){var e;this.hasListeners()||((e=f(this,rt))==null||e.call(this),R(this,rt,void 0))}setEventListener(e){var r;R(this,Mt,e),(r=f(this,rt))==null||r.call(this),R(this,rt,e(this.setOnline.bind(this)))}setOnline(e){f(this,Pt)!==e&&(R(this,Pt,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return f(this,Pt)}},Pt=new WeakMap,rt=new WeakMap,Mt=new WeakMap,Io),Vr=new gc;function mc(t){return Math.min(1e3*2**t,3e4)}function Pn(t){return(t??"online")==="online"?Vr.isOnline():!0}var Bi=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Mn(t){return t instanceof Bi}function Ii(t){let e=!1,r=0,n=!1,s,i,o;const a=new Promise((w,O)=>{i=w,o=O}),l=w=>{var O;n||(y(new Bi(w)),(O=t.abort)==null||O.call(t))},p=()=>{e=!0},u=()=>{e=!1},d=()=>!$n.isFocused()||t.networkMode!=="always"&&!Vr.isOnline(),h=w=>{var O;n||(n=!0,(O=t.onSuccess)==null||O.call(t,w),s==null||s(),i(w))},y=w=>{var O;n||(n=!0,(O=t.onError)==null||O.call(t,w),s==null||s(),o(w))},x=()=>new Promise(w=>{var O;s=P=>{const j=n||!d();return j&&w(P),j},(O=t.onPause)==null||O.call(t)}).then(()=>{var w;s=void 0,n||(w=t.onContinue)==null||w.call(t)}),S=()=>{if(n)return;let w;try{w=t.fn()}catch(O){w=Promise.reject(O)}Promise.resolve(w).then(h).catch(O=>{var F;if(n)return;const P=t.retry??(At?0:3),j=t.retryDelay??mc,z=typeof j=="function"?j(r,O):j,M=P===!0||typeof P=="number"&&r<P||typeof P=="function"&&P(r,O);if(e||!M){y(O);return}r++,(F=t.onFail)==null||F.call(t,r,O),fc(z).then(()=>{if(d())return x()}).then(()=>{e?y(O):S()})})};return Pn(t.networkMode)?S():x().then(S),{promise:a,cancel:l,continue:()=>(s==null?void 0:s())?a:Promise.resolve(),cancelRetry:p,continueRetry:u}}function bc(){let t=[],e=0,r=h=>{h()},n=h=>{h()},s=h=>setTimeout(h,0);const i=h=>{s=h},o=h=>{let y;e++;try{y=h()}finally{e--,e||p()}return y},a=h=>{e?t.push(h):s(()=>{r(h)})},l=h=>(...y)=>{a(()=>{h(...y)})},p=()=>{const h=t;t=[],h.length&&s(()=>{n(()=>{h.forEach(y=>{r(y)})})})};return{batch:o,batchCalls:l,schedule:a,setNotifyFunction:h=>{r=h},setBatchNotifyFunction:h=>{n=h},setScheduler:i}}var ye=bc(),Fi=(Fo=class{constructor(){N(this,gt,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cn(this.gcTime)&&R(this,gt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(At?1/0:5*60*1e3))}clearGcTimeout(){f(this,gt)&&(clearTimeout(f(this,gt)),R(this,gt,void 0))}},gt=new WeakMap,Fo),vc=(Uo=class extends Fi{constructor(e){super();N(this,Pe);N(this,Lt,void 0);N(this,Nt,void 0);N(this,Oe,void 0);N(this,be,void 0);N(this,de,void 0);N(this,gr,void 0);N(this,mt,void 0);R(this,mt,!1),R(this,gr,e.defaultOptions),this.setOptions(e.options),R(this,de,[]),R(this,Oe,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,R(this,Lt,e.state||wc(this.options)),this.state=f(this,Lt),this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...f(this,gr),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!f(this,de).length&&this.state.fetchStatus==="idle"&&f(this,Oe).remove(this)}setData(e,r){const n=Rn(this.state.data,e,this.options);return Y(this,Pe,Ye).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Y(this,Pe,Ye).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=f(this,be))==null?void 0:n.promise;return(s=f(this,be))==null||s.cancel(e),r?r.then(ke).catch(ke):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(f(this,Lt))}isActive(){return f(this,de).some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?f(this,de).some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Pi(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=f(this,de).find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=f(this,be))==null||r.continue()}onOnline(){var r;const e=f(this,de).find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=f(this,be))==null||r.continue()}addObserver(e){f(this,de).includes(e)||(f(this,de).push(e),this.clearGcTimeout(),f(this,Oe).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){f(this,de).includes(e)&&(R(this,de,f(this,de).filter(r=>r!==e)),f(this,de).length||(f(this,be)&&(f(this,mt)?f(this,be).cancel({revert:!0}):f(this,be).cancelRetry()),this.scheduleGc()),f(this,Oe).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return f(this,de).length}invalidate(){this.state.isInvalidated||Y(this,Pe,Ye).call(this,{type:"invalidate"})}fetch(e,r){var p,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(f(this,be))return f(this,be).continueRetry(),f(this,be).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=f(this,de).find(y=>y.options.queryFn);h&&this.setOptions(h.options)}process.env.NODE_ENV!=="production"&&(Array.isArray(this.options.queryKey)||console.error("As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']"));const n=new AbortController,s={queryKey:this.queryKey,meta:this.meta},i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(R(this,mt,!0),n.signal)})};i(s);const o=()=>(process.env.NODE_ENV!=="production"&&this.options.queryFn===ur&&console.error(`Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${this.options.queryHash}'`),!this.options.queryFn||this.options.queryFn===ur?Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)):(R(this,mt,!1),this.options.persister?this.options.persister(this.options.queryFn,s,this):this.options.queryFn(s))),a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(p=this.options.behavior)==null||p.onFetch(a,this),R(this,Nt,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Y(this,Pe,Ye).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=h=>{var y,x,S,w;Mn(h)&&h.silent||Y(this,Pe,Ye).call(this,{type:"error",error:h}),Mn(h)||((x=(y=f(this,Oe).config).onError)==null||x.call(y,h,this),(w=(S=f(this,Oe).config).onSettled)==null||w.call(S,this.state.data,h,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return R(this,be,Ii({fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var y,x,S,w;if(h===void 0){process.env.NODE_ENV!=="production"&&console.error(`Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`),l(new Error(`${this.queryHash} data is undefined`));return}this.setData(h),(x=(y=f(this,Oe).config).onSuccess)==null||x.call(y,h,this),(w=(S=f(this,Oe).config).onSettled)==null||w.call(S,h,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:l,onFail:(h,y)=>{Y(this,Pe,Ye).call(this,{type:"failed",failureCount:h,error:y})},onPause:()=>{Y(this,Pe,Ye).call(this,{type:"pause"})},onContinue:()=>{Y(this,Pe,Ye).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode})),f(this,be).promise}},Lt=new WeakMap,Nt=new WeakMap,Oe=new WeakMap,be=new WeakMap,de=new WeakMap,gr=new WeakMap,mt=new WeakMap,Pe=new WeakSet,Ye=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Ui(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Mn(s)&&s.revert&&f(this,Nt)?{...f(this,Nt),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),ye.batch(()=>{f(this,de).forEach(n=>{n.onQueryUpdate()}),f(this,Oe).notify({query:this,type:"updated",action:e})})},Uo);function Ui(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Pn(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function wc(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var xc=(qo=class extends ar{constructor(e={}){super();N(this,De,void 0);this.config=e,R(this,De,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??On(s,r);let o=this.get(i);return o||(o=new vc({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){f(this,De).has(e.queryHash)||(f(this,De).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=f(this,De).get(e.queryHash);r&&(e.destroy(),r===e&&f(this,De).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ye.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return f(this,De).get(e)}getAll(){return[...f(this,De).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Mi(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Mi(e,n)):r}notify(e){ye.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){ye.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ye.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},De=new WeakMap,qo),Ec=(Ho=class extends Fi{constructor(e){super();N(this,Ie);N(this,Be,void 0);N(this,mr,void 0);N(this,_e,void 0);N(this,jt,void 0);this.mutationId=e.mutationId,R(this,mr,e.defaultOptions),R(this,_e,e.mutationCache),R(this,Be,[]),this.state=e.state||Sc(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...f(this,mr),...e},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){f(this,Be).includes(e)||(f(this,Be).push(e),this.clearGcTimeout(),f(this,_e).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){R(this,Be,f(this,Be).filter(r=>r!==e)),this.scheduleGc(),f(this,_e).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){f(this,Be).length||(this.state.status==="pending"?this.scheduleGc():f(this,_e).remove(this))}continue(){var e;return((e=f(this,jt))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,p,u,d,h,y,x,S,w,O,P,j,z,M,F,se;const r=()=>(R(this,jt,Ii({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(I,Z)=>{Y(this,Ie,ct).call(this,{type:"failed",failureCount:I,error:Z})},onPause:()=>{Y(this,Ie,ct).call(this,{type:"pause"})},onContinue:()=>{Y(this,Ie,ct).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),f(this,jt).promise),n=this.state.status==="pending";try{if(!n){Y(this,Ie,ct).call(this,{type:"pending",variables:e}),await((i=(s=f(this,_e).config).onMutate)==null?void 0:i.call(s,e,this));const Z=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));Z!==this.state.context&&Y(this,Ie,ct).call(this,{type:"pending",context:Z,variables:e})}const I=await r();return await((p=(l=f(this,_e).config).onSuccess)==null?void 0:p.call(l,I,e,this.state.context,this)),await((d=(u=this.options).onSuccess)==null?void 0:d.call(u,I,e,this.state.context)),await((y=(h=f(this,_e).config).onSettled)==null?void 0:y.call(h,I,null,this.state.variables,this.state.context,this)),await((S=(x=this.options).onSettled)==null?void 0:S.call(x,I,null,e,this.state.context)),Y(this,Ie,ct).call(this,{type:"success",data:I}),I}catch(I){try{throw await((O=(w=f(this,_e).config).onError)==null?void 0:O.call(w,I,e,this.state.context,this)),await((j=(P=this.options).onError)==null?void 0:j.call(P,I,e,this.state.context)),await((M=(z=f(this,_e).config).onSettled)==null?void 0:M.call(z,void 0,I,this.state.variables,this.state.context,this)),await((se=(F=this.options).onSettled)==null?void 0:se.call(F,void 0,I,e,this.state.context)),I}finally{Y(this,Ie,ct).call(this,{type:"error",error:I})}}}},Be=new WeakMap,mr=new WeakMap,_e=new WeakMap,jt=new WeakMap,Ie=new WeakSet,ct=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Pn(this.options.networkMode),status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ye.batch(()=>{f(this,Be).forEach(n=>{n.onMutationUpdate(e)}),f(this,_e).notify({mutation:this,type:"updated",action:e})})},Ho);function Sc(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _c=(Vo=class extends ar{constructor(e={}){super();N(this,Ae,void 0);N(this,br,void 0);N(this,bt,void 0);this.config=e,R(this,Ae,[]),R(this,br,0)}build(e,r,n){const s=new Ec({mutationCache:this,mutationId:++ln(this,br)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){f(this,Ae).push(e),this.notify({type:"added",mutation:e})}remove(e){R(this,Ae,f(this,Ae).filter(r=>r!==e)),this.notify({type:"removed",mutation:e})}clear(){ye.batch(()=>{f(this,Ae).forEach(e=>{this.remove(e)})})}getAll(){return f(this,Ae)}find(e){const r={exact:!0,...e};return f(this,Ae).find(n=>Li(r,n))}findAll(e={}){return f(this,Ae).filter(r=>Li(e,r))}notify(e){ye.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){return R(this,bt,(f(this,bt)??Promise.resolve()).then(()=>{const e=f(this,Ae).filter(r=>r.state.isPaused);return ye.batch(()=>e.reduce((r,n)=>r.then(()=>n.continue().catch(ke)),Promise.resolve()))}).then(()=>{R(this,bt,void 0)})),f(this,bt)}},Ae=new WeakMap,br=new WeakMap,bt=new WeakMap,Vo);function kc(t){return{onFetch:(e,r)=>{const n=async()=>{var x,S,w,O,P;const s=e.options,i=(w=(S=(x=e.fetchOptions)==null?void 0:x.meta)==null?void 0:S.fetchMore)==null?void 0:w.direction,o=((O=e.state.data)==null?void 0:O.pages)||[],a=((P=e.state.data)==null?void 0:P.pageParams)||[],l={pages:[],pageParams:[]};let p=!1;const u=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},d=e.options.queryFn&&e.options.queryFn!==ur?e.options.queryFn:()=>(process.env.NODE_ENV!=="production"&&e.options.queryFn===ur&&console.error(`Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${e.options.queryHash}'`),Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`))),h=async(j,z,M)=>{if(p)return Promise.reject();if(z==null&&j.pages.length)return Promise.resolve(j);const F={queryKey:e.queryKey,pageParam:z,direction:M?"backward":"forward",meta:e.options.meta};u(F);const se=await d(F),{maxPages:I}=e.options,Z=M?pc:dc;return{pages:Z(j.pages,se,I),pageParams:Z(j.pageParams,z,I)}};let y;if(i&&o.length){const j=i==="backward",z=j?Cc:qi,M={pages:o,pageParams:a},F=z(s,M);y=await h(M,F,j)}else{y=await h(l,a[0]??s.initialPageParam);const j=t??o.length;for(let z=1;z<j;z++){const M=qi(s,y);y=await h(y,M)}}return y};e.options.persister?e.fetchFn=()=>{var s,i;return(i=(s=e.options).persister)==null?void 0:i.call(s,n,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=n}}}function qi(t,{pages:e,pageParams:r}){const n=e.length-1;return t.getNextPageParam(e[n],e,r[n],r)}function Cc(t,{pages:e,pageParams:r}){var n;return(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r)}var Oc=(zo=class{constructor(t={}){N(this,oe,void 0);N(this,nt,void 0);N(this,st,void 0);N(this,Dt,void 0);N(this,Bt,void 0);N(this,it,void 0);N(this,It,void 0);N(this,Ft,void 0);R(this,oe,t.queryCache||new xc),R(this,nt,t.mutationCache||new _c),R(this,st,t.defaultOptions||{}),R(this,Dt,new Map),R(this,Bt,new Map),R(this,it,0)}mount(){ln(this,it)._++,f(this,it)===1&&(R(this,It,$n.subscribe(async t=>{t&&(await this.resumePausedMutations(),f(this,oe).onFocus())})),R(this,Ft,Vr.subscribe(async t=>{t&&(await this.resumePausedMutations(),f(this,oe).onOnline())})))}unmount(){var t,e;ln(this,it)._--,f(this,it)===0&&((t=f(this,It))==null||t.call(this),R(this,It,void 0),(e=f(this,Ft))==null||e.call(this),R(this,Ft,void 0))}isFetching(t){return f(this,oe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return f(this,nt).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=f(this,oe).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=f(this,oe).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(r.staleTime)&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return f(this,oe).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=f(this,oe).get(n.queryHash),i=s==null?void 0:s.state.data,o=hc(e,i);if(o!==void 0)return f(this,oe).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return ye.batch(()=>f(this,oe).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=f(this,oe).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=f(this,oe);ye.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=f(this,oe),n={type:"active",...t};return ye.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=ye.batch(()=>f(this,oe).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(ke).catch(ke)}invalidateQueries(t={},e={}){return ye.batch(()=>{if(f(this,oe).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=ye.batch(()=>f(this,oe).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(ke)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ke)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=f(this,oe).build(this,e);return r.isStaleByTime(e.staleTime)?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ke).catch(ke)}fetchInfiniteQuery(t){return t.behavior=kc(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ke).catch(ke)}resumePausedMutations(){return Vr.isOnline()?f(this,nt).resumePausedMutations():Promise.resolve()}getQueryCache(){return f(this,oe)}getMutationCache(){return f(this,nt)}getDefaultOptions(){return f(this,st)}setDefaultOptions(t){R(this,st,t)}setQueryDefaults(t,e){f(this,Dt).set(cr(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...f(this,Dt).values()];let r={};return e.forEach(n=>{lr(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){f(this,Bt).set(cr(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...f(this,Bt).values()];let r={};return e.forEach(n=>{lr(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...f(this,st).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=On(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===ur&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...f(this,st).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){f(this,oe).clear(),f(this,nt).clear()}},oe=new WeakMap,nt=new WeakMap,st=new WeakMap,Dt=new WeakMap,Bt=new WeakMap,it=new WeakMap,It=new WeakMap,Ft=new WeakMap,zo),Ac=(Qo=class extends ar{constructor(e,r){super();N(this,Et);N(this,xr);N(this,Er);N(this,Sr);N(this,_r);N(this,kr);N(this,Cr);N(this,Or);N(this,sn);N(this,xe,void 0);N(this,ne,void 0);N(this,vr,void 0);N(this,ve,void 0);N(this,vt,void 0);N(this,Ut,void 0);N(this,Fe,void 0);N(this,wr,void 0);N(this,qt,void 0);N(this,Ht,void 0);N(this,wt,void 0);N(this,xt,void 0);N(this,ot,void 0);N(this,Vt,new Set);this.options=r,R(this,xe,e),R(this,Fe,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(f(this,ne).addObserver(this),Hi(f(this,ne),this.options)?Y(this,Et,Tr).call(this):this.updateResult(),Y(this,_r,cs).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ln(f(this,ne),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ln(f(this,ne),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Y(this,kr,ls).call(this),Y(this,Cr,us).call(this),f(this,ne).removeObserver(this)}setOptions(e,r){const n=this.options,s=f(this,ne);if(this.options=f(this,xe).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");Y(this,Or,hs).call(this),f(this,ne).setOptions(this.options),n._defaulted&&!An(this.options,n)&&f(this,xe).getQueryCache().notify({type:"observerOptionsUpdated",query:f(this,ne),observer:this});const i=this.hasListeners();i&&Vi(f(this,ne),s,this.options,n)&&Y(this,Et,Tr).call(this),this.updateResult(r),i&&(f(this,ne)!==s||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&Y(this,xr,is).call(this);const o=Y(this,Er,os).call(this);i&&(f(this,ne)!==s||this.options.enabled!==n.enabled||o!==f(this,ot))&&Y(this,Sr,as).call(this,o)}getOptimisticResult(e){const r=f(this,xe).getQueryCache().build(f(this,xe),e),n=this.createResult(r,e);return Rc(this,n)&&(R(this,ve,n),R(this,Ut,this.options),R(this,vt,f(this,ne).state)),n}getCurrentResult(){return f(this,ve)}trackResult(e,r){const n={};return Object.keys(e).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),e[s])})}),n}trackProp(e){f(this,Vt).add(e)}getCurrentQuery(){return f(this,ne)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=f(this,xe).defaultQueryOptions(e),n=f(this,xe).getQueryCache().build(f(this,xe),r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Y(this,Et,Tr).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),f(this,ve)))}createResult(e,r){var se;const n=f(this,ne),s=this.options,i=f(this,ve),o=f(this,vt),a=f(this,Ut),p=e!==n?e.state:f(this,vr),{state:u}=e;let d={...u},h=!1,y;if(r._optimisticResults){const I=this.hasListeners(),Z=!I&&Hi(e,r),G=I&&Vi(e,n,r,s);(Z||G)&&(d={...d,...Ui(u.data,e.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:x,errorUpdatedAt:S,status:w}=d;if(r.select&&d.data!==void 0)if(i&&d.data===(o==null?void 0:o.data)&&r.select===f(this,wr))y=f(this,qt);else try{R(this,wr,r.select),y=r.select(d.data),y=Rn(i==null?void 0:i.data,y,r),R(this,qt,y),R(this,Fe,null)}catch(I){R(this,Fe,I)}else y=d.data;if(r.placeholderData!==void 0&&y===void 0&&w==="pending"){let I;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData))I=i.data;else if(I=typeof r.placeholderData=="function"?r.placeholderData((se=f(this,Ht))==null?void 0:se.state.data,f(this,Ht)):r.placeholderData,r.select&&I!==void 0)try{I=r.select(I),R(this,Fe,null)}catch(Z){R(this,Fe,Z)}I!==void 0&&(w="success",y=Rn(i==null?void 0:i.data,I,r),h=!0)}f(this,Fe)&&(x=f(this,Fe),y=f(this,qt),S=Date.now(),w="error");const O=d.fetchStatus==="fetching",P=w==="pending",j=w==="error",z=P&&O,M=y!==void 0;return{status:w,fetchStatus:d.fetchStatus,isPending:P,isSuccess:w==="success",isError:j,isInitialLoading:z,isLoading:z,data:y,dataUpdatedAt:d.dataUpdatedAt,error:x,errorUpdatedAt:S,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>p.dataUpdateCount||d.errorUpdateCount>p.errorUpdateCount,isFetching:O,isRefetching:O&&!P,isLoadingError:j&&!M,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:j&&M,isStale:Nn(e,r),refetch:this.refetch}}updateResult(e){const r=f(this,ve),n=this.createResult(f(this,ne),this.options);if(R(this,vt,f(this,ne).state),R(this,Ut,this.options),f(this,vt).data!==void 0&&R(this,Ht,f(this,ne)),An(n,r))return;R(this,ve,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!f(this,Vt).size)return!0;const l=new Set(a??f(this,Vt));return this.options.throwOnError&&l.add("error"),Object.keys(f(this,ve)).some(p=>{const u=p;return f(this,ve)[u]!==r[u]&&l.has(u)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),Y(this,sn,oa).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Y(this,_r,cs).call(this)}},xe=new WeakMap,ne=new WeakMap,vr=new WeakMap,ve=new WeakMap,vt=new WeakMap,Ut=new WeakMap,Fe=new WeakMap,wr=new WeakMap,qt=new WeakMap,Ht=new WeakMap,wt=new WeakMap,xt=new WeakMap,ot=new WeakMap,Vt=new WeakMap,Et=new WeakSet,Tr=function(e){Y(this,Or,hs).call(this);let r=f(this,ne).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(ke)),r},xr=new WeakSet,is=function(){if(Y(this,kr,ls).call(this),At||f(this,ve).isStale||!Cn(this.options.staleTime))return;const r=Pi(f(this,ve).dataUpdatedAt,this.options.staleTime)+1;R(this,wt,setTimeout(()=>{f(this,ve).isStale||this.updateResult()},r))},Er=new WeakSet,os=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(f(this,ne)):this.options.refetchInterval)??!1},Sr=new WeakSet,as=function(e){Y(this,Cr,us).call(this),R(this,ot,e),!(At||this.options.enabled===!1||!Cn(f(this,ot))||f(this,ot)===0)&&R(this,xt,setInterval(()=>{(this.options.refetchIntervalInBackground||$n.isFocused())&&Y(this,Et,Tr).call(this)},f(this,ot)))},_r=new WeakSet,cs=function(){Y(this,xr,is).call(this),Y(this,Sr,as).call(this,Y(this,Er,os).call(this))},kr=new WeakSet,ls=function(){f(this,wt)&&(clearTimeout(f(this,wt)),R(this,wt,void 0))},Cr=new WeakSet,us=function(){f(this,xt)&&(clearInterval(f(this,xt)),R(this,xt,void 0))},Or=new WeakSet,hs=function(){const e=f(this,xe).getQueryCache().build(f(this,xe),this.options);if(e===f(this,ne))return;const r=f(this,ne);R(this,ne,e),R(this,vr,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},sn=new WeakSet,oa=function(e){ye.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(f(this,ve))}),f(this,xe).getQueryCache().notify({query:f(this,ne),type:"observerResultsUpdated"})})},Qo);function Tc(t,e){return e.enabled!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Hi(t,e){return Tc(t,e)||t.state.data!==void 0&&Ln(t,e,e.refetchOnMount)}function Ln(t,e,r){if(e.enabled!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Nn(t,e)}return!1}function Vi(t,e,r,n){return(t!==e||n.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&Nn(t,r)}function Nn(t,e){return e.enabled!==!1&&t.isStaleByTime(e.staleTime)}function Rc(t,e){return!An(t.getCurrentResult(),e)}var zi=me.createContext(void 0),Qi=t=>{const e=me.useContext(zi);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},$c=({client:t,children:e})=>(me.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),T.jsx(zi.Provider,{value:t,children:e})),Wi=me.createContext(!1),Pc=()=>me.useContext(Wi);Wi.Provider;function Mc(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Lc=me.createContext(Mc()),Nc=()=>me.useContext(Lc);function jc(t,e){return typeof t=="function"?t(...e):!!t}var Dc=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},Bc=t=>{me.useEffect(()=>{t.clearReset()},[t])},Ic=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&jc(r,[t.error,n]),Fc=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},Uc=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,qc=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Hc(t,e,r){if(process.env.NODE_ENV!=="production"&&(typeof t!="object"||Array.isArray(t)))throw new Error('Bad argument type. Starting with v5, only the "Object" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object');const n=Qi(r),s=Pc(),i=Nc(),o=n.defaultQueryOptions(t);o._optimisticResults=s?"isRestoring":"optimistic",Fc(o),Dc(o,i),Bc(i);const[a]=me.useState(()=>new e(n,o)),l=a.getOptimisticResult(o);if(me.useSyncExternalStore(me.useCallback(p=>{const u=s?()=>{}:a.subscribe(ye.batchCalls(p));return a.updateResult(),u},[a,s]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),me.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),Uc(o,l))throw qc(o,a,i);if(Ic({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw l.error;return o.notifyOnChangeProps?l:a.trackResult(l)}function Yi(t,e){return Hc(t,Ac,e)}const Ne=Object.create(null);Ne.open="0",Ne.close="1",Ne.ping="2",Ne.pong="3",Ne.message="4",Ne.upgrade="5",Ne.noop="6";const zr=Object.create(null);Object.keys(Ne).forEach(t=>{zr[Ne[t]]=t});const jn={type:"error",data:"parser error"},Ki=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Gi=typeof ArrayBuffer=="function",Xi=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Dn=({type:t,data:e},r,n)=>Ki&&e instanceof Blob?r?n(e):Ji(e,n):Gi&&(e instanceof ArrayBuffer||Xi(e))?r?n(e):Ji(new Blob([e]),n):n(Ne[t]+(e||"")),Ji=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function Zi(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Bn;function Vc(t,e){if(Ki&&t.data instanceof Blob)return t.data.arrayBuffer().then(Zi).then(e);if(Gi&&(t.data instanceof ArrayBuffer||Xi(t.data)))return e(Zi(t.data));Dn(t,!1,r=>{Bn||(Bn=new TextEncoder),e(Bn.encode(r))})}const eo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hr=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<eo.length;t++)hr[eo.charCodeAt(t)]=t;const zc=t=>{let e=t.length*.75,r=t.length,n,s=0,i,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const p=new ArrayBuffer(e),u=new Uint8Array(p);for(n=0;n<r;n+=4)i=hr[t.charCodeAt(n)],o=hr[t.charCodeAt(n+1)],a=hr[t.charCodeAt(n+2)],l=hr[t.charCodeAt(n+3)],u[s++]=i<<2|o>>4,u[s++]=(o&15)<<4|a>>2,u[s++]=(a&3)<<6|l&63;return p},Qc=typeof ArrayBuffer=="function",In=(t,e)=>{if(typeof t!="string")return{type:"message",data:to(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:Wc(t.substring(1),e)}:zr[r]?t.length>1?{type:zr[r],data:t.substring(1)}:{type:zr[r]}:jn},Wc=(t,e)=>{if(Qc){const r=zc(t);return to(r,e)}else return{base64:!0,data:t}},to=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},ro="",Yc=(t,e)=>{const r=t.length,n=new Array(r);let s=0;t.forEach((i,o)=>{Dn(i,!1,a=>{n[o]=a,++s===r&&e(n.join(ro))})})},Kc=(t,e)=>{const r=t.split(ro),n=[];for(let s=0;s<r.length;s++){const i=In(r[s],e);if(n.push(i),i.type==="error")break}return n};function Gc(){return new TransformStream({transform(t,e){Vc(t,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(r)})}})}let Fn;function Qr(t){return t.reduce((e,r)=>e+r.length,0)}function Wr(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let s=0;s<e;s++)r[s]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function Xc(t,e){Fn||(Fn=new TextDecoder);const r=[];let n=0,s=-1,i=!1;return new TransformStream({transform(o,a){for(r.push(o);;){if(n===0){if(Qr(r)<1)break;const l=Wr(r,1);i=(l[0]&128)===128,s=l[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(Qr(r)<2)break;const l=Wr(r,2);s=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),n=3}else if(n===2){if(Qr(r)<8)break;const l=Wr(r,8),p=new DataView(l.buffer,l.byteOffset,l.length),u=p.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(jn);break}s=u*Math.pow(2,32)+p.getUint32(4),n=3}else{if(Qr(r)<s)break;const l=Wr(r,s);a.enqueue(In(i?l:Fn.decode(l),e)),n=0}if(s===0||s>t){a.enqueue(jn);break}}}})}const no=4;function le(t){if(t)return Jc(t)}function Jc(t){for(var e in le.prototype)t[e]=le.prototype[e];return t}le.prototype.on=le.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},le.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},le.prototype.off=le.prototype.removeListener=le.prototype.removeAllListeners=le.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,s=0;s<r.length;s++)if(n=r[s],n===e||n.fn===e){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+t],this},le.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,s=r.length;n<s;++n)r[n].apply(this,e)}return this},le.prototype.emitReserved=le.prototype.emit,le.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},le.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Ce=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function so(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const Zc=Ce.setTimeout,el=Ce.clearTimeout;function Yr(t,e){e.useNativeTimers?(t.setTimeoutFn=Zc.bind(Ce),t.clearTimeoutFn=el.bind(Ce)):(t.setTimeoutFn=Ce.setTimeout.bind(Ce),t.clearTimeoutFn=Ce.clearTimeout.bind(Ce))}const tl=1.33;function rl(t){return typeof t=="string"?nl(t):Math.ceil((t.byteLength||t.size)*tl)}function nl(t){let e=0,r=0;for(let n=0,s=t.length;n<s;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function sl(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function il(t){let e={},r=t.split("&");for(let n=0,s=r.length;n<s;n++){let i=r[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class ol extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class Un extends le{constructor(e){super(),this.writable=!1,Yr(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,r,n){return super.emitReserved("error",new ol(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=In(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=sl(e);return r.length?"?"+r:""}}const io="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),qn=64,al={};let oo=0,Kr=0,ao;function co(t){let e="";do e=io[t%qn]+e,t=Math.floor(t/qn);while(t>0);return e}function lo(){const t=co(+new Date);return t!==ao?(oo=0,ao=t):t+"."+co(oo++)}for(;Kr<qn;Kr++)al[io[Kr]]=Kr;let uo=!1;try{uo=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const cl=uo;function ho(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||cl))return new XMLHttpRequest}catch{}if(!e)try{return new Ce[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function gh(){}function ll(){}const ul=function(){return new ho({xdomain:!1}).responseType!=null}();class hl extends Un{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}const r=e&&e.forceBase64;this.supportsBinary=ul&&!r,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Kc(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Yc(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=lo()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new je(this.uri(),e)}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}class je extends le{constructor(e,r){super(),Yr(this,r),this.opts=r,this.method=r.method||"GET",this.uri=e,this.data=r.data!==void 0?r.data:null,this.create()}create(){var e;const r=so(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd;const n=this.xhr=new ho(r);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this.opts.cookieJar)===null||s===void 0||s.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=je.requestsCount++,je.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=ll,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete je.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(je.requestsCount=0,je.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",fo);else if(typeof addEventListener=="function"){const t="onpagehide"in Ce?"pagehide":"unload";addEventListener(t,fo,!1)}}function fo(){for(let t in je.requests)je.requests.hasOwnProperty(t)&&je.requests[t].abort()}const Hn=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),Gr=Ce.WebSocket||Ce.MozWebSocket,po=!0,fl="arraybuffer",yo=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class dl extends Un{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),r=this.opts.protocols,n=yo?{}:so(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=po&&!yo?r?new Gr(e,r):new Gr(e):new Gr(e,r,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],s=r===e.length-1;Dn(n,this.supportsBinary,i=>{const o={};try{po&&this.ws.send(i)}catch{}s&&Hn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=lo()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}check(){return!!Gr}}class pl extends Un{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const r=Xc(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),s=Gc();s.readable.pipeTo(e.writable),this.writer=s.writable.getWriter();const i=()=>{n.read().then(({done:a,value:l})=>{a||(this.onPacket(l),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],s=r===e.length-1;this.writer.write(n).then(()=>{s&&Hn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const yl={websocket:dl,webtransport:pl,polling:hl},gl=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ml=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Vn(t){if(t.length>2e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let s=gl.exec(t||""),i={},o=14;for(;o--;)i[ml[o]]=s[o]||"";return r!=-1&&n!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=bl(i,i.path),i.queryKey=vl(i,i.query),i}function bl(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function vl(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,i){s&&(r[s]=i)}),r}let go=class Yt extends le{constructor(e,r={}){super(),this.binaryType=fl,this.writeBuffer=[],e&&typeof e=="object"&&(r=e,e=null),e?(e=Vn(e),r.hostname=e.host,r.secure=e.protocol==="https"||e.protocol==="wss",r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=Vn(r.host).host),Yr(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=il(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=no,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new yl[e](n)}open(){let e;if(this.opts.rememberUpgrade&&Yt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(e){let r=this.createTransport(e),n=!1;Yt.priorWebsocketSuccess=!1;const s=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",d=>{if(!n)if(d.type==="pong"&&d.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Yt.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(u(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=r.name,this.emitReserved("upgradeError",h)}}))};function i(){n||(n=!0,u(),r.close(),r=null)}const o=d=>{const h=new Error("probe error: "+d);h.transport=r.name,i(),this.emitReserved("upgradeError",h)};function a(){o("transport closed")}function l(){o("socket closed")}function p(d){r&&d.name!==r.name&&i()}const u=()=>{r.removeListener("open",s),r.removeListener("error",o),r.removeListener("close",a),this.off("close",l),this.off("upgrading",p)};r.once("open",s),r.once("error",o),r.once("close",a),this.once("close",l),this.once("upgrading",p),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onOpen(){if(this.readyState="open",Yt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(r+=rl(s)),n>0&&r>this.maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}write(e,r,n){return this.sendPacket("message",e,r,n),this}send(e,r,n){return this.sendPacket("message",e,r,n),this}sendPacket(e,r,n,s){if(typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:e,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){Yt.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const r=[];let n=0;const s=e.length;for(;n<s;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}};go.protocol=no;function wl(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=Vn(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+e,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const xl=typeof ArrayBuffer=="function",El=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,mo=Object.prototype.toString,Sl=typeof Blob=="function"||typeof Blob<"u"&&mo.call(Blob)==="[object BlobConstructor]",_l=typeof File=="function"||typeof File<"u"&&mo.call(File)==="[object FileConstructor]";function zn(t){return xl&&(t instanceof ArrayBuffer||El(t))||Sl&&t instanceof Blob||_l&&t instanceof File}function Xr(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(Xr(t[r]))return!0;return!1}if(zn(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Xr(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&Xr(t[r]))return!0;return!1}function kl(t){const e=[],r=t.data,n=t;return n.data=Qn(r,e),n.attachments=e.length,{packet:n,buffers:e}}function Qn(t,e){if(!t)return t;if(zn(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=Qn(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=Qn(t[n],e));return r}return t}function Cl(t,e){return t.data=Wn(t.data,e),delete t.attachments,t}function Wn(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=Wn(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=Wn(t[r],e));return t}const Ol=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Al=5;var W;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(W||(W={}));class Tl{constructor(e){this.replacer=e}encode(e){return(e.type===W.EVENT||e.type===W.ACK)&&Xr(e)?this.encodeAsBinary({type:e.type===W.EVENT?W.BINARY_EVENT:W.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===W.BINARY_EVENT||e.type===W.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=kl(e),n=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(n),s}}function bo(t){return Object.prototype.toString.call(t)==="[object Object]"}class Yn extends le{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===W.BINARY_EVENT;n||r.type===W.BINARY_ACK?(r.type=n?W.EVENT:W.ACK,this.reconstructor=new Rl(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(zn(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(W[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===W.BINARY_EVENT||n.type===W.BINARY_ACK){const i=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const o=e.substring(i,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(i,r)}else n.nsp="/";const s=e.charAt(r+1);if(s!==""&&Number(s)==s){const i=r+1;for(;++r;){const o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}n.id=Number(e.substring(i,r+1))}if(e.charAt(++r)){const i=this.tryParse(e.substr(r));if(Yn.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case W.CONNECT:return bo(r);case W.DISCONNECT:return r===void 0;case W.CONNECT_ERROR:return typeof r=="string"||bo(r);case W.EVENT:case W.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Ol.indexOf(r[0])===-1);case W.ACK:case W.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Rl{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=Cl(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const $l=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Yn,Encoder:Tl,get PacketType(){return W},protocol:Al},Symbol.toStringTag,{value:"Module"}));function $e(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const Pl=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class vo extends le{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[$e(e,"open",this.onopen.bind(this)),$e(e,"packet",this.onpacket.bind(this)),$e(e,"error",this.onerror.bind(this)),$e(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){if(Pl.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const n={type:W.EVENT,data:r};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const o=this.ids++,a=r.pop();this._registerAckCallback(o,a),n.id=o}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,r){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[e]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);r.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(i),r.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...r){return new Promise((n,s)=>{const i=(o,a)=>o?s(o):n(a);i.withError=!0,r.push(i),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...i)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:W.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case W.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case W.EVENT:case W.BINARY_EVENT:this.onevent(e);break;case W.ACK:case W.BINARY_ACK:this.onack(e);break;case W.DISCONNECT:this.ondisconnect();break;case W.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...s){n||(n=!0,r.packet({type:W.ACK,id:e,data:s}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:W.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function Tt(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Tt.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+r:t-r}return Math.min(t,this.max)|0},Tt.prototype.reset=function(){this.attempts=0},Tt.prototype.setMin=function(t){this.ms=t},Tt.prototype.setMax=function(t){this.max=t},Tt.prototype.setJitter=function(t){this.jitter=t};class Kn extends le{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Yr(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Tt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const s=r.parser||$l;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new go(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=$e(r,"open",function(){n.onopen(),e&&e()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=$e(r,"error",i);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),r.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push($e(e,"ping",this.onping.bind(this)),$e(e,"data",this.ondata.bind(this)),$e(e,"error",this.onerror.bind(this)),$e(e,"close",this.onclose.bind(this)),$e(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){Hn(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new vo(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,r){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const fr={};function Jr(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=wl(t,e.path||"/socket.io"),n=r.source,s=r.id,i=r.path,o=fr[s]&&i in fr[s].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new Kn(n,e):(fr[s]||(fr[s]=new Kn(n,e)),l=fr[s]),r.query&&!e.query&&(e.query=r.queryKey),l.socket(r.path,e)}Object.assign(Jr,{Manager:Kn,Socket:vo,io:Jr,connect:Jr});var Ml=typeof lt=="object"&&lt&&lt.Object===Object&&lt,Ll=typeof self=="object"&&self&&self.Object===Object&&self;Ml||Ll||Function("return this")();var wo=typeof window<"u"?m.useLayoutEffect:m.useEffect;function xo(t,e,r,n){const s=m.useRef(e);wo(()=>{s.current=e},[e]),m.useEffect(()=>{const i=(r==null?void 0:r.current)??window;if(!(i&&i.addEventListener))return;const o=a=>{s.current(a)};return i.addEventListener(t,o,n),()=>{i.removeEventListener(t,o,n)}},[t,r,n])}function Nl(t){const e=m.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return wo(()=>{e.current=t},[t]),m.useCallback((...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[e])}var Eo=typeof window>"u";function jl(t,e,r={}){const{initializeWithValue:n=!0}=r,s=m.useCallback(d=>r.serializer?r.serializer(d):JSON.stringify(d),[r]),i=m.useCallback(d=>{if(r.deserializer)return r.deserializer(d);if(d==="undefined")return;const h=e instanceof Function?e():e;let y;try{y=JSON.parse(d)}catch(x){return console.error("Error parsing JSON:",x),h}return y},[r,e]),o=m.useCallback(()=>{const d=e instanceof Function?e():e;if(Eo)return d;try{const h=window.localStorage.getItem(t);return h?i(h):d}catch(h){return console.warn(`Error reading localStorage key ${t}:`,h),d}},[e,t,i]),[a,l]=m.useState(()=>n?o():e instanceof Function?e():e),p=Nl(d=>{Eo&&console.warn(`Tried setting localStorage key ${t} even though environment is not a client`);try{const h=d instanceof Function?d(o()):d;window.localStorage.setItem(t,s(h)),l(h),window.dispatchEvent(new StorageEvent("local-storage",{key:t}))}catch(h){console.warn(`Error setting localStorage key ${t}:`,h)}});m.useEffect(()=>{l(o())},[t]);const u=m.useCallback(d=>{d.key&&d.key!==t||l(o())},[t,o]);return xo("storage",u),xo("local-storage",u),[a,p]}function Dl(t){const e=m.useRef(t);e.current=t,m.useEffect(()=>()=>{e.current()},[])}const So=m.createContext({}),Bl=({children:t,channelId:e,onEndBot:r,isTest:n=!1,onClose:s,isShowClose:i=!0,isForLiveChat:o,userId:a,customStyles:l,isForPreview:p,isForManager:u,adminId:d,...h})=>{const[y,x]=m.useState(!1),[S,w]=m.useState(u?void 0:l),[O,P]=jl("disabled-buttons",[]),j=Qi(),z=m.useMemo(()=>new URLSearchParams(window.location.search),[]),M=m.useMemo(()=>a||Se(),[a]),F=m.useMemo(()=>e||z.get("channelId")||"",[e,z]),se=m.useRef(Jr(h.API_URL||rr,{autoConnect:!1,transports:["websocket"],query:{userId:d?`${M}_${d}`:M}}));console.log(`${h.API_URL||rr}/api/conversation-live-chat/${a||Se()}/${F}`);const{data:I,isLoading:Z}=Yi({queryKey:["messages",F,a||Se()],queryFn:async()=>{try{return p?[{isBot:!0,message:"Hello, how can I help you?",createdAt:new Date().toISOString()},{isBot:!1,message:"I want to know more about your product",userId:Se(),createdAt:new Date().toISOString()}]:(await(await fetch(`${h.API_URL||rr}/api/conversation-live-chat/${a||Se()}/${F}`)).json()).data}catch{return[]}},initialData:[],refetchOnWindowFocus:!1,refetchOnReconnect:!1}),{data:G}=Yi({queryKey:["custom-style",F,a||Se()],queryFn:async()=>{try{return(await(await fetch(`${h.API_URL||rr}/api/custom-chatbox/${F}`)).json()).data}catch{return}},enabled:!n&&!p&&!u}),V=m.useCallback(({message:b,cb:v,extraData:_,type:C})=>{if(u)return;const L=b.trim();if(L.length===0)return;const D=Ri(F,a),H={message:C==="list-button"?_||"":L,userId:d||a||Se(),template:{},createdAt:new Date().toISOString(),isTest:n};se.current.emit(tr.MESSAGE,{message:L,address:D,isTest:n,createdAt:H.createdAt}),j.setQueryData(["messages",F,a||Se()],X=>[...X,H]),v&&v(H)},[F,d,u,n,j,a]),g=m.useCallback(()=>{window.parent&&window.parent.postMessage({type:"TOGGLE_CHAT"},"*"),s==null||s()},[s]),$=m.useCallback(()=>{p||(P([]),se.current.emit(tr.MESSAGE,{type:"event",typeName:"endConversation",address:Ri(F,a),isTest:n,message:""}),x(!1),j.setQueryData(["messages",F,a||Se()],()=>[]))},[F,p,n,j,P,a]),k=m.useCallback(b=>{P(v=>[...v,b])},[P]);return Dl(()=>{se.current.disconnect()}),m.useEffect(()=>{if(p)return;const b=se.current;return b.connect(),b.on(tr.MESSAGE,v=>{var _;((_=v.template)==null?void 0:_.type)==="list-button"?x(!0):x(!1),j.setQueryData(["messages",F,a||Se()],C=>[...C,v].filter(L=>L.userId!=="typing"))}),b.on(tr.TYPING,()=>{j.setQueryData(["messages",F,a||Se()],v=>[...v,{userId:"typing"}])}),b.on(tr.STOP_TYPING,()=>{j.setQueryData(["messages",F,a||Se()],v=>v.filter(_=>_.userId!=="typing"))}),()=>{b.disconnect()}},[F,j,a,p]),m.useEffect(()=>{p&&x(!0)},[p]),m.useEffect(()=>{G&&!u&&w(G)},[G,u]),m.useEffect(()=>{l&&!u&&w(l)},[l,u]),T.jsx(So.Provider,{value:{socket:se.current,messages:I,channelId:F,onEndBot:r,isTest:n,handleSendMessage:V,handleClose:g,disableInput:y,isShowClose:i,isLoadingMessages:Z,isForLiveChat:o,userId:a,handleReload:$,customStyles:S,adminId:d,isForManager:u,disabledButtons:O,handleClickButton:k},children:t})},ft=()=>{const t=m.useContext(So);if(!t)throw new Error("useSocket must be used within SocketProvider");return t};function _o(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=_o(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Il(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=_o(t))&&(n&&(n+=" "),n+=e);return n}const Gn="-";function Fl(t){const e=ql(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;function s(o){const a=o.split(Gn);return a[0]===""&&a.length!==1&&a.shift(),ko(a,e)||Ul(o)}function i(o,a){const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}return{getClassGroupId:s,getConflictingClassGroupIds:i}}function ko(t,e){var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?ko(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Gn);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId}const Co=/^\[(.+)\]$/;function Ul(t){if(Co.test(t)){const e=Co.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}}function ql(t){const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Vl(Object.entries(t.classGroups),r).forEach(([i,o])=>{Xn(o,n,i,e)}),n}function Xn(t,e,r,n){t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Oo(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(Hl(s)){Xn(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Xn(o,Oo(e,i),r,n)})})}function Oo(t,e){let r=t;return e.split(Gn).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function Hl(t){return t.isThemeGetter}function Vl(t,e){return e?t.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[r,s]}):t}function zl(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;function s(i,o){r.set(i,o),e++,e>t&&(e=0,n=r,r=new Map)}return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}}const Ao="!";function Ql(t){const e=t.separator,r=e.length===1,n=e[0],s=e.length;return function(o){const a=[];let l=0,p=0,u;for(let S=0;S<o.length;S++){let w=o[S];if(l===0){if(w===n&&(r||o.slice(S,S+s)===e)){a.push(o.slice(p,S)),p=S+s;continue}if(w==="/"){u=S;continue}}w==="["?l++:w==="]"&&l--}const d=a.length===0?o:o.substring(p),h=d.startsWith(Ao),y=h?d.substring(1):d,x=u&&u>p?u-p:void 0;return{modifiers:a,hasImportantModifier:h,baseClassName:y,maybePostfixModifierPosition:x}}}function Wl(t){if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e}function Yl(t){return{cache:zl(t.cacheSize),splitModifiers:Ql(t),...Fl(t)}}const Kl=/\s+/;function Gl(t,e){const{splitModifiers:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=new Set;return t.trim().split(Kl).map(o=>{const{modifiers:a,hasImportantModifier:l,baseClassName:p,maybePostfixModifierPosition:u}=r(o);let d=n(u?p.substring(0,u):p),h=!!u;if(!d){if(!u)return{isTailwindClass:!1,originalClassName:o};if(d=n(p),!d)return{isTailwindClass:!1,originalClassName:o};h=!1}const y=Wl(a).join(":");return{isTailwindClass:!0,modifierId:l?y+Ao:y,classGroupId:d,originalClassName:o,hasPostfixModifier:h}}).reverse().filter(o=>{if(!o.isTailwindClass)return!0;const{modifierId:a,classGroupId:l,hasPostfixModifier:p}=o,u=a+l;return i.has(u)?!1:(i.add(u),s(l,p).forEach(d=>i.add(a+d)),!0)}).reverse().map(o=>o.originalClassName).join(" ")}function Xl(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=To(e))&&(n&&(n+=" "),n+=r);return n}function To(t){if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=To(t[n]))&&(r&&(r+=" "),r+=e);return r}function Jl(t,...e){let r,n,s,i=o;function o(l){const p=e.reduce((u,d)=>d(u),t());return r=Yl(p),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const p=n(l);if(p)return p;const u=Gl(l,r);return s(l,u),u}return function(){return i(Xl.apply(null,arguments))}}function ie(t){const e=r=>r[t]||[];return e.isThemeGetter=!0,e}const Ro=/^\[(?:([a-z-]+):)?(.+)\]$/i,Zl=/^\d+\/\d+$/,eu=new Set(["px","full","screen"]),tu=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ru=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,nu=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,su=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iu=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function Qe(t){return dt(t)||eu.has(t)||Zl.test(t)}function Ze(t){return Rt(t,"length",du)}function dt(t){return!!t&&!Number.isNaN(Number(t))}function Zr(t){return Rt(t,"number",dt)}function dr(t){return!!t&&Number.isInteger(Number(t))}function ou(t){return t.endsWith("%")&&dt(t.slice(0,-1))}function q(t){return Ro.test(t)}function et(t){return tu.test(t)}const au=new Set(["length","size","percentage"]);function cu(t){return Rt(t,au,$o)}function lu(t){return Rt(t,"position",$o)}const uu=new Set(["image","url"]);function hu(t){return Rt(t,uu,yu)}function fu(t){return Rt(t,"",pu)}function pr(){return!0}function Rt(t,e,r){const n=Ro.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1}function du(t){return ru.test(t)&&!nu.test(t)}function $o(){return!1}function pu(t){return su.test(t)}function yu(t){return iu.test(t)}function gu(){const t=ie("colors"),e=ie("spacing"),r=ie("blur"),n=ie("brightness"),s=ie("borderColor"),i=ie("borderRadius"),o=ie("borderSpacing"),a=ie("borderWidth"),l=ie("contrast"),p=ie("grayscale"),u=ie("hueRotate"),d=ie("invert"),h=ie("gap"),y=ie("gradientColorStops"),x=ie("gradientColorStopPositions"),S=ie("inset"),w=ie("margin"),O=ie("opacity"),P=ie("padding"),j=ie("saturate"),z=ie("scale"),M=ie("sepia"),F=ie("skew"),se=ie("space"),I=ie("translate"),Z=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",q,e],g=()=>[q,e],$=()=>["",Qe,Ze],k=()=>["auto",dt,q],b=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],v=()=>["solid","dashed","dotted","double","none"],_=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],C=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",q],D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[dt,Zr],X=()=>[dt,q];return{cacheSize:500,separator:":",theme:{colors:[pr],spacing:[Qe,Ze],blur:["none","",et,q],brightness:H(),borderColor:[t],borderRadius:["none","","full",et,q],borderSpacing:g(),borderWidth:$(),contrast:H(),grayscale:L(),hueRotate:X(),invert:L(),gap:g(),gradientColorStops:[t],gradientColorStopPositions:[ou,Ze],inset:V(),margin:V(),opacity:H(),padding:g(),saturate:H(),scale:H(),sepia:L(),skew:X(),space:g(),translate:g()},classGroups:{aspect:[{aspect:["auto","square","video",q]}],container:["container"],columns:[{columns:[et]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...b(),q]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:Z()}],"overscroll-x":[{"overscroll-x":Z()}],"overscroll-y":[{"overscroll-y":Z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",dr,q]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",q]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",dr,q]}],"grid-cols":[{"grid-cols":[pr]}],"col-start-end":[{col:["auto",{span:["full",dr,q]},q]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[pr]}],"row-start-end":[{row:["auto",{span:[dr,q]},q]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",q]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",q]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[P]}],px:[{px:[P]}],py:[{py:[P]}],ps:[{ps:[P]}],pe:[{pe:[P]}],pt:[{pt:[P]}],pr:[{pr:[P]}],pb:[{pb:[P]}],pl:[{pl:[P]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[se]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[se]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",q,e]}],"min-w":[{"min-w":[q,e,"min","max","fit"]}],"max-w":[{"max-w":[q,e,"none","full","min","max","fit","prose",{screen:[et]},et]}],h:[{h:[q,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[q,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[q,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[q,e,"auto","min","max","fit"]}],"font-size":[{text:["base",et,Ze]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zr]}],"font-family":[{font:[pr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",q]}],"line-clamp":[{"line-clamp":["none",dt,Zr]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qe,q]}],"list-image":[{"list-image":["none",q]}],"list-style-type":[{list:["none","disc","decimal",q]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[O]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[O]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...v(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qe,Ze]}],"underline-offset":[{"underline-offset":["auto",Qe,q]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:g()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[O]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...b(),lu]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",cu]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},hu]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[O]}],"border-style":[{border:[...v(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[O]}],"divide-style":[{divide:v()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...v()]}],"outline-offset":[{"outline-offset":[Qe,q]}],"outline-w":[{outline:[Qe,Ze]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[O]}],"ring-offset-w":[{"ring-offset":[Qe,Ze]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",et,fu]}],"shadow-color":[{shadow:[pr]}],opacity:[{opacity:[O]}],"mix-blend":[{"mix-blend":_()}],"bg-blend":[{"bg-blend":_()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",et,q]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[j]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[O]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",q]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",q]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",q]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[z]}],"scale-x":[{"scale-x":[z]}],"scale-y":[{"scale-y":[z]}],rotate:[{rotate:[dr,q]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",q]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",q]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":g()}],"scroll-mx":[{"scroll-mx":g()}],"scroll-my":[{"scroll-my":g()}],"scroll-ms":[{"scroll-ms":g()}],"scroll-me":[{"scroll-me":g()}],"scroll-mt":[{"scroll-mt":g()}],"scroll-mr":[{"scroll-mr":g()}],"scroll-mb":[{"scroll-mb":g()}],"scroll-ml":[{"scroll-ml":g()}],"scroll-p":[{"scroll-p":g()}],"scroll-px":[{"scroll-px":g()}],"scroll-py":[{"scroll-py":g()}],"scroll-ps":[{"scroll-ps":g()}],"scroll-pe":[{"scroll-pe":g()}],"scroll-pt":[{"scroll-pt":g()}],"scroll-pr":[{"scroll-pr":g()}],"scroll-pb":[{"scroll-pb":g()}],"scroll-pl":[{"scroll-pl":g()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",q]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Qe,Ze,Zr]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const mu=Jl(gu);function pt(...t){return mu(Il(t))}var Po={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(lt,function(){var r=1e3,n=6e4,s=36e5,i="millisecond",o="second",a="minute",l="hour",p="day",u="week",d="month",h="quarter",y="year",x="date",S="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,O=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,P={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(k){var b=["th","st","nd","rd"],v=k%100;return"["+k+(b[(v-20)%10]||b[v]||b[0])+"]"}},j=function(k,b,v){var _=String(k);return!_||_.length>=b?k:""+Array(b+1-_.length).join(v)+k},z={s:j,z:function(k){var b=-k.utcOffset(),v=Math.abs(b),_=Math.floor(v/60),C=v%60;return(b<=0?"+":"-")+j(_,2,"0")+":"+j(C,2,"0")},m:function k(b,v){if(b.date()<v.date())return-k(v,b);var _=12*(v.year()-b.year())+(v.month()-b.month()),C=b.clone().add(_,d),L=v-C<0,D=b.clone().add(_+(L?-1:1),d);return+(-(_+(v-C)/(L?C-D:D-C))||0)},a:function(k){return k<0?Math.ceil(k)||0:Math.floor(k)},p:function(k){return{M:d,y,w:u,d:p,D:x,h:l,m:a,s:o,ms:i,Q:h}[k]||String(k||"").toLowerCase().replace(/s$/,"")},u:function(k){return k===void 0}},M="en",F={};F[M]=P;var se="$isDayjsObject",I=function(k){return k instanceof g||!(!k||!k[se])},Z=function k(b,v,_){var C;if(!b)return M;if(typeof b=="string"){var L=b.toLowerCase();F[L]&&(C=L),v&&(F[L]=v,C=L);var D=b.split("-");if(!C&&D.length>1)return k(D[0])}else{var H=b.name;F[H]=b,C=H}return!_&&C&&(M=C),C||!_&&M},G=function(k,b){if(I(k))return k.clone();var v=typeof b=="object"?b:{};return v.date=k,v.args=arguments,new g(v)},V=z;V.l=Z,V.i=I,V.w=function(k,b){return G(k,{locale:b.$L,utc:b.$u,x:b.$x,$offset:b.$offset})};var g=function(){function k(v){this.$L=Z(v.locale,null,!0),this.parse(v),this.$x=this.$x||v.x||{},this[se]=!0}var b=k.prototype;return b.parse=function(v){this.$d=function(_){var C=_.date,L=_.utc;if(C===null)return new Date(NaN);if(V.u(C))return new Date;if(C instanceof Date)return new Date(C);if(typeof C=="string"&&!/Z$/i.test(C)){var D=C.match(w);if(D){var H=D[2]-1||0,X=(D[7]||"0").substring(0,3);return L?new Date(Date.UTC(D[1],H,D[3]||1,D[4]||0,D[5]||0,D[6]||0,X)):new Date(D[1],H,D[3]||1,D[4]||0,D[5]||0,D[6]||0,X)}}return new Date(C)}(v),this.init()},b.init=function(){var v=this.$d;this.$y=v.getFullYear(),this.$M=v.getMonth(),this.$D=v.getDate(),this.$W=v.getDay(),this.$H=v.getHours(),this.$m=v.getMinutes(),this.$s=v.getSeconds(),this.$ms=v.getMilliseconds()},b.$utils=function(){return V},b.isValid=function(){return this.$d.toString()!==S},b.isSame=function(v,_){var C=G(v);return this.startOf(_)<=C&&C<=this.endOf(_)},b.isAfter=function(v,_){return G(v)<this.startOf(_)},b.isBefore=function(v,_){return this.endOf(_)<G(v)},b.$g=function(v,_,C){return V.u(v)?this[_]:this.set(C,v)},b.unix=function(){return Math.floor(this.valueOf()/1e3)},b.valueOf=function(){return this.$d.getTime()},b.startOf=function(v,_){var C=this,L=!!V.u(_)||_,D=V.p(v),H=function(Le,he){var He=V.w(C.$u?Date.UTC(C.$y,he,Le):new Date(C.$y,he,Le),C);return L?He:He.endOf(p)},X=function(Le,he){return V.w(C.toDate()[Le].apply(C.toDate("s"),(L?[0,0,0,0]:[23,59,59,999]).slice(he)),C)},ae=this.$W,pe=this.$M,Ee=this.$D,Ue="set"+(this.$u?"UTC":"");switch(D){case y:return L?H(1,0):H(31,11);case d:return L?H(1,pe):H(0,pe+1);case u:var Me=this.$locale().weekStart||0,qe=(ae<Me?ae+7:ae)-Me;return H(L?Ee-qe:Ee+(6-qe),pe);case p:case x:return X(Ue+"Hours",0);case l:return X(Ue+"Minutes",1);case a:return X(Ue+"Seconds",2);case o:return X(Ue+"Milliseconds",3);default:return this.clone()}},b.endOf=function(v){return this.startOf(v,!1)},b.$set=function(v,_){var C,L=V.p(v),D="set"+(this.$u?"UTC":""),H=(C={},C[p]=D+"Date",C[x]=D+"Date",C[d]=D+"Month",C[y]=D+"FullYear",C[l]=D+"Hours",C[a]=D+"Minutes",C[o]=D+"Seconds",C[i]=D+"Milliseconds",C)[L],X=L===p?this.$D+(_-this.$W):_;if(L===d||L===y){var ae=this.clone().set(x,1);ae.$d[H](X),ae.init(),this.$d=ae.set(x,Math.min(this.$D,ae.daysInMonth())).$d}else H&&this.$d[H](X);return this.init(),this},b.set=function(v,_){return this.clone().$set(v,_)},b.get=function(v){return this[V.p(v)]()},b.add=function(v,_){var C,L=this;v=Number(v);var D=V.p(_),H=function(pe){var Ee=G(L);return V.w(Ee.date(Ee.date()+Math.round(pe*v)),L)};if(D===d)return this.set(d,this.$M+v);if(D===y)return this.set(y,this.$y+v);if(D===p)return H(1);if(D===u)return H(7);var X=(C={},C[a]=n,C[l]=s,C[o]=r,C)[D]||1,ae=this.$d.getTime()+v*X;return V.w(ae,this)},b.subtract=function(v,_){return this.add(-1*v,_)},b.format=function(v){var _=this,C=this.$locale();if(!this.isValid())return C.invalidDate||S;var L=v||"YYYY-MM-DDTHH:mm:ssZ",D=V.z(this),H=this.$H,X=this.$m,ae=this.$M,pe=C.weekdays,Ee=C.months,Ue=C.meridiem,Me=function(he,He,at,zt){return he&&(he[He]||he(_,L))||at[He].slice(0,zt)},qe=function(he){return V.s(H%12||12,he,"0")},Le=Ue||function(he,He,at){var zt=he<12?"AM":"PM";return at?zt.toLowerCase():zt};return L.replace(O,function(he,He){return He||function(at){switch(at){case"YY":return String(_.$y).slice(-2);case"YYYY":return V.s(_.$y,4,"0");case"M":return ae+1;case"MM":return V.s(ae+1,2,"0");case"MMM":return Me(C.monthsShort,ae,Ee,3);case"MMMM":return Me(Ee,ae);case"D":return _.$D;case"DD":return V.s(_.$D,2,"0");case"d":return String(_.$W);case"dd":return Me(C.weekdaysMin,_.$W,pe,2);case"ddd":return Me(C.weekdaysShort,_.$W,pe,3);case"dddd":return pe[_.$W];case"H":return String(H);case"HH":return V.s(H,2,"0");case"h":return qe(1);case"hh":return qe(2);case"a":return Le(H,X,!0);case"A":return Le(H,X,!1);case"m":return String(X);case"mm":return V.s(X,2,"0");case"s":return String(_.$s);case"ss":return V.s(_.$s,2,"0");case"SSS":return V.s(_.$ms,3,"0");case"Z":return D}return null}(he)||D.replace(":","")})},b.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},b.diff=function(v,_,C){var L,D=this,H=V.p(_),X=G(v),ae=(X.utcOffset()-this.utcOffset())*n,pe=this-X,Ee=function(){return V.m(D,X)};switch(H){case y:L=Ee()/12;break;case d:L=Ee();break;case h:L=Ee()/3;break;case u:L=(pe-ae)/6048e5;break;case p:L=(pe-ae)/864e5;break;case l:L=pe/s;break;case a:L=pe/n;break;case o:L=pe/r;break;default:L=pe}return C?L:V.a(L)},b.daysInMonth=function(){return this.endOf(d).$D},b.$locale=function(){return F[this.$L]},b.locale=function(v,_){if(!v)return this.$L;var C=this.clone(),L=Z(v,_,!0);return L&&(C.$L=L),C},b.clone=function(){return V.w(this.$d,this)},b.toDate=function(){return new Date(this.valueOf())},b.toJSON=function(){return this.isValid()?this.toISOString():null},b.toISOString=function(){return this.$d.toISOString()},b.toString=function(){return this.$d.toUTCString()},k}(),$=g.prototype;return G.prototype=$,[["$ms",i],["$s",o],["$m",a],["$H",l],["$W",p],["$M",d],["$y",y],["$D",x]].forEach(function(k){$[k[1]]=function(b){return this.$g(b,k[0],k[1])}}),G.extend=function(k,b){return k.$i||(k(b,g,G),k.$i=!0),G},G.locale=Z,G.isDayjs=I,G.unix=function(k){return G(1e3*k)},G.en=F[M],G.Ls=F,G.p={},G})})(Po);var bu=Po.exports;const en=aa(bu);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=(t,e)=>{const r=m.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...p},u)=>m.createElement("svg",{ref:u,...vu,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${wu(t)}`,a].join(" "),...p},[...e.map(([d,h])=>m.createElement(d,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=tn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=tn("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Su=tn("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=tn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ku=Fr(t=>T.jsx("slot",{children:T.jsx("div",{className:t.v0,children:T.jsxs("div",{className:t.v1,children:[T.jsx("span",{className:t.v2,children:t.v3}),T.jsxs("div",{className:t.v4,style:t.v5,children:[t.v6,t.v7]})]})})}),{name:"Message_1",portals:["v3","v6","v7"]}),yr=({message:t,children:e})=>{const{customStyles:r,adminId:n,isForManager:s}=ft(),i=t.isBot;return T.jsx(ku,{v0:pt("flex min-h-9 justify-end pl-8",{"justify-start pr-8 pl-0":i}),v1:pt("flex flex-col gap-1 w-full items-end",{"items-start":i}),v2:pt("flex items-center text-xs text-muted-foreground",{"justify-end":!i}),v3:s?t.isBot?"From bot":"From user":null,v4:pt("bg-primary rounded-md text-white flex items-center justify-end w-max p-2 max-w-72 text-wrap whitespace-pre-line",{"bg-muted text-neutral-900 justify-start":i}),v5:{wordBreak:"break-word",backgroundColor:i||r==null?void 0:r.color},v6:t.message.trim().length?t.message:null,v7:e})};function rn(){return rn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rn.apply(this,arguments)}function Cu(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Ou(...t){return e=>t.forEach(r=>Cu(r,e))}const Mo=m.forwardRef((t,e)=>{const{children:r,...n}=t,s=m.Children.toArray(r),i=s.find(Tu);if(i){const o=i.props.children,a=s.map(l=>l===i?m.Children.count(o)>1?m.Children.only(null):m.isValidElement(o)?o.props.children:null:l);return m.createElement(Jn,rn({},n,{ref:e}),m.isValidElement(o)?m.cloneElement(o,void 0,a):null)}return m.createElement(Jn,rn({},n,{ref:e}),r)});Mo.displayName="Slot";const Jn=m.forwardRef((t,e)=>{const{children:r,...n}=t;return m.isValidElement(r)?m.cloneElement(r,{...Ru(n,r.props),ref:e?Ou(e,r.ref):r.ref}):m.Children.count(r)>1?m.Children.only(null):null});Jn.displayName="SlotClone";const Au=({children:t})=>m.createElement(m.Fragment,null,t);function Tu(t){return m.isValidElement(t)&&t.type===Au}function Ru(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{i(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function Lo(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=Lo(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function $u(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=Lo(t))&&(n&&(n+=" "),n+=e);return n}const No=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,jo=$u,Pu=((t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return jo(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(p=>{const u=r==null?void 0:r[p],d=i==null?void 0:i[p];if(u===null)return null;const h=No(u)||No(d);return s[p][h]}),a=r&&Object.entries(r).reduce((p,u)=>{let[d,h]=u;return h===void 0||(p[d]=h),p},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((p,u)=>{let{class:d,className:h,...y}=u;return Object.entries(y).every(x=>{let[S,w]=x;return Array.isArray(w)?w.includes({...i,...a}[S]):{...i,...a}[S]===w})?[...p,d,h]:p},[]);return jo(t,o,l,r==null?void 0:r.class,r==null?void 0:r.className)})("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",message:"bg-background shadow-sm border  text-primary border-primary hover:bg-primary/10 !rounded-full"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),nn=me.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},i)=>{const o=n?Mo:"button";return T.jsx(o,{className:pt(Pu({variant:e,size:r,className:t})),ref:i,...s})});nn.displayName="Button";const Mu=({message:t})=>{const{handleSendMessage:e,customStyles:r,handleClickButton:n,disabledButtons:s}=ft(),i=r!=null&&r.color?kn(r.color):null;return T.jsxs("div",{className:"space-y-2","data-buttons":!0,children:[T.jsx(yr,{message:t}),T.jsx("div",{className:"flex gap-1 items-center w-[80%] justify-center flex-wrap mx-auto",children:t.template.data.map(o=>T.jsx(nn,{disabled:!!(s!=null&&s.find(a=>a===t.createdAt)),variant:"message",size:"sm",onClick:()=>{if(o.type==="postback"){if(!o.payload)return;e({message:o.payload,extraData:o.title,type:"list-button"})}if(o.type==="web_url"){if(!o.url)return;$i(o.url)}n==null||n(t.createdAt)},style:{"--primary":i?`${i.h} ${i.s}% ${i.l}%`:void 0},children:o.title},`${o.title}-${o.type}`))})]})},Lu=Fr(t=>T.jsxs("div",{className:"w-full space-y-1 text-center",children:[T.jsx("img",{src:t.v0,alt:t.v1,className:"rounded-md object-cover h-full w-full"}),T.jsx("h3",{className:"font-semibold",children:t.v2}),T.jsx("p",{className:"text-sm",children:t.v3}),t.v4]}),{name:"Card_1",portals:["v2","v3","v4"]}),Nu=({card:t})=>{const{handleSendMessage:e,customStyles:r}=ft(),n=r!=null&&r.color?kn(r.color):null;return T.jsx(Lu,{v0:t.image_url,v1:t.title,v2:t.title,v3:t.subtitle,v4:t.buttons&&t.buttons.length>0&&T.jsx("div",{className:"w-full mt-2",children:t.buttons.map((s,i)=>T.jsx(nn,{variant:"message",className:"!rounded-md w-full",onClick:()=>{if(s.type==="postback"){if(!s.payload)return;e({message:s.payload,extraData:s.title,type:"list-button"})}if(s.type==="web_url"){if(!s.url)return;$i(s.url)}},style:{"--primary":n?`${n.h} ${n.s}% ${n.l}%`:void 0},children:s.title},i))})})},ju=({message:t})=>T.jsx("div",{className:"flex flex-col space-y-2 gap-1",children:t.template.data.map((e,r)=>T.jsx(yr,{message:t,children:T.jsx(Nu,{card:e})},r))}),Du=()=>T.jsx(yr,{message:{isBot:!0,message:"",template:{},userId:"typing",createdAt:new Date().toISOString()},children:T.jsxs("div",{className:"flex space-x-1 h-full flex-1 items-center",children:[T.jsx("div",{className:"w-1 h-1 bg-neutral-800 rounded-full animate-bounce [animation-delay:-0.3s]"}),T.jsx("div",{className:"w-1 h-1 bg-neutral-800 rounded-full animate-bounce [animation-delay:-0.15s]"}),T.jsx("div",{className:"w-1 h-1 bg-neutral-800 rounded-full animate-bounce"})]})}),Bu=()=>{const t=m.useRef(null),{messages:e,isLoadingMessages:r}=ft();m.useEffect(()=>{t.current&&t.current.scrollIntoView({behavior:"smooth"})},[e]);const n=(s,i)=>{var o,a;return(s==null?void 0:s.userId)==="typing"?T.jsx(Du,{}):((o=s==null?void 0:s.template)==null?void 0:o.type)==="list-button"?T.jsx(Mu,{message:s},`${s.createdAt}+${i}`):((a=s==null?void 0:s.template)==null?void 0:a.type)==="list-card"?T.jsx(ju,{message:s},`${s.createdAt}+${i}`):s.type==="image"?T.jsx(yr,{message:s,children:T.jsx("img",{src:s.url,alt:"",className:"rounded-md object-cover h-full w-full"})}):T.jsx(yr,{message:s},`${s.createdAt}+${i}`)};return T.jsx("div",{className:"p-2 flex-1 pr-3 overflow-y-auto",children:r?T.jsx("div",{children:T.jsx(xu,{className:"animate-spin w-4 h-4"})}):T.jsxs("div",{className:"flex flex-col gap-1",children:[e.length>0&&T.jsx("div",{className:"text-center text-xs text-neutral-500 py-2",children:en(e[0].createdAt).format("DD/MM/YYYY HH:mm")}),e.map((s,i)=>T.jsxs(m.Fragment,{children:[i>0&&en(s.createdAt).diff(en(e[i-1].createdAt),"minutes")>10&&T.jsx("div",{className:"text-center text-xs text-neutral-500 py-2",children:en(s.createdAt).format("DD/MM/YYYY HH:mm")}),n(s,i)]},i)),T.jsx("div",{ref:t})]})})},Iu=Fr(t=>T.jsx("header",{className:"flex items-center bg-primary select-none h-[3.75rem]",style:t.v0,children:T.jsxs("div",{className:"flex items-center  px-2 gap-2 justify-between w-full",children:[T.jsxs("div",{className:"flex items-center p-2 gap-2",children:[t.v1,T.jsx("span",{className:"font-medium text-white",children:t.v2})]}),T.jsxs("div",{className:"flex items-center gap-3",children:[t.v3,t.v4]})]})}),{name:"Header_1",portals:["v1","v2","v3","v4"]}),Fu=()=>{const{handleClose:t,isShowClose:e,handleReload:r,customStyles:n,isForManager:s}=ft();return T.jsx(Iu,{v0:{backgroundColor:n==null?void 0:n.color},v1:n!=null&&n.logoUrl?T.jsx("img",{src:n==null?void 0:n.logoUrl,alt:"logo",className:"w-8 h-8 rounded-full overflow-hidden object-cover"}):T.jsx("svg",{width:"32",height:"32",className:"text-neutral-700 fill-neutral-700 bg-neutral-700 rounded-full",children:T.jsx("text",{"text-anchor":"middle",x:"50%",y:"50%",dy:"0.35em",fill:"#ffffff","font-size":"1rem",children:"B"})}),v2:(n==null?void 0:n.name)||"DialogueBot",v3:!s&&T.jsx("div",{className:"w-6 h-6 flex items-center justify-center cursor-pointer",onClick:r,children:T.jsx(Eu,{className:"w-4 h-4 text-white"})}),v4:e&&T.jsx("div",{className:"w-6 h-6 flex items-center justify-center cursor-pointer",onClick:t,children:T.jsx(_u,{className:"w-4 h-4 text-white"})})})},Do=me.forwardRef(({className:t,type:e,...r},n)=>T.jsx("input",{type:e,className:pt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...r}));Do.displayName="Input";const Uu=()=>{const{handleSendMessage:t,disableInput:e,customStyles:r}=ft(),[n,s]=m.useState(""),i=a=>{a.key==="Enter"&&(a.preventDefault(),t({message:n}),s(""))},o=r!=null&&r.color?kn(r.color):null;return T.jsxs("div",{className:"flex items-center py-2 px-3 gap-2 border-input border-t",children:[T.jsx(Do,{className:"flex-1",placeholder:"Type a message...",value:n,onChange:a=>s(a.target.value),onKeyDown:i,disabled:e,style:{"--primary":o?`${o.h} ${o.s}% ${o.l}%`:void 0,"--ring":o?`${o.h} ${o.s}% ${o.l}%`:void 0}}),T.jsx(nn,{size:"icon",className:"flex-shrink-0",onClick:()=>{t({message:n,cb:()=>s("")})},disabled:e,style:{"--primary":o?`${o.h} ${o.s}% ${o.l}%`:void 0},children:T.jsx(Su,{className:"w-4 h-4"})})]})},qu=new Oc,Hu=Fr(t=>T.jsx("div",{className:t.v0,style:t.v1,children:T.jsxs("div",{className:"flex flex-col h-full overflow-hidden w-full flex-1",children:[t.v2,T.jsxs("div",{className:"flex-1 flex flex-col min-h-[1px]",children:[t.v3,t.v4]})]})}),{name:"ChatBox_1",portals:["v2","v3","v4"]}),Vu=({className:t})=>{const{customStyles:e,isForManager:r}=ft();return T.jsx(Hu,{v0:pt("select-none w-full h-screen flex flex-col shadow chatbox",t),v1:{width:e==null?void 0:e.windowSize.width,height:e==null?void 0:e.windowSize.height},v2:T.jsx(Fu,{}),v3:T.jsx(Bu,{}),v4:!r&&T.jsx(Uu,{})})},zu=t=>T.jsx($c,{client:qu,children:T.jsx(Bl,{...t,children:T.jsx(Vu,{className:t.className})})});ee.ChatBox=zu,Object.defineProperty(ee,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=index.umd.js.map
