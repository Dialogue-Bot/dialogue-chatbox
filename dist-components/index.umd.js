(function(ee,b){typeof exports=="object"&&typeof module<"u"?b(exports,require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["exports","react","react-dom"],b):(ee=typeof globalThis<"u"?globalThis:ee||self,b(ee.chatbox={},ee.React,ee.ReactDOM))})(this,function(ee,b,me){"use strict";var ss=(ee,b,me)=>{if(!b.has(ee))throw TypeError("Cannot "+me)};var u=(ee,b,me)=>(ss(ee,b,"read from private field"),me?me.call(ee):b.get(ee)),L=(ee,b,me)=>{if(b.has(ee))throw TypeError("Cannot add the same private member more than once");b instanceof WeakSet?b.add(ee):b.set(ee,me)},P=(ee,b,me,_t)=>(ss(ee,b,"write to private field"),_t?_t.call(ee,me):b.set(ee,me),me);var cn=(ee,b,me,_t)=>({set _(ge){P(ee,b,ge,me)},get _(){return u(ee,b,_t)}}),W=(ee,b,me)=>(ss(ee,b,"access private method"),me);var yt,tt,Pt,No,$t,rt,Mt,jo,mt,Do,Lt,Nt,Oe,be,de,pr,gt,$e,Ye,Bo,De,Io,Be,yr,_e,jt,Ie,ct,Fo,Ae,mr,bt,Uo,ie,nt,st,Dt,Bt,it,It,Ft,qo,xe,ne,gr,ve,vt,Ut,Fe,br,qt,Ht,wt,xt,ot,Vt,Et,Or,vr,is,wr,os,xr,as,Er,cs,_r,ls,Sr,us,kr,hs,nn,na,Ho;function _t(t){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const r in t)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:()=>t[r]})}}return e.default=t,Object.freeze(e)}const ge=_t(b);var lt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ln={exports:{}},Kt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fs;function ia(){if(fs)return Kt;fs=1;var t=b,e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,f){var h,p={},d=null,y=null;f!==void 0&&(d=""+f),l.key!==void 0&&(d=""+l.key),l.ref!==void 0&&(y=l.ref);for(h in l)n.call(l,h)&&!i.hasOwnProperty(h)&&(p[h]=l[h]);if(a&&a.defaultProps)for(h in l=a.defaultProps,l)p[h]===void 0&&(p[h]=l[h]);return{$$typeof:e,type:a,key:d,ref:y,props:p,_owner:s.current}}return Kt.Fragment=r,Kt.jsx=o,Kt.jsxs=o,Kt}var Gt={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ds;function oa(){return ds||(ds=1,process.env.NODE_ENV!=="production"&&function(){var t=b,e=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),w=Symbol.iterator,_="@@iterator";function g(c){if(c===null||typeof c!="object")return null;var E=w&&c[w]||c[_];return typeof E=="function"?E:null}var k=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function M(c){{for(var E=arguments.length,A=new Array(E>1?E-1:0),U=1;U<E;U++)A[U-1]=arguments[U];I("error",c,A)}}function I(c,E,A){{var U=k.ReactDebugCurrentFrame,G=U.getStackAddendum();G!==""&&(E+="%s",A=A.concat([G]));var te=A.map(function(Y){return String(Y)});te.unshift("Warning: "+E),Function.prototype.apply.call(console[c],console,te)}}var j=!1,$=!1,K=!1,oe=!1,D=!1,X;X=Symbol.for("react.module.reference");function J(c){return!!(typeof c=="string"||typeof c=="function"||c===n||c===i||D||c===s||c===f||c===h||oe||c===y||j||$||K||typeof c=="object"&&c!==null&&(c.$$typeof===d||c.$$typeof===p||c.$$typeof===o||c.$$typeof===a||c.$$typeof===l||c.$$typeof===X||c.getModuleId!==void 0))}function H(c,E,A){var U=c.displayName;if(U)return U;var G=E.displayName||E.name||"";return G!==""?A+"("+G+")":A}function m(c){return c.displayName||"Context"}function T(c){if(c==null)return null;if(typeof c.tag=="number"&&M("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case n:return"Fragment";case r:return"Portal";case i:return"Profiler";case s:return"StrictMode";case f:return"Suspense";case h:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case a:var E=c;return m(E)+".Consumer";case o:var A=c;return m(A._context)+".Provider";case l:return H(c,c.render,"ForwardRef");case p:var U=c.displayName||null;return U!==null?U:T(c.type)||"Memo";case d:{var G=c,te=G._payload,Y=G._init;try{return T(Y(te))}catch{return null}}}return null}var S=Object.assign,x=0,v,O,C,N,B,z,Z;function ae(){}ae.__reactDisabledLog=!0;function pe(){{if(x===0){v=console.log,O=console.info,C=console.warn,N=console.error,B=console.group,z=console.groupCollapsed,Z=console.groupEnd;var c={configurable:!0,enumerable:!0,value:ae,writable:!0};Object.defineProperties(console,{info:c,log:c,warn:c,error:c,group:c,groupCollapsed:c,groupEnd:c})}x++}}function Ee(){{if(x--,x===0){var c={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:S({},c,{value:v}),info:S({},c,{value:O}),warn:S({},c,{value:C}),error:S({},c,{value:N}),group:S({},c,{value:B}),groupCollapsed:S({},c,{value:z}),groupEnd:S({},c,{value:Z})})}x<0&&M("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Ue=k.ReactCurrentDispatcher,Me;function qe(c,E,A){{if(Me===void 0)try{throw Error()}catch(G){var U=G.stack.trim().match(/\n( *(at )?)/);Me=U&&U[1]||""}return`
`+Me+c}}var Le=!1,he;{var He=typeof WeakMap=="function"?WeakMap:Map;he=new He}function at(c,E){if(!c||Le)return"";{var A=he.get(c);if(A!==void 0)return A}var U;Le=!0;var G=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var te;te=Ue.current,Ue.current=null,pe();try{if(E){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(We){U=We}Reflect.construct(c,[],Y)}else{try{Y.call()}catch(We){U=We}c.call(Y.prototype)}}else{try{throw Error()}catch(We){U=We}c()}}catch(We){if(We&&U&&typeof We.stack=="string"){for(var V=We.stack.split(`
`),we=U.stack.split(`
`),ce=V.length-1,ue=we.length-1;ce>=1&&ue>=0&&V[ce]!==we[ue];)ue--;for(;ce>=1&&ue>=0;ce--,ue--)if(V[ce]!==we[ue]){if(ce!==1||ue!==1)do if(ce--,ue--,ue<0||V[ce]!==we[ue]){var Te=`
`+V[ce].replace(" at new "," at ");return c.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",c.displayName)),typeof c=="function"&&he.set(c,Te),Te}while(ce>=1&&ue>=0);break}}}finally{Le=!1,Ue.current=te,Ee(),Error.prepareStackTrace=G}var Wt=c?c.displayName||c.name:"",ra=Wt?qe(Wt):"";return typeof c=="function"&&he.set(c,ra),ra}function Qt(c,E,A){return at(c,!1)}function Uu(c){var E=c.prototype;return!!(E&&E.isReactComponent)}function sn(c,E,A){if(c==null)return"";if(typeof c=="function")return at(c,Uu(c));if(typeof c=="string")return qe(c);switch(c){case f:return qe("Suspense");case h:return qe("SuspenseList")}if(typeof c=="object")switch(c.$$typeof){case l:return Qt(c.render);case p:return sn(c.type,E,A);case d:{var U=c,G=U._payload,te=U._init;try{return sn(te(G),E,A)}catch{}}}return""}var on=Object.prototype.hasOwnProperty,Vo={},Qo=k.ReactDebugCurrentFrame;function an(c){if(c){var E=c._owner,A=sn(c.type,c._source,E?E.type:null);Qo.setExtraStackFrame(A)}else Qo.setExtraStackFrame(null)}function qu(c,E,A,U,G){{var te=Function.call.bind(on);for(var Y in c)if(te(c,Y)){var V=void 0;try{if(typeof c[Y]!="function"){var we=Error((U||"React class")+": "+A+" type `"+Y+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof c[Y]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw we.name="Invariant Violation",we}V=c[Y](E,Y,U,A,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(ce){V=ce}V&&!(V instanceof Error)&&(an(G),M("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",U||"React class",A,Y,typeof V),an(null)),V instanceof Error&&!(V.message in Vo)&&(Vo[V.message]=!0,an(G),M("Failed %s type: %s",A,V.message),an(null))}}}var Hu=Array.isArray;function Zn(c){return Hu(c)}function Vu(c){{var E=typeof Symbol=="function"&&Symbol.toStringTag,A=E&&c[Symbol.toStringTag]||c.constructor.name||"Object";return A}}function Qu(c){try{return zo(c),!1}catch{return!0}}function zo(c){return""+c}function Wo(c){if(Qu(c))return M("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Vu(c)),zo(c)}var Cr=k.ReactCurrentOwner,zu={key:!0,ref:!0,__self:!0,__source:!0},Yo,Ko,es;es={};function Wu(c){if(on.call(c,"ref")){var E=Object.getOwnPropertyDescriptor(c,"ref").get;if(E&&E.isReactWarning)return!1}return c.ref!==void 0}function Yu(c){if(on.call(c,"key")){var E=Object.getOwnPropertyDescriptor(c,"key").get;if(E&&E.isReactWarning)return!1}return c.key!==void 0}function Ku(c,E){if(typeof c.ref=="string"&&Cr.current&&E&&Cr.current.stateNode!==E){var A=T(Cr.current.type);es[A]||(M('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',T(Cr.current.type),c.ref),es[A]=!0)}}function Gu(c,E){{var A=function(){Yo||(Yo=!0,M("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",E))};A.isReactWarning=!0,Object.defineProperty(c,"key",{get:A,configurable:!0})}}function Xu(c,E){{var A=function(){Ko||(Ko=!0,M("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",E))};A.isReactWarning=!0,Object.defineProperty(c,"ref",{get:A,configurable:!0})}}var Ju=function(c,E,A,U,G,te,Y){var V={$$typeof:e,type:c,key:E,ref:A,props:Y,_owner:te};return V._store={},Object.defineProperty(V._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(V,"_self",{configurable:!1,enumerable:!1,writable:!1,value:U}),Object.defineProperty(V,"_source",{configurable:!1,enumerable:!1,writable:!1,value:G}),Object.freeze&&(Object.freeze(V.props),Object.freeze(V)),V};function Zu(c,E,A,U,G){{var te,Y={},V=null,we=null;A!==void 0&&(Wo(A),V=""+A),Yu(E)&&(Wo(E.key),V=""+E.key),Wu(E)&&(we=E.ref,Ku(E,G));for(te in E)on.call(E,te)&&!zu.hasOwnProperty(te)&&(Y[te]=E[te]);if(c&&c.defaultProps){var ce=c.defaultProps;for(te in ce)Y[te]===void 0&&(Y[te]=ce[te])}if(V||we){var ue=typeof c=="function"?c.displayName||c.name||"Unknown":c;V&&Gu(Y,ue),we&&Xu(Y,ue)}return Ju(c,V,we,G,U,Cr.current,Y)}}var ts=k.ReactCurrentOwner,Go=k.ReactDebugCurrentFrame;function zt(c){if(c){var E=c._owner,A=sn(c.type,c._source,E?E.type:null);Go.setExtraStackFrame(A)}else Go.setExtraStackFrame(null)}var rs;rs=!1;function ns(c){return typeof c=="object"&&c!==null&&c.$$typeof===e}function Xo(){{if(ts.current){var c=T(ts.current.type);if(c)return`

Check the render method of \``+c+"`."}return""}}function eh(c){{if(c!==void 0){var E=c.fileName.replace(/^.*[\\\/]/,""),A=c.lineNumber;return`

Check your code at `+E+":"+A+"."}return""}}var Jo={};function th(c){{var E=Xo();if(!E){var A=typeof c=="string"?c:c.displayName||c.name;A&&(E=`

Check the top-level render call using <`+A+">.")}return E}}function Zo(c,E){{if(!c._store||c._store.validated||c.key!=null)return;c._store.validated=!0;var A=th(E);if(Jo[A])return;Jo[A]=!0;var U="";c&&c._owner&&c._owner!==ts.current&&(U=" It was passed a child from "+T(c._owner.type)+"."),zt(c),M('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',A,U),zt(null)}}function ea(c,E){{if(typeof c!="object")return;if(Zn(c))for(var A=0;A<c.length;A++){var U=c[A];ns(U)&&Zo(U,E)}else if(ns(c))c._store&&(c._store.validated=!0);else if(c){var G=g(c);if(typeof G=="function"&&G!==c.entries)for(var te=G.call(c),Y;!(Y=te.next()).done;)ns(Y.value)&&Zo(Y.value,E)}}}function rh(c){{var E=c.type;if(E==null||typeof E=="string")return;var A;if(typeof E=="function")A=E.propTypes;else if(typeof E=="object"&&(E.$$typeof===l||E.$$typeof===p))A=E.propTypes;else return;if(A){var U=T(E);qu(A,c.props,"prop",U,c)}else if(E.PropTypes!==void 0&&!rs){rs=!0;var G=T(E);M("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",G||"Unknown")}typeof E.getDefaultProps=="function"&&!E.getDefaultProps.isReactClassApproved&&M("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function nh(c){{for(var E=Object.keys(c.props),A=0;A<E.length;A++){var U=E[A];if(U!=="children"&&U!=="key"){zt(c),M("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",U),zt(null);break}}c.ref!==null&&(zt(c),M("Invalid attribute `ref` supplied to `React.Fragment`."),zt(null))}}function ta(c,E,A,U,G,te){{var Y=J(c);if(!Y){var V="";(c===void 0||typeof c=="object"&&c!==null&&Object.keys(c).length===0)&&(V+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var we=eh(G);we?V+=we:V+=Xo();var ce;c===null?ce="null":Zn(c)?ce="array":c!==void 0&&c.$$typeof===e?(ce="<"+(T(c.type)||"Unknown")+" />",V=" Did you accidentally export a JSX literal instead of a component?"):ce=typeof c,M("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",ce,V)}var ue=Zu(c,E,A,G,te);if(ue==null)return ue;if(Y){var Te=E.children;if(Te!==void 0)if(U)if(Zn(Te)){for(var Wt=0;Wt<Te.length;Wt++)ea(Te[Wt],c);Object.freeze&&Object.freeze(Te)}else M("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ea(Te,c)}return c===n?nh(ue):rh(ue),ue}}function sh(c,E,A){return ta(c,E,A,!0)}function ih(c,E,A){return ta(c,E,A,!1)}var oh=ih,ah=sh;Gt.Fragment=n,Gt.jsx=oh,Gt.jsxs=ah}()),Gt}process.env.NODE_ENV==="production"?ln.exports=ia():ln.exports=oa();var R=ln.exports;const ps=Object,Ar=Map,Xt=Set,un=Xt.prototype.has,aa=Xt.prototype.add,Tr=Ar.prototype.has,ys=Ar.prototype.get,Rr=Ar.prototype.set,St=1,hn=2,Jt=4,Pr=8,ca=16,la=32,Ke="__t",ms="__p",fn="__e",ua=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ha="http://www.w3.org/1999/xlink",fa="http://www.w3.org/2000/xmlns/",da=120,pa=new Xt(["href","list","form","tabIndex","download"]),ya=new Xt(["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","isindex","keygen","link","menuitem","meta","nextid","param","source","track","wbr"]);if(typeof window>"u")throw new Error("See http://million.dev/docs/install to install the compiler.");const Ge=document;Ge.createElement("template");const gs=Ge.createElement("template"),ma=gs.content,bs=Ge.createElementNS("http://www.w3.org/2000/svg","svg"),ut=Node.prototype,$r=Element.prototype,ga=CharacterData.prototype,Mr=ps.getOwnPropertyDescriptor,Lr=ut.insertBefore,vs=ut.cloneNode,ba=ut.replaceChild,va=$r.remove,wa=ut.addEventListener,xa=$r.removeAttribute,ws=$r.setAttribute,xs=$r.setAttributeNS,Ea=Mr(ut,"textContent").set,Es=Mr(ut,"firstChild").get,_a=Mr(ut,"nextSibling").get,Sa=Mr(ga,"data").set,ka=(t,e)=>{const r=e?bs:gs;return r.innerHTML=t,(e?bs:ma).firstChild};Ge[fn]=new Xt;const _s=(t,e,r)=>{let n=e.toLowerCase(),s=!1;n.endsWith("capture")&&(n=n.slice(0,-7),s=!0);const i=`$$${n}`;un.call(Ge[fn],n)||(wa.call(Ge,n,a=>{let l=a.target;for(;l;){const f=l[i];f&&(ps.defineProperty(a,"currentTarget",{configurable:!0,get(){return l}}),f(a)),l=l.parentNode}},{capture:s}),aa.call(Ge[fn],n));const o=a=>{var l;a?"key"in a&&a.key===((l=t[i])==null?void 0:l.key)||(t[i]=a):t[i]=null};return o(r),o},ht=(t,e)=>{let r=Es.call(t);if(e)for(let n=0;n<e&&r;++n)r=_a.call(r);return r},Ss=new WeakSet,ks=t=>{var r;if(Ss.has(t))return;t.nodeType===8&&((r=t.parentNode)==null||r.removeChild(t));let e=Es.call(t);for(;e;)ks(e),e=e.nextSibling;Ss.add(t)},Cs=(t,e,r)=>{const n=Ge.createTextNode(e),s=ht(t,r);return Lr.call(t,n,s),n},Ca=(t,e)=>{Sa.call(t,e)},Nr=(t,e,r)=>{typeof r!="number"||ua.test(e)?t.style[e]=r:typeof r=="string"?t.style.cssText=r:e.startsWith("-")?t.style.setProperty(e,String(r)):r==null?t.style[e]="":t.style[e]=`${String(r)}px`},Os=(t,e,r)=>{e=e.replace(/xlink(?:H|:h)/,"h").replace(/sName$/,"s"),e.startsWith("xmlns")?xs.call(t,fa,e,String(r)):e.startsWith("xlink")&&xs.call(t,ha,"href",String(r))},As=(t,e,r)=>{const n=r==null;if(r=n?"":r,e in t&&t[e]!==void 0&&t[e]!==null&&!(t instanceof SVGElement)&&un.call(pa,e))try{t[e]=r}catch{}else!n&&r!==""&&(r!==!1||e.includes("-"))?ws.call(t,e,String(r)):xa.call(t,e);const s=t instanceof HTMLInputElement,i=t instanceof HTMLSelectElement,o=t instanceof HTMLTextAreaElement;e==="value"&&(s||i||o)&&(ws.call(t,e,String(r)),t.value=r)};var Oa=Object.defineProperty,Aa=(t,e,r)=>e in t?Oa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ve=(t,e,r)=>(Aa(t,typeof e!="symbol"?e+"":e,r),r);class Zt{constructor(){Ve(this,"r"),Ve(this,"e"),Ve(this,"l"),Ve(this,"g"),Ve(this,"_u"),Ve(this,"_t"),Ve(this,"d"),Ve(this,"k"),Ve(this,"c")}}const Ts=(t,e=[],r=[])=>{var a,l;if(typeof t=="string")return t;if(typeof t=="number"||typeof t=="bigint"||t===!0)return String(t);if(t==null||t===!1)return"";if(typeof t=="object"&&"$"in t)return e.push({p:r,e:[{t:St,n:null,v:null,h:t.$,i:0,l:null,p:null,b:null}],i:[]}),"<slot/>";let n="",s="";const i={p:r,e:[],i:[]};for(let f in t.props){const h=t.props[f];if(!(f==="key"||f==="ref"||f==="children")){if(f==="className"&&(f="class"),f==="htmlFor"&&(f="for"),f.startsWith("on")){"$"in h?i.e.push({t:Jt,n:f.slice(2),v:null,h:h.$,i:null,l:null,p:null,b:null}):i.i.push({t:Jt,n:f.slice(2),v:null,h:null,i:null,l:h,p:null,b:null});continue}if(h){if(typeof h=="object"&&"$"in h){f==="style"?i.e.push({t:Pr,n:f,v:null,h:h.$,i:null,l:null,p:null,b:null}):f.charCodeAt(0)===da?i.e.push({t:ca,n:f,v:null,h:h.$,i:null,l:null,p:null,b:null}):i.e.push({t:hn,n:f,v:null,h:h.$,i:null,l:null,p:null,b:null});continue}if(f==="style"&&typeof h=="object"){let p="";for(const d in h){if(typeof h[d]=="object"){i.e.push({t:Pr,n:d,v:null,h:h[d].$,i:null,l:null,p:null,b:null});continue}let y="";for(let w=0,_=d.length;w<_;++w){const g=d.charCodeAt(w);g<97?y+=`-${String.fromCharCode(g+32)}`:y+=d[w]}p+=`${y}:${String(h[d])};`}n+=` style="${p}"`;continue}n+=` ${f}="${String(h)}"`}}}if(un.call(ya,t.type))return i.e.length&&e.push(i),`<${t.type}${n} />`;let o=!1;for(let f=0,h=((a=t.props.children)==null?void 0:a.length)||0,p=0;f<h;++f){const d=(l=t.props.children)==null?void 0:l[f];if(d==null||d===!1)continue;if(typeof d=="object"&&"$"in d){i.e.push({t:St,n:null,v:null,h:d.$,i:f,l:null,p:null,b:null});continue}if(d instanceof Zt){i.i.push({t:la,n:null,v:null,h:null,i:f,l:null,p:null,b:d});continue}if(typeof d=="string"||typeof d=="number"||typeof d=="bigint"){const w=typeof d=="number"||typeof d=="bigint"?String(d):d;if(o){i.i.push({t:St,n:null,v:w,h:null,i:f,l:null,p:null,b:null});continue}o=!0,s+=w,p++;continue}o=!1;const y=r.slice();y.push(p++),s+=Ts(d,e,y)}return(i.i.length||i.e.length)&&e.push(i),`<${t.type}${n}>${s}</${t.type}>`};var Ta=Object.defineProperty,Ra=(t,e,r)=>e in t?Ta(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Pa=(t,e,r)=>(Ra(t,typeof e!="symbol"?e+"":e,r),r);const Rs=t=>new Ps(t);class Ps extends Zt{constructor(e){super(),Pa(this,"b"),this.b=e}v(){}p(e){const r=this.b,n=e.b,s=r.length,i=n.length,o=this.t();if(this===e||i===0&&s===0)return o;if(this.b=n,i===0)return $a.call(this),o;if(s===0)return $s.call(e,o),o;let a=0,l=0,f=s-1,h=i-1,p=r[0],d=n[0],y=r[f],w=n[h],_;for(;a<=f&&l<=h;){if(!p){p=r[++a];continue}if(!y){y=r[--f];continue}const g=p.k,k=d.k;if(g===k){Ct.call(p,d),n[l]=p,p=r[++a],d=n[++l];continue}const M=y.k,I=w.k;if(M===I){Ct.call(y,w),n[h]=y,y=r[--f],w=n[--h];continue}if(g===I){Ct.call(p,w),n[h]=p;const $=n[h+1];pn.call(p,$,($==null?void 0:$.l)||null),p=r[++a],w=n[--h];continue}if(M===k){Ct.call(y,d),n[l]=y;const $=r[a];pn.call(y,$,($==null?void 0:$.l)||null),y=r[--f],d=n[++l];continue}if(!_){_=new Ar;for(let $=a;$<=f;$++)Rr.call(_,r[$].k,$)}const j=_.get(k);if(j===void 0)kt.call(d,o,p.l||null);else{const $=r[j];pn.call($,p,null),Ct.call($,d),n[l]=$,r[j]=null}d=n[++l]}if(a<=f||l<=h)if(a>f){const g=n[h+1];for(let k=l;k<=h;++k)kt.call(n[k],o,g?g.l:null)}else for(let g=a;g<=f;++g)jr.call(r[g]);return o}m(e,r=null){if(this._t)return this._t;for(let n=0,s=this.b.length;n<s;++n){const i=this.b[n];kt.call(i,e,r)}return this._t=e,e}x(){const e=this.t();if(e)Ea.call(e,"");else for(let r=0,n=this.b.length;r<n;++r)jr.call(this.b[r]);this.b=[]}u(){return!0}s(){return this.b.map(e=>e.s()).join("")}t(){return this._t||(this._t=this.b[0].t()),this._t}}const dn=Ps.prototype,$s=dn.m,Ms=dn.p,$a=dn.x,Ma=new Proxy({},{get(t,e){return{$:e}}}),Ls=(t,e,r,n)=>{const s=t(Ma),i=[],o=ka(Ts(e?e(s):s,i),n);return ks(o),(a,l,f)=>new Ns(o,i,a,l??(a==null?void 0:a.key)??null,f??r??null,null)},La=(t,e)=>{if(("b"in t||"b"in e)&&Ms.call(t,e),t.l||kt.call(t,void 0,null,null),t.k&&t.k===e.k||t.r===e.r)return Ct.call(t,e);const r=kt.call(e,t.t(),t.l,null);return jr.call(t),t.k=e.k,r};class Ns extends Zt{constructor(e,r,n,s,i,o){super(),this.r=e,this.d=n,this.e=r,this.k=s,this.c=Array(r.length),i?this._u=i:this._u=null,o?this.g=o:this.g=null}m(e,r=null,n){var o,a;if(this.l)return this.l;const s=n??vs.call(this.r,!0),i=(o=this.g)==null?void 0:o.call(this,s);i&&(this.c=i);for(let l=0,f=this.e.length;l<f;++l){const h=this.e[l],p=(i==null?void 0:i[l])??js(h.p,s,this.c,l);for(let y=0,w=h.e.length;y<w;++y){const _=h.e[y],g=this.d[_.h];if(_.t&St){if(g instanceof Zt){const k=ht(p,_.i);n?g.m(p,k,k):g.m(p,k);continue}if(p[Ke]||(p[Ke]=new Array(w)),g&&typeof g=="object"&&"foreign"in g){if(n){const M=ht(p,_.i);g.reset(M)}const k=g.current;p[Ke][y]=k,n||Lr.call(p,k,ht(p,_.i));continue}if(n){p[Ke][y]=ht(p,_.i);continue}p[Ke][y]=Cs(p,g==null||g===!1?"":String(g),_.i)}else if(_.t&Jt){const k=_s(p,_.n,g);p[ms+_.n]=k}else if(_.t&hn)As(p,_.n,g);else if(_.t&Pr)if(typeof g=="string"||typeof g=="number")Nr(p,_.n,g);else for(const k in g)Nr(p,k,g[k]);else Os(p,_.n,g)}const d=(a=h.i)==null?void 0:a.length;if(d)for(let y=0;y<d;++y){const w=h.i[y];if(w.t&St)w.v&&!n&&Cs(p,w.v,w.i);else if(w.t&Jt)_s(p,w.n,w.l);else{const _=ht(p,w.i);n?w.b.m(p,_,_):w.b.m(p,_)}}}return e&&!n&&Lr.call(e,s,r),this.l=s,s}p(e){var s,i;const r=this.l;if(!e.d)return r;const n=this.d;if(!Na.call(this,n,e.d))return r;this.d=e.d;for(let o=0,a=this.e.length;o<a;++o){const l=this.e[o],f=this.c[o]??js(l.p,r,this.c,o);for(let h=0,p=l.e.length;h<p;++h){const d=l.e[h],y=n[d.h],w=e.d[d.h];if(w!==y){if(d.t&Jt){f[ms+d.n](w);continue}if(d.t&St){if(y instanceof Zt){const _=(i=(s=e.e)==null?void 0:s[o])==null?void 0:i.e[h],g=e.d[_.h];y.p(g);continue}if(w&&typeof w=="object"&&"foreign"in w){const _=f[Ke][h];if(w.unstable&&y!==w){const g=w.current;f[Ke][h]=g,ba.call(f,g,_)}else w.current=_;continue}Ca(f[Ke][h],w==null||w===!1?"":String(w))}else if(d.t&hn)As(f,d.n,w);else if(d.t&Pr)if(typeof w=="string"||typeof w=="number")Nr(f,d.n,w);else for(const _ in w)w[_]!==y[_]&&Nr(f,_,w[_]);else Os(f,d.n,w)}}}return r}v(e=null,r=null){Lr.call(this.t(),this.l,e?e.l:r)}x(){va.call(this.l),this.l=null}u(e,r){return this._u?this._u(e,r):!0}s(){var e;return String((e=this.l)==null?void 0:e.outerHTML)}t(){var e;return this._t||(this._t=(e=this.l)==null?void 0:e.parentElement),this._t}}const js=(t,e,r,n)=>{const s=t.length;if(!s)return e;const i=r&&n!==void 0;if(i&&r[n])return r[n];for(let o=0;o<s;++o){const a=t[o];e=ht(e,a)}return i&&(r[n]=e),e},er=Ns.prototype,kt=er.m,Ct=er.p,pn=er.v,jr=er.x,Na=er.u,ja={noSlot:!1},Dr="slot",Ds="g",Da=({effect:t,deps:e})=>(b.useEffect(t,e||[]),null),Re=new Map,Ba=b.createContext(!1),Ia=(t,e,r)=>{const n={ref:e};let s=0;for(const i in t){const o=t[i];if(b.isValidElement(o)||Array.isArray(o)&&o.length&&b.isValidElement(o[0])){n[i]=mn(o,!1,r,s++);continue}n[i]=t[i]}return n},yn=(t,e)=>b.createElement(Dr,{suppressHydrationWarning:!0,id:e},t),mn=(t,e,r,n,s)=>{var p;const i=(p=r==null?void 0:r[n])==null?void 0:p.current,o=b.isValidElement(t)&&typeof t.type=="function"&&"_c"in t.type,a=o&&t.type._c;if(typeof window>"u")return o?a?t:yn(yn(t),s):yn(t,s);if(a){const d=t.type(t.props);if(Re.has(d.type)){const y=Re.get(d.type);if(typeof y=="function")return y(d.props)}}const l=i??(s?document.getElementById(s):null)??document.createElement(Dr),f=me.createPortal(b.createElement(b.Fragment,{children:t}),l,s),h={foreign:!0,current:l,portal:f,reset:d=>{d.childNodes.forEach(y=>d.removeChild(y))},unstable:e};return r&&(r[n]=h),h},gn=t=>{var s;if(typeof t!="object"||t===null||!("type"in t))return typeof t=="number"?String(t):t;let e=t.type;if(typeof e=="function")return gn(e(t.props??{}));if(typeof e=="object"&&"$"in e)return e;const r={...t.props};"css"in r&&"__EMOTION_TYPE_PLEASE_DO_NOT_USE__"in r&&(r.style=r.css.styles,e=r.__EMOTION_TYPE_PLEASE_DO_NOT_USE__,delete r.__EMOTION_TYPE_PLEASE_DO_NOT_USE__,delete r.css);const n=(s=t.props)==null?void 0:s.children;return n!=null&&(r.children=bn(t.props.children).map(i=>gn(i))),{type:e,props:r}},bn=t=>{if(t==null)return[];if(typeof t=="object"&&"type"in t&&t.type===b.Fragment)return bn(t.props.children);if(!Array.isArray(t)||typeof t=="object"&&"$"in t)return[t];const e=t.flat(1/0),r=[];for(let n=0,s=e.length;n<s;++n)r.push(...bn(e[n]));return r},Bs=typeof window>"u"?b.useEffect:b.useLayoutEffect;function vn(t,e,r){if(!t||e(t))return t;let n=r?t.return:t.child;for(;n;){const s=vn(n,e,r);if(s)return s;n=r?null:n.sibling}}function Is(){const t=b.useRef();return b.useState(()=>{const e=Function.prototype.bind;Function.prototype.bind=function(r,n){return r===null&&typeof(n==null?void 0:n.type)=="function"&&(t.current=n,Function.prototype.bind=e),e.apply(this,arguments)}}),t.current}function Fa(t){const e=Is(),r=b.useRef({el:null,depth:0});return Bs(()=>{var n;r.current.el=(n=vn(e,s=>(r.current.depth++,typeof s.type=="string"&&(t===void 0||s.type===t)),!0))==null?void 0:n.stateNode},[e]),r}function Ua(){const t=Is(),e=b.useRef({el:null,depth:0});return Bs(()=>{var r;e.current.el=(r=vn(t,n=>{var s;return e.current.depth++,((s=n.stateNode)==null?void 0:s.containerInfo)!=null},!0))==null?void 0:r.stateNode.containerInfo},[t]),e}const Fs=(t,e={})=>{const r=(e==null?void 0:e.experimental_noSlot)??ja.noSlot;let n=e==null?void 0:e.block;const s=e!=null&&e.svg?Ds:Dr;t&&(n=Ls(t,gn,e==null?void 0:e.shouldUpdate,e==null?void 0:e.svg));const i=(o,a)=>{var I,j;const l=Ua(),f=Fa(),h=o._hmr,p=b.useRef(null),d=b.useRef(null),y=b.useRef([]);o=Ia(o,a,y.current),(I=d.current)==null||I.call(d,o);const w=b.useCallback(()=>{var K,oe,D;if(!p.current&&!r)return;const $=n(o,o.key);return h&&((K=p.current)!=null&&K.textContent)&&(p.current.textContent=""),r&&(p.current=((oe=f.current)==null?void 0:oe.el)??((D=l.current)==null?void 0:D.el),(o.scoped||f.current&&l.current&&f.current.depth>l.current.depth)&&(p.current=l.current.el),p.current.childNodes.length&&console.error(new Error(`\`experimental_options.noSlot\` does not support having siblings at the moment.
The block element should be the only child of the \`${vs.call(p.current).outerHTML}\` element.
To avoid this error, \`experimental_options.noSlot\` should be false`))),(d.current===null||h)&&(kt.call($,p.current,null),d.current=X=>{La($,n(X,X.key,e==null?void 0:e.shouldUpdate))}),()=>{jr.call($)}},[]),_=b.useMemo(()=>r?null:b.createElement((e==null?void 0:e.as)??s,{ref:p}),[]),g=y.current.length,k=new Array(g);for(let $=0;$<g;++$)k[$]=(j=y.current[$])==null?void 0:j.portal;return b.createElement(b.Fragment,{},_,b.createElement(Da,{effect:w,deps:h?[h]:[]}),k)};return Tr.call(Re,i)||Rr.call(Re,i,Fs),e!=null&&e.name&&(t&&(t.displayName=`Million(Render(${e.name}))`),i.displayName=`Million(Block(${e.name}))`),i},qa=({each:t,children:e,memo:r,svg:n,as:s,...i})=>{const o=b.useRef(null),[a]=b.useState(()=>({current:Array(t.length)})),l=b.useRef(null),f=b.useRef({each:null,children:null,mounted:!1}),[,h]=b.useState(!1);if(l.current&&(t!==f.current.each||!r)){const y=Us(t,e,f,a,r);Ms.call(l.current,Rs(y))}const p=n?Ds:Dr,d=b.createElement(b.Fragment,null,b.createElement(s??p,{...i,ref:o}),...a.current.map(y=>y.portal));return b.useEffect(()=>{if(!o.current||l.current||f.current.mounted)return;const y=Us(t,e,f,a,r);l.current=Rs(y),Tr.call(Re,d)||Rr.call(Re,d,l.current),$s.call(l.current,o.current),f.current.mounted=!0,h(!0)},[o.current]),d},Ha=b.memo;Ha(qa);const Us=(t,e,r,n,s)=>{var a;const i=Array(t.length),o=r.current;for(let l=0,f=t.length;l<f;++l){if(s&&o.each&&o.each[l]===t[l]){i[l]=(a=o.children)==null?void 0:a[l];continue}const h=e(t[l],l);if(Tr.call(Re,h.type)){o.block||(o.block=ys.call(Re,h.type)),i[l]=o.block(h.props,n,l);continue}if(typeof h.type=="function"&&"_c"in h.type){const y=h.type(h.props);if(Tr.call(Re,y.type)){const w=ys.call(Re,y.type);if(typeof w=="function"){i[l]=w(y.props);continue}}}const p=Ls(y=>y==null?void 0:y.scope),d=(y,w,_)=>p({scope:mn(b.createElement(h.type,y),!1,w.current,_)},h.key?String(h.key):void 0);Rr.call(Re,h.type,d),o.block=d,i[l]=d(h.props,n,l)}return o.each=t,o.children=i,i};function Va(t,e){return t===e||t!==t&&e!==e}function Qa(t,e){for(const r in t)if(!Va(t[r],e[r]))return!0;return!1}function Br(t,{portals:e,...r}){const n=`CompiledBlock(Inner(${r.name}))`,s=Fs(a=>t(a),{...r,scoped:void 0,name:n,shouldUpdate:Qa}),i=(e==null?void 0:e.length)||0,o=e&&i>0?a=>{const l=b.useContext(Ba),[f]=b.useState(()=>[]),h={...a,scoped:l};for(let d=0;d<i;d++){const y=e[d],w=mn(h[y],!1,f,d);h[y]=w}const p=[];for(let d=0,y=f.length;d<y;d++)p[d]=f[d].portal;return b.createElement(b.Fragment,null,b.createElement(s,h),p)}:a=>b.createElement(s,a);return r.name&&(o.displayName=`Million(CompiledBlock(Outer(${r.name})))`),o}typeof window<"u"&&(window.__MILLION_DATA__={version:"3.0.6"});const tr={MESSAGE:"message",TYPING:"typing",STOP_TYPING:"stop-typing",AGENT_MESSAGE:"agent-message"},qs="user-bot-id",wn="https://api.dialoguebot.tech";console.log("API_URL",wn);var Xe={},re={},fe={};Object.defineProperty(fe,"__esModule",{value:!0}),fe.output=fe.exists=fe.hash=fe.bytes=fe.bool=fe.number=fe.isBytes=void 0;function Ir(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}fe.number=Ir;function Hs(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}fe.bool=Hs;function Vs(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}fe.isBytes=Vs;function xn(t,...e){if(!Vs(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}fe.bytes=xn;function Qs(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ir(t.outputLen),Ir(t.blockLen)}fe.hash=Qs;function zs(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}fe.exists=zs;function Ws(t,e){xn(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}fe.output=Ws;const za={number:Ir,bool:Hs,bytes:xn,hash:Qs,exists:zs,output:Ws};fe.default=za;var F={};Object.defineProperty(F,"__esModule",{value:!0}),F.add5L=F.add5H=F.add4H=F.add4L=F.add3H=F.add3L=F.add=F.rotlBL=F.rotlBH=F.rotlSL=F.rotlSH=F.rotr32L=F.rotr32H=F.rotrBL=F.rotrBH=F.rotrSL=F.rotrSH=F.shrSL=F.shrSH=F.toBig=F.split=F.fromBig=void 0;const Fr=BigInt(2**32-1),En=BigInt(32);function _n(t,e=!1){return e?{h:Number(t&Fr),l:Number(t>>En&Fr)}:{h:Number(t>>En&Fr)|0,l:Number(t&Fr)|0}}F.fromBig=_n;function Ys(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:o}=_n(t[s],e);[r[s],n[s]]=[i,o]}return[r,n]}F.split=Ys;const Ks=(t,e)=>BigInt(t>>>0)<<En|BigInt(e>>>0);F.toBig=Ks;const Gs=(t,e,r)=>t>>>r;F.shrSH=Gs;const Xs=(t,e,r)=>t<<32-r|e>>>r;F.shrSL=Xs;const Js=(t,e,r)=>t>>>r|e<<32-r;F.rotrSH=Js;const Zs=(t,e,r)=>t<<32-r|e>>>r;F.rotrSL=Zs;const ei=(t,e,r)=>t<<64-r|e>>>r-32;F.rotrBH=ei;const ti=(t,e,r)=>t>>>r-32|e<<64-r;F.rotrBL=ti;const ri=(t,e)=>e;F.rotr32H=ri;const ni=(t,e)=>t;F.rotr32L=ni;const si=(t,e,r)=>t<<r|e>>>32-r;F.rotlSH=si;const ii=(t,e,r)=>e<<r|t>>>32-r;F.rotlSL=ii;const oi=(t,e,r)=>e<<r-32|t>>>64-r;F.rotlBH=oi;const ai=(t,e,r)=>t<<r-32|e>>>64-r;F.rotlBL=ai;function ci(t,e,r,n){const s=(e>>>0)+(n>>>0);return{h:t+r+(s/2**32|0)|0,l:s|0}}F.add=ci;const li=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0);F.add3L=li;const ui=(t,e,r,n)=>e+r+n+(t/2**32|0)|0;F.add3H=ui;const hi=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0);F.add4L=hi;const fi=(t,e,r,n,s)=>e+r+n+s+(t/2**32|0)|0;F.add4H=fi;const di=(t,e,r,n,s)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(s>>>0);F.add5L=di;const pi=(t,e,r,n,s,i)=>e+r+n+s+i+(t/2**32|0)|0;F.add5H=pi;const Wa={fromBig:_n,split:Ys,toBig:Ks,shrSH:Gs,shrSL:Xs,rotrSH:Js,rotrSL:Zs,rotrBH:ei,rotrBL:ti,rotr32H:ri,rotr32L:ni,rotlSH:si,rotlSL:ii,rotlBH:oi,rotlBL:ai,add:ci,add3L:li,add3H:ui,add4L:hi,add4H:fi,add5H:pi,add5L:di};F.default=Wa;var yi={},Ur={};Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.crypto=void 0,Ur.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.byteSwap32=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=t.isBytes=void 0;const e=Ur,r=fe;function n(m){return m instanceof Uint8Array||m!=null&&typeof m=="object"&&m.constructor.name==="Uint8Array"}t.isBytes=n;const s=m=>new Uint8Array(m.buffer,m.byteOffset,m.byteLength);t.u8=s;const i=m=>new Uint32Array(m.buffer,m.byteOffset,Math.floor(m.byteLength/4));t.u32=i;const o=m=>new DataView(m.buffer,m.byteOffset,m.byteLength);t.createView=o;const a=(m,T)=>m<<32-T|m>>>T;t.rotr=a;const l=(m,T)=>m<<T|m>>>32-T>>>0;t.rotl=l,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;const f=m=>m<<24&4278190080|m<<8&16711680|m>>>8&65280|m>>>24&255;t.byteSwap=f,t.byteSwapIfBE=t.isLE?m=>m:m=>(0,t.byteSwap)(m);function h(m){for(let T=0;T<m.length;T++)m[T]=(0,t.byteSwap)(m[T])}t.byteSwap32=h;const p=Array.from({length:256},(m,T)=>T.toString(16).padStart(2,"0"));function d(m){(0,r.bytes)(m);let T="";for(let S=0;S<m.length;S++)T+=p[m[S]];return T}t.bytesToHex=d;const y={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function w(m){if(m>=y._0&&m<=y._9)return m-y._0;if(m>=y._A&&m<=y._F)return m-(y._A-10);if(m>=y._a&&m<=y._f)return m-(y._a-10)}function _(m){if(typeof m!="string")throw new Error("hex string expected, got "+typeof m);const T=m.length,S=T/2;if(T%2)throw new Error("padded hex string expected, got unpadded hex of length "+T);const x=new Uint8Array(S);for(let v=0,O=0;v<S;v++,O+=2){const C=w(m.charCodeAt(O)),N=w(m.charCodeAt(O+1));if(C===void 0||N===void 0){const B=m[O]+m[O+1];throw new Error('hex string expected, got non-hex character "'+B+'" at index '+O)}x[v]=C*16+N}return x}t.hexToBytes=_;const g=async()=>{};t.nextTick=g;async function k(m,T,S){let x=Date.now();for(let v=0;v<m;v++){S(v);const O=Date.now()-x;O>=0&&O<T||(await(0,t.nextTick)(),x+=O)}}t.asyncLoop=k;function M(m){if(typeof m!="string")throw new Error(`utf8ToBytes expected string, got ${typeof m}`);return new Uint8Array(new TextEncoder().encode(m))}t.utf8ToBytes=M;function I(m){return typeof m=="string"&&(m=M(m)),(0,r.bytes)(m),m}t.toBytes=I;function j(...m){let T=0;for(let x=0;x<m.length;x++){const v=m[x];(0,r.bytes)(v),T+=v.length}const S=new Uint8Array(T);for(let x=0,v=0;x<m.length;x++){const O=m[x];S.set(O,v),v+=O.length}return S}t.concatBytes=j;class ${clone(){return this._cloneInto()}}t.Hash=$;const K={}.toString;function oe(m,T){if(T!==void 0&&K.call(T)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(m,T)}t.checkOpts=oe;function D(m){const T=x=>m().update(I(x)).digest(),S=m();return T.outputLen=S.outputLen,T.blockLen=S.blockLen,T.create=()=>m(),T}t.wrapConstructor=D;function X(m){const T=(x,v)=>m(v).update(I(x)).digest(),S=m({});return T.outputLen=S.outputLen,T.blockLen=S.blockLen,T.create=x=>m(x),T}t.wrapConstructorWithOpts=X;function J(m){const T=(x,v)=>m(v).update(I(x)).digest(),S=m({});return T.outputLen=S.outputLen,T.blockLen=S.blockLen,T.create=x=>m(x),T}t.wrapXOFConstructorWithOpts=J;function H(m=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(m));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=H}(yi),Object.defineProperty(re,"__esModule",{value:!0}),re.shake256=re.shake128=re.keccak_512=re.keccak_384=re.keccak_256=re.keccak_224=re.sha3_512=re.sha3_384=re.sha3_256=re.sha3_224=re.Keccak=re.keccakP=void 0;const Ot=fe,rr=F,Qe=yi,mi=[],gi=[],bi=[],Ya=BigInt(0),nr=BigInt(1),Ka=BigInt(2),Ga=BigInt(7),Xa=BigInt(256),Ja=BigInt(113);for(let t=0,e=nr,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],mi.push(2*(5*n+r)),gi.push((t+1)*(t+2)/2%64);let s=Ya;for(let i=0;i<7;i++)e=(e<<nr^(e>>Ga)*Ja)%Xa,e&Ka&&(s^=nr<<(nr<<BigInt(i))-nr);bi.push(s)}const[Za,ec]=(0,rr.split)(bi,!0),vi=(t,e,r)=>r>32?(0,rr.rotlBH)(t,e,r):(0,rr.rotlSH)(t,e,r),wi=(t,e,r)=>r>32?(0,rr.rotlBL)(t,e,r):(0,rr.rotlSL)(t,e,r);function xi(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,f=r[l],h=r[l+1],p=vi(f,h,1)^r[a],d=wi(f,h,1)^r[a+1];for(let y=0;y<50;y+=10)t[o+y]^=p,t[o+y+1]^=d}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=gi[o],l=vi(s,i,a),f=wi(s,i,a),h=mi[o];s=t[h],i=t[h+1],t[h]=l,t[h+1]=f}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=Za[n],t[1]^=ec[n]}r.fill(0)}re.keccakP=xi;class sr extends Qe.Hash{constructor(e,r,n,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,Ot.number)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Qe.u32)(this.state)}keccak(){Qe.isLE||(0,Qe.byteSwap32)(this.state32),xi(this.state32,this.rounds),Qe.isLE||(0,Qe.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(e){(0,Ot.exists)(this);const{blockLen:r,state:n}=this;e=(0,Qe.toBytes)(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(r-this.pos,s-i);for(let a=0;a<o;a++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:s}=this;e[n]^=r,r&128&&n===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){(0,Ot.exists)(this,!1),(0,Ot.bytes)(e),this.finish();const r=this.state,{blockLen:n}=this;for(let s=0,i=e.length;s<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-s);e.set(r.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,Ot.number)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,Ot.output)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new sr(r,n,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}re.Keccak=sr;const Je=(t,e,r)=>(0,Qe.wrapConstructor)(()=>new sr(e,t,r));re.sha3_224=Je(6,144,224/8),re.sha3_256=Je(6,136,256/8),re.sha3_384=Je(6,104,384/8),re.sha3_512=Je(6,72,512/8),re.keccak_224=Je(1,144,224/8),re.keccak_256=Je(1,136,256/8),re.keccak_384=Je(1,104,384/8),re.keccak_512=Je(1,72,512/8);const Ei=(t,e,r)=>(0,Qe.wrapXOFConstructorWithOpts)((n={})=>new sr(e,t,n.dkLen===void 0?r:n.dkLen,!0));re.shake128=Ei(31,168,128/8),re.shake256=Ei(31,136,256/8);const{sha3_512:tc}=re,_i=24,ir=32,Sn=(t=4,e=Math.random)=>{let r="";for(;r.length<t;)r=r+Math.floor(e()*36).toString(36);return r};function Si(t){let e=8n,r=0n;for(const n of t.values()){const s=BigInt(n);r=(r<<e)+s}return r}const ki=(t="")=>Si(tc(t)).toString(36).slice(1),Ci=Array.from({length:26},(t,e)=>String.fromCharCode(e+97)),rc=t=>Ci[Math.floor(t()*Ci.length)],Oi=({globalObj:t=typeof lt<"u"?lt:typeof window<"u"?window:{},random:e=Math.random}={})=>{const r=Object.keys(t).toString(),n=r.length?r+Sn(ir,e):Sn(ir,e);return ki(n).substring(0,ir)},Ai=t=>()=>t++,nc=476782367,Ti=({random:t=Math.random,counter:e=Ai(Math.floor(t()*nc)),length:r=_i,fingerprint:n=Oi({random:t})}={})=>function(){const i=rc(t),o=Date.now().toString(36),a=e().toString(36),l=Sn(r,t),f=`${o+l+a+n}`;return`${i+ki(f).substring(1,r)}`},sc=Ti(),ic=(t,{minLength:e=2,maxLength:r=ir}={})=>{const n=t.length,s=/^[0-9a-z]+$/;try{if(typeof t=="string"&&n>=e&&n<=r&&s.test(t))return!0}finally{}return!1};Xe.getConstants=()=>({defaultLength:_i,bigLength:ir}),Xe.init=Ti,Xe.createId=sc,Xe.bufToBigInt=Si,Xe.createCounter=Ai,Xe.createFingerprint=Oi,Xe.isCuid=ic;const{createId:oc,init:ch,getConstants:lh,isCuid:uh}=Xe;var ac=oc;const Se=()=>{const t=ac(),e=localStorage.getItem(qs);return e||(localStorage.setItem(qs,t),t)},Ri=(t,e)=>{const r=e||Se();return`${t}_${r}`},Pi=t=>{var e;(e=window.open(t,"_blank"))==null||e.focus()},kn=t=>{t=t.replace(/^#/,"");const e=parseInt(t,16);let r=e>>16&255,n=e>>8&255,s=e&255;r/=255,n/=255,s/=255;const i=Math.max(r,n,s),o=Math.min(r,n,s);let a=0,l;const f=(i+o)/2;if(i===o)a=l=0;else{const h=i-o;switch(l=f>.5?h/(2-i-o):h/(i+o),i){case r:a=(n-s)/h+(n<s?6:0);break;case n:a=(s-r)/h+2;break;case s:a=(r-n)/h+4;break}a/=6}return a*=360,{h:Math.round(a),s:Math.round(l*100),l:Math.round(f*100)}};var or=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},At=typeof window>"u"||"Deno"in globalThis;function ke(){}function cc(t,e){return typeof t=="function"?t(e):t}function Cn(t){return typeof t=="number"&&t>=0&&t!==1/0}function $i(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Mi(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==On(o,e.options))return!1}else if(!cr(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Li(t,e){const{exact:r,status:n,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(r){if(ar(e.options.mutationKey)!==ar(i))return!1}else if(!cr(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function On(t,e){return((e==null?void 0:e.queryKeyHashFn)||ar)(t)}function ar(t){return JSON.stringify(t,(e,r)=>Tn(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function cr(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!cr(t[r],e[r])):!1}function Ni(t,e){if(t===e)return t;const r=ji(t)&&ji(e);if(r||Tn(t)&&Tn(e)){const n=r?t:Object.keys(t),s=n.length,i=r?e:Object.keys(e),o=i.length,a=r?[]:{};let l=0;for(let f=0;f<o;f++){const h=r?f:i[f];!r&&t[h]===void 0&&e[h]===void 0&&n.includes(h)?(a[h]=void 0,l++):(a[h]=Ni(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&l++)}return s===o&&l===s?t:a}return e}function An(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function ji(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Tn(t){if(!Di(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Di(r)||!r.hasOwnProperty("isPrototypeOf"))}function Di(t){return Object.prototype.toString.call(t)==="[object Object]"}function lc(t){return new Promise(e=>{setTimeout(e,t)})}function Rn(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Ni(t,e):e}function uc(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function hc(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var lr=Symbol(),fc=(No=class extends or{constructor(){super();L(this,yt,void 0);L(this,tt,void 0);L(this,Pt,void 0);P(this,Pt,e=>{if(!At&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){u(this,tt)||this.setEventListener(u(this,Pt))}onUnsubscribe(){var e;this.hasListeners()||((e=u(this,tt))==null||e.call(this),P(this,tt,void 0))}setEventListener(e){var r;P(this,Pt,e),(r=u(this,tt))==null||r.call(this),P(this,tt,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){u(this,yt)!==e&&(P(this,yt,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof u(this,yt)=="boolean"?u(this,yt):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},yt=new WeakMap,tt=new WeakMap,Pt=new WeakMap,No),Pn=new fc,dc=(jo=class extends or{constructor(){super();L(this,$t,!0);L(this,rt,void 0);L(this,Mt,void 0);P(this,Mt,e=>{if(!At&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){u(this,rt)||this.setEventListener(u(this,Mt))}onUnsubscribe(){var e;this.hasListeners()||((e=u(this,rt))==null||e.call(this),P(this,rt,void 0))}setEventListener(e){var r;P(this,Mt,e),(r=u(this,rt))==null||r.call(this),P(this,rt,e(this.setOnline.bind(this)))}setOnline(e){u(this,$t)!==e&&(P(this,$t,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return u(this,$t)}},$t=new WeakMap,rt=new WeakMap,Mt=new WeakMap,jo),qr=new dc;function pc(t){return Math.min(1e3*2**t,3e4)}function $n(t){return(t??"online")==="online"?qr.isOnline():!0}var Bi=class{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Mn(t){return t instanceof Bi}function Ii(t){let e=!1,r=0,n=!1,s,i,o;const a=new Promise((g,k)=>{i=g,o=k}),l=g=>{var k;n||(y(new Bi(g)),(k=t.abort)==null||k.call(t))},f=()=>{e=!0},h=()=>{e=!1},p=()=>!Pn.isFocused()||t.networkMode!=="always"&&!qr.isOnline(),d=g=>{var k;n||(n=!0,(k=t.onSuccess)==null||k.call(t,g),s==null||s(),i(g))},y=g=>{var k;n||(n=!0,(k=t.onError)==null||k.call(t,g),s==null||s(),o(g))},w=()=>new Promise(g=>{var k;s=M=>{const I=n||!p();return I&&g(M),I},(k=t.onPause)==null||k.call(t)}).then(()=>{var g;s=void 0,n||(g=t.onContinue)==null||g.call(t)}),_=()=>{if(n)return;let g;try{g=t.fn()}catch(k){g=Promise.reject(k)}Promise.resolve(g).then(d).catch(k=>{var K;if(n)return;const M=t.retry??(At?0:3),I=t.retryDelay??pc,j=typeof I=="function"?I(r,k):I,$=M===!0||typeof M=="number"&&r<M||typeof M=="function"&&M(r,k);if(e||!$){y(k);return}r++,(K=t.onFail)==null||K.call(t,r,k),lc(j).then(()=>{if(p())return w()}).then(()=>{e?y(k):_()})})};return $n(t.networkMode)?_():w().then(_),{promise:a,cancel:l,continue:()=>(s==null?void 0:s())?a:Promise.resolve(),cancelRetry:f,continueRetry:h}}function yc(){let t=[],e=0,r=d=>{d()},n=d=>{d()},s=d=>setTimeout(d,0);const i=d=>{s=d},o=d=>{let y;e++;try{y=d()}finally{e--,e||f()}return y},a=d=>{e?t.push(d):s(()=>{r(d)})},l=d=>(...y)=>{a(()=>{d(...y)})},f=()=>{const d=t;t=[],d.length&&s(()=>{n(()=>{d.forEach(y=>{r(y)})})})};return{batch:o,batchCalls:l,schedule:a,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{n=d},setScheduler:i}}var ye=yc(),Fi=(Do=class{constructor(){L(this,mt,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cn(this.gcTime)&&P(this,mt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(At?1/0:5*60*1e3))}clearGcTimeout(){u(this,mt)&&(clearTimeout(u(this,mt)),P(this,mt,void 0))}},mt=new WeakMap,Do),mc=(Bo=class extends Fi{constructor(e){super();L(this,$e);L(this,Lt,void 0);L(this,Nt,void 0);L(this,Oe,void 0);L(this,be,void 0);L(this,de,void 0);L(this,pr,void 0);L(this,gt,void 0);P(this,gt,!1),P(this,pr,e.defaultOptions),this.setOptions(e.options),P(this,de,[]),P(this,Oe,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,P(this,Lt,e.state||gc(this.options)),this.state=u(this,Lt),this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...u(this,pr),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!u(this,de).length&&this.state.fetchStatus==="idle"&&u(this,Oe).remove(this)}setData(e,r){const n=Rn(this.state.data,e,this.options);return W(this,$e,Ye).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){W(this,$e,Ye).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=u(this,be))==null?void 0:n.promise;return(s=u(this,be))==null||s.cancel(e),r?r.then(ke).catch(ke):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(u(this,Lt))}isActive(){return u(this,de).some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?u(this,de).some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!$i(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=u(this,de).find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=u(this,be))==null||r.continue()}onOnline(){var r;const e=u(this,de).find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=u(this,be))==null||r.continue()}addObserver(e){u(this,de).includes(e)||(u(this,de).push(e),this.clearGcTimeout(),u(this,Oe).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){u(this,de).includes(e)&&(P(this,de,u(this,de).filter(r=>r!==e)),u(this,de).length||(u(this,be)&&(u(this,gt)?u(this,be).cancel({revert:!0}):u(this,be).cancelRetry()),this.scheduleGc()),u(this,Oe).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return u(this,de).length}invalidate(){this.state.isInvalidated||W(this,$e,Ye).call(this,{type:"invalidate"})}fetch(e,r){var f,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(u(this,be))return u(this,be).continueRetry(),u(this,be).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=u(this,de).find(y=>y.options.queryFn);d&&this.setOptions(d.options)}process.env.NODE_ENV!=="production"&&(Array.isArray(this.options.queryKey)||console.error("As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']"));const n=new AbortController,s={queryKey:this.queryKey,meta:this.meta},i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(P(this,gt,!0),n.signal)})};i(s);const o=()=>(process.env.NODE_ENV!=="production"&&this.options.queryFn===lr&&console.error(`Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${this.options.queryHash}'`),!this.options.queryFn||this.options.queryFn===lr?Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`)):(P(this,gt,!1),this.options.persister?this.options.persister(this.options.queryFn,s,this):this.options.queryFn(s))),a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(f=this.options.behavior)==null||f.onFetch(a,this),P(this,Nt,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&W(this,$e,Ye).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const l=d=>{var y,w,_,g;Mn(d)&&d.silent||W(this,$e,Ye).call(this,{type:"error",error:d}),Mn(d)||((w=(y=u(this,Oe).config).onError)==null||w.call(y,d,this),(g=(_=u(this,Oe).config).onSettled)==null||g.call(_,this.state.data,d,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return P(this,be,Ii({fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:d=>{var y,w,_,g;if(d===void 0){process.env.NODE_ENV!=="production"&&console.error(`Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ${this.queryHash}`),l(new Error(`${this.queryHash} data is undefined`));return}this.setData(d),(w=(y=u(this,Oe).config).onSuccess)==null||w.call(y,d,this),(g=(_=u(this,Oe).config).onSettled)==null||g.call(_,d,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:l,onFail:(d,y)=>{W(this,$e,Ye).call(this,{type:"failed",failureCount:d,error:y})},onPause:()=>{W(this,$e,Ye).call(this,{type:"pause"})},onContinue:()=>{W(this,$e,Ye).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode})),u(this,be).promise}},Lt=new WeakMap,Nt=new WeakMap,Oe=new WeakMap,be=new WeakMap,de=new WeakMap,pr=new WeakMap,gt=new WeakMap,$e=new WeakSet,Ye=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Ui(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Mn(s)&&s.revert&&u(this,Nt)?{...u(this,Nt),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),ye.batch(()=>{u(this,de).forEach(n=>{n.onQueryUpdate()}),u(this,Oe).notify({query:this,type:"updated",action:e})})},Bo);function Ui(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$n(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function gc(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var bc=(Io=class extends or{constructor(e={}){super();L(this,De,void 0);this.config=e,P(this,De,new Map)}build(e,r,n){const s=r.queryKey,i=r.queryHash??On(s,r);let o=this.get(i);return o||(o=new mc({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){u(this,De).has(e.queryHash)||(u(this,De).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=u(this,De).get(e.queryHash);r&&(e.destroy(),r===e&&u(this,De).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ye.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return u(this,De).get(e)}getAll(){return[...u(this,De).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Mi(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Mi(e,n)):r}notify(e){ye.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){ye.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ye.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},De=new WeakMap,Io),vc=(Fo=class extends Fi{constructor(e){super();L(this,Ie);L(this,Be,void 0);L(this,yr,void 0);L(this,_e,void 0);L(this,jt,void 0);this.mutationId=e.mutationId,P(this,yr,e.defaultOptions),P(this,_e,e.mutationCache),P(this,Be,[]),this.state=e.state||wc(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...u(this,yr),...e},this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){u(this,Be).includes(e)||(u(this,Be).push(e),this.clearGcTimeout(),u(this,_e).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){P(this,Be,u(this,Be).filter(r=>r!==e)),this.scheduleGc(),u(this,_e).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){u(this,Be).length||(this.state.status==="pending"?this.scheduleGc():u(this,_e).remove(this))}continue(){var e;return((e=u(this,jt))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,l,f,h,p,d,y,w,_,g,k,M,I,j,$,K,oe;const r=()=>(P(this,jt,Ii({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(D,X)=>{W(this,Ie,ct).call(this,{type:"failed",failureCount:D,error:X})},onPause:()=>{W(this,Ie,ct).call(this,{type:"pause"})},onContinue:()=>{W(this,Ie,ct).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),u(this,jt).promise),n=this.state.status==="pending";try{if(!n){W(this,Ie,ct).call(this,{type:"pending",variables:e}),await((i=(s=u(this,_e).config).onMutate)==null?void 0:i.call(s,e,this));const X=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));X!==this.state.context&&W(this,Ie,ct).call(this,{type:"pending",context:X,variables:e})}const D=await r();return await((f=(l=u(this,_e).config).onSuccess)==null?void 0:f.call(l,D,e,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,D,e,this.state.context)),await((y=(d=u(this,_e).config).onSettled)==null?void 0:y.call(d,D,null,this.state.variables,this.state.context,this)),await((_=(w=this.options).onSettled)==null?void 0:_.call(w,D,null,e,this.state.context)),W(this,Ie,ct).call(this,{type:"success",data:D}),D}catch(D){try{throw await((k=(g=u(this,_e).config).onError)==null?void 0:k.call(g,D,e,this.state.context,this)),await((I=(M=this.options).onError)==null?void 0:I.call(M,D,e,this.state.context)),await(($=(j=u(this,_e).config).onSettled)==null?void 0:$.call(j,void 0,D,this.state.variables,this.state.context,this)),await((oe=(K=this.options).onSettled)==null?void 0:oe.call(K,void 0,D,e,this.state.context)),D}finally{W(this,Ie,ct).call(this,{type:"error",error:D})}}}},Be=new WeakMap,yr=new WeakMap,_e=new WeakMap,jt=new WeakMap,Ie=new WeakSet,ct=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!$n(this.options.networkMode),status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ye.batch(()=>{u(this,Be).forEach(n=>{n.onMutationUpdate(e)}),u(this,_e).notify({mutation:this,type:"updated",action:e})})},Fo);function wc(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xc=(Uo=class extends or{constructor(e={}){super();L(this,Ae,void 0);L(this,mr,void 0);L(this,bt,void 0);this.config=e,P(this,Ae,[]),P(this,mr,0)}build(e,r,n){const s=new vc({mutationCache:this,mutationId:++cn(this,mr)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){u(this,Ae).push(e),this.notify({type:"added",mutation:e})}remove(e){P(this,Ae,u(this,Ae).filter(r=>r!==e)),this.notify({type:"removed",mutation:e})}clear(){ye.batch(()=>{u(this,Ae).forEach(e=>{this.remove(e)})})}getAll(){return u(this,Ae)}find(e){const r={exact:!0,...e};return u(this,Ae).find(n=>Li(r,n))}findAll(e={}){return u(this,Ae).filter(r=>Li(e,r))}notify(e){ye.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){return P(this,bt,(u(this,bt)??Promise.resolve()).then(()=>{const e=u(this,Ae).filter(r=>r.state.isPaused);return ye.batch(()=>e.reduce((r,n)=>r.then(()=>n.continue().catch(ke)),Promise.resolve()))}).then(()=>{P(this,bt,void 0)})),u(this,bt)}},Ae=new WeakMap,mr=new WeakMap,bt=new WeakMap,Uo);function Ec(t){return{onFetch:(e,r)=>{const n=async()=>{var w,_,g,k,M;const s=e.options,i=(g=(_=(w=e.fetchOptions)==null?void 0:w.meta)==null?void 0:_.fetchMore)==null?void 0:g.direction,o=((k=e.state.data)==null?void 0:k.pages)||[],a=((M=e.state.data)==null?void 0:M.pageParams)||[],l={pages:[],pageParams:[]};let f=!1;const h=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(e.signal.aborted?f=!0:e.signal.addEventListener("abort",()=>{f=!0}),e.signal)})},p=e.options.queryFn&&e.options.queryFn!==lr?e.options.queryFn:()=>(process.env.NODE_ENV!=="production"&&e.options.queryFn===lr&&console.error(`Attempted to invoke queryFn when set to skipToken. This is likely a configuration error. Query hash: '${e.options.queryHash}'`),Promise.reject(new Error(`Missing queryFn: '${e.options.queryHash}'`))),d=async(I,j,$)=>{if(f)return Promise.reject();if(j==null&&I.pages.length)return Promise.resolve(I);const K={queryKey:e.queryKey,pageParam:j,direction:$?"backward":"forward",meta:e.options.meta};h(K);const oe=await p(K),{maxPages:D}=e.options,X=$?hc:uc;return{pages:X(I.pages,oe,D),pageParams:X(I.pageParams,j,D)}};let y;if(i&&o.length){const I=i==="backward",j=I?_c:qi,$={pages:o,pageParams:a},K=j(s,$);y=await d($,K,I)}else{y=await d(l,a[0]??s.initialPageParam);const I=t??o.length;for(let j=1;j<I;j++){const $=qi(s,y);y=await d(y,$)}}return y};e.options.persister?e.fetchFn=()=>{var s,i;return(i=(s=e.options).persister)==null?void 0:i.call(s,n,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=n}}}function qi(t,{pages:e,pageParams:r}){const n=e.length-1;return t.getNextPageParam(e[n],e,r[n],r)}function _c(t,{pages:e,pageParams:r}){var n;return(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r)}var Sc=(qo=class{constructor(t={}){L(this,ie,void 0);L(this,nt,void 0);L(this,st,void 0);L(this,Dt,void 0);L(this,Bt,void 0);L(this,it,void 0);L(this,It,void 0);L(this,Ft,void 0);P(this,ie,t.queryCache||new bc),P(this,nt,t.mutationCache||new xc),P(this,st,t.defaultOptions||{}),P(this,Dt,new Map),P(this,Bt,new Map),P(this,it,0)}mount(){cn(this,it)._++,u(this,it)===1&&(P(this,It,Pn.subscribe(async t=>{t&&(await this.resumePausedMutations(),u(this,ie).onFocus())})),P(this,Ft,qr.subscribe(async t=>{t&&(await this.resumePausedMutations(),u(this,ie).onOnline())})))}unmount(){var t,e;cn(this,it)._--,u(this,it)===0&&((t=u(this,It))==null||t.call(this),P(this,It,void 0),(e=u(this,Ft))==null||e.call(this),P(this,Ft,void 0))}isFetching(t){return u(this,ie).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return u(this,nt).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=u(this,ie).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=u(this,ie).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(r.staleTime)&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return u(this,ie).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=u(this,ie).get(n.queryHash),i=s==null?void 0:s.state.data,o=cc(e,i);if(o!==void 0)return u(this,ie).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return ye.batch(()=>u(this,ie).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=u(this,ie).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=u(this,ie);ye.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=u(this,ie),n={type:"active",...t};return ye.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=ye.batch(()=>u(this,ie).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(ke).catch(ke)}invalidateQueries(t={},e={}){return ye.batch(()=>{if(u(this,ie).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=ye.batch(()=>u(this,ie).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(ke)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ke)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=u(this,ie).build(this,e);return r.isStaleByTime(e.staleTime)?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ke).catch(ke)}fetchInfiniteQuery(t){return t.behavior=Ec(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ke).catch(ke)}resumePausedMutations(){return qr.isOnline()?u(this,nt).resumePausedMutations():Promise.resolve()}getQueryCache(){return u(this,ie)}getMutationCache(){return u(this,nt)}getDefaultOptions(){return u(this,st)}setDefaultOptions(t){P(this,st,t)}setQueryDefaults(t,e){u(this,Dt).set(ar(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...u(this,Dt).values()];let r={};return e.forEach(n=>{cr(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){u(this,Bt).set(ar(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...u(this,Bt).values()];let r={};return e.forEach(n=>{cr(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...u(this,st).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=On(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===lr&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...u(this,st).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){u(this,ie).clear(),u(this,nt).clear()}},ie=new WeakMap,nt=new WeakMap,st=new WeakMap,Dt=new WeakMap,Bt=new WeakMap,it=new WeakMap,It=new WeakMap,Ft=new WeakMap,qo),kc=(Ho=class extends or{constructor(e,r){super();L(this,Et);L(this,vr);L(this,wr);L(this,xr);L(this,Er);L(this,_r);L(this,Sr);L(this,kr);L(this,nn);L(this,xe,void 0);L(this,ne,void 0);L(this,gr,void 0);L(this,ve,void 0);L(this,vt,void 0);L(this,Ut,void 0);L(this,Fe,void 0);L(this,br,void 0);L(this,qt,void 0);L(this,Ht,void 0);L(this,wt,void 0);L(this,xt,void 0);L(this,ot,void 0);L(this,Vt,new Set);this.options=r,P(this,xe,e),P(this,Fe,null),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(u(this,ne).addObserver(this),Hi(u(this,ne),this.options)?W(this,Et,Or).call(this):this.updateResult(),W(this,Er,cs).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ln(u(this,ne),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ln(u(this,ne),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,W(this,_r,ls).call(this),W(this,Sr,us).call(this),u(this,ne).removeObserver(this)}setOptions(e,r){const n=this.options,s=u(this,ne);if(this.options=u(this,xe).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");W(this,kr,hs).call(this),u(this,ne).setOptions(this.options),n._defaulted&&!An(this.options,n)&&u(this,xe).getQueryCache().notify({type:"observerOptionsUpdated",query:u(this,ne),observer:this});const i=this.hasListeners();i&&Vi(u(this,ne),s,this.options,n)&&W(this,Et,Or).call(this),this.updateResult(r),i&&(u(this,ne)!==s||this.options.enabled!==n.enabled||this.options.staleTime!==n.staleTime)&&W(this,vr,is).call(this);const o=W(this,wr,os).call(this);i&&(u(this,ne)!==s||this.options.enabled!==n.enabled||o!==u(this,ot))&&W(this,xr,as).call(this,o)}getOptimisticResult(e){const r=u(this,xe).getQueryCache().build(u(this,xe),e),n=this.createResult(r,e);return Oc(this,n)&&(P(this,ve,n),P(this,Ut,this.options),P(this,vt,u(this,ne).state)),n}getCurrentResult(){return u(this,ve)}trackResult(e,r){const n={};return Object.keys(e).forEach(s=>{Object.defineProperty(n,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),e[s])})}),n}trackProp(e){u(this,Vt).add(e)}getCurrentQuery(){return u(this,ne)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=u(this,xe).defaultQueryOptions(e),n=u(this,xe).getQueryCache().build(u(this,xe),r);return n.isFetchingOptimistic=!0,n.fetch().then(()=>this.createResult(n,r))}fetch(e){return W(this,Et,Or).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),u(this,ve)))}createResult(e,r){var oe;const n=u(this,ne),s=this.options,i=u(this,ve),o=u(this,vt),a=u(this,Ut),f=e!==n?e.state:u(this,gr),{state:h}=e;let p={...h},d=!1,y;if(r._optimisticResults){const D=this.hasListeners(),X=!D&&Hi(e,r),J=D&&Vi(e,n,r,s);(X||J)&&(p={...p,...Ui(h.data,e.options)}),r._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:w,errorUpdatedAt:_,status:g}=p;if(r.select&&p.data!==void 0)if(i&&p.data===(o==null?void 0:o.data)&&r.select===u(this,br))y=u(this,qt);else try{P(this,br,r.select),y=r.select(p.data),y=Rn(i==null?void 0:i.data,y,r),P(this,qt,y),P(this,Fe,null)}catch(D){P(this,Fe,D)}else y=p.data;if(r.placeholderData!==void 0&&y===void 0&&g==="pending"){let D;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData))D=i.data;else if(D=typeof r.placeholderData=="function"?r.placeholderData((oe=u(this,Ht))==null?void 0:oe.state.data,u(this,Ht)):r.placeholderData,r.select&&D!==void 0)try{D=r.select(D),P(this,Fe,null)}catch(X){P(this,Fe,X)}D!==void 0&&(g="success",y=Rn(i==null?void 0:i.data,D,r),d=!0)}u(this,Fe)&&(w=u(this,Fe),y=u(this,qt),_=Date.now(),g="error");const k=p.fetchStatus==="fetching",M=g==="pending",I=g==="error",j=M&&k,$=y!==void 0;return{status:g,fetchStatus:p.fetchStatus,isPending:M,isSuccess:g==="success",isError:I,isInitialLoading:j,isLoading:j,data:y,dataUpdatedAt:p.dataUpdatedAt,error:w,errorUpdatedAt:_,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>f.dataUpdateCount||p.errorUpdateCount>f.errorUpdateCount,isFetching:k,isRefetching:k&&!M,isLoadingError:I&&!$,isPaused:p.fetchStatus==="paused",isPlaceholderData:d,isRefetchError:I&&$,isStale:Nn(e,r),refetch:this.refetch}}updateResult(e){const r=u(this,ve),n=this.createResult(u(this,ne),this.options);if(P(this,vt,u(this,ne).state),P(this,Ut,this.options),u(this,vt).data!==void 0&&P(this,Ht,u(this,ne)),An(n,r))return;P(this,ve,n);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!u(this,Vt).size)return!0;const l=new Set(a??u(this,Vt));return this.options.throwOnError&&l.add("error"),Object.keys(u(this,ve)).some(f=>{const h=f;return u(this,ve)[h]!==r[h]&&l.has(h)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),W(this,nn,na).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&W(this,Er,cs).call(this)}},xe=new WeakMap,ne=new WeakMap,gr=new WeakMap,ve=new WeakMap,vt=new WeakMap,Ut=new WeakMap,Fe=new WeakMap,br=new WeakMap,qt=new WeakMap,Ht=new WeakMap,wt=new WeakMap,xt=new WeakMap,ot=new WeakMap,Vt=new WeakMap,Et=new WeakSet,Or=function(e){W(this,kr,hs).call(this);let r=u(this,ne).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(ke)),r},vr=new WeakSet,is=function(){if(W(this,_r,ls).call(this),At||u(this,ve).isStale||!Cn(this.options.staleTime))return;const r=$i(u(this,ve).dataUpdatedAt,this.options.staleTime)+1;P(this,wt,setTimeout(()=>{u(this,ve).isStale||this.updateResult()},r))},wr=new WeakSet,os=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(u(this,ne)):this.options.refetchInterval)??!1},xr=new WeakSet,as=function(e){W(this,Sr,us).call(this),P(this,ot,e),!(At||this.options.enabled===!1||!Cn(u(this,ot))||u(this,ot)===0)&&P(this,xt,setInterval(()=>{(this.options.refetchIntervalInBackground||Pn.isFocused())&&W(this,Et,Or).call(this)},u(this,ot)))},Er=new WeakSet,cs=function(){W(this,vr,is).call(this),W(this,xr,as).call(this,W(this,wr,os).call(this))},_r=new WeakSet,ls=function(){u(this,wt)&&(clearTimeout(u(this,wt)),P(this,wt,void 0))},Sr=new WeakSet,us=function(){u(this,xt)&&(clearInterval(u(this,xt)),P(this,xt,void 0))},kr=new WeakSet,hs=function(){const e=u(this,xe).getQueryCache().build(u(this,xe),this.options);if(e===u(this,ne))return;const r=u(this,ne);P(this,ne,e),P(this,gr,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},nn=new WeakSet,na=function(e){ye.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(u(this,ve))}),u(this,xe).getQueryCache().notify({query:u(this,ne),type:"observerResultsUpdated"})})},Ho);function Cc(t,e){return e.enabled!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Hi(t,e){return Cc(t,e)||t.state.data!==void 0&&Ln(t,e,e.refetchOnMount)}function Ln(t,e,r){if(e.enabled!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Nn(t,e)}return!1}function Vi(t,e,r,n){return(t!==e||n.enabled===!1)&&(!r.suspense||t.state.status!=="error")&&Nn(t,r)}function Nn(t,e){return e.enabled!==!1&&t.isStaleByTime(e.staleTime)}function Oc(t,e){return!An(t.getCurrentResult(),e)}var Qi=ge.createContext(void 0),zi=t=>{const e=ge.useContext(Qi);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Ac=({client:t,children:e})=>(ge.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),R.jsx(Qi.Provider,{value:t,children:e})),Wi=ge.createContext(!1),Tc=()=>ge.useContext(Wi);Wi.Provider;function Rc(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Pc=ge.createContext(Rc()),$c=()=>ge.useContext(Pc);function Mc(t,e){return typeof t=="function"?t(...e):!!t}var Lc=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},Nc=t=>{ge.useEffect(()=>{t.clearReset()},[t])},jc=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&Mc(r,[t.error,n]),Dc=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},Bc=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Ic=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Fc(t,e,r){if(process.env.NODE_ENV!=="production"&&(typeof t!="object"||Array.isArray(t)))throw new Error('Bad argument type. Starting with v5, only the "Object" form is allowed when calling query related functions. Please use the error stack to find the culprit call. More info here: https://tanstack.com/query/latest/docs/react/guides/migrating-to-v5#supports-a-single-signature-one-object');const n=zi(r),s=Tc(),i=$c(),o=n.defaultQueryOptions(t);o._optimisticResults=s?"isRestoring":"optimistic",Dc(o),Lc(o,i),Nc(i);const[a]=ge.useState(()=>new e(n,o)),l=a.getOptimisticResult(o);if(ge.useSyncExternalStore(ge.useCallback(f=>{const h=s?()=>{}:a.subscribe(ye.batchCalls(f));return a.updateResult(),h},[a,s]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),ge.useEffect(()=>{a.setOptions(o,{listeners:!1})},[o,a]),Bc(o,l))throw Ic(o,a,i);if(jc({result:l,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw l.error;return o.notifyOnChangeProps?l:a.trackResult(l)}function Yi(t,e){return Fc(t,kc,e)}const Ne=Object.create(null);Ne.open="0",Ne.close="1",Ne.ping="2",Ne.pong="3",Ne.message="4",Ne.upgrade="5",Ne.noop="6";const Hr=Object.create(null);Object.keys(Ne).forEach(t=>{Hr[Ne[t]]=t});const jn={type:"error",data:"parser error"},Ki=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Gi=typeof ArrayBuffer=="function",Xi=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Dn=({type:t,data:e},r,n)=>Ki&&e instanceof Blob?r?n(e):Ji(e,n):Gi&&(e instanceof ArrayBuffer||Xi(e))?r?n(e):Ji(new Blob([e]),n):n(Ne[t]+(e||"")),Ji=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function Zi(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let Bn;function Uc(t,e){if(Ki&&t.data instanceof Blob)return t.data.arrayBuffer().then(Zi).then(e);if(Gi&&(t.data instanceof ArrayBuffer||Xi(t.data)))return e(Zi(t.data));Dn(t,!1,r=>{Bn||(Bn=new TextEncoder),e(Bn.encode(r))})}const eo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ur=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<eo.length;t++)ur[eo.charCodeAt(t)]=t;const qc=t=>{let e=t.length*.75,r=t.length,n,s=0,i,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const f=new ArrayBuffer(e),h=new Uint8Array(f);for(n=0;n<r;n+=4)i=ur[t.charCodeAt(n)],o=ur[t.charCodeAt(n+1)],a=ur[t.charCodeAt(n+2)],l=ur[t.charCodeAt(n+3)],h[s++]=i<<2|o>>4,h[s++]=(o&15)<<4|a>>2,h[s++]=(a&3)<<6|l&63;return f},Hc=typeof ArrayBuffer=="function",In=(t,e)=>{if(typeof t!="string")return{type:"message",data:to(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:Vc(t.substring(1),e)}:Hr[r]?t.length>1?{type:Hr[r],data:t.substring(1)}:{type:Hr[r]}:jn},Vc=(t,e)=>{if(Hc){const r=qc(t);return to(r,e)}else return{base64:!0,data:t}},to=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},ro="",Qc=(t,e)=>{const r=t.length,n=new Array(r);let s=0;t.forEach((i,o)=>{Dn(i,!1,a=>{n[o]=a,++s===r&&e(n.join(ro))})})},zc=(t,e)=>{const r=t.split(ro),n=[];for(let s=0;s<r.length;s++){const i=In(r[s],e);if(n.push(i),i.type==="error")break}return n};function Wc(){return new TransformStream({transform(t,e){Uc(t,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const i=new DataView(s.buffer);i.setUint8(0,126),i.setUint16(1,n)}else{s=new Uint8Array(9);const i=new DataView(s.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(r)})}})}let Fn;function Vr(t){return t.reduce((e,r)=>e+r.length,0)}function Qr(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let s=0;s<e;s++)r[s]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function Yc(t,e){Fn||(Fn=new TextDecoder);const r=[];let n=0,s=-1,i=!1;return new TransformStream({transform(o,a){for(r.push(o);;){if(n===0){if(Vr(r)<1)break;const l=Qr(r,1);i=(l[0]&128)===128,s=l[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(Vr(r)<2)break;const l=Qr(r,2);s=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),n=3}else if(n===2){if(Vr(r)<8)break;const l=Qr(r,8),f=new DataView(l.buffer,l.byteOffset,l.length),h=f.getUint32(0);if(h>Math.pow(2,21)-1){a.enqueue(jn);break}s=h*Math.pow(2,32)+f.getUint32(4),n=3}else{if(Vr(r)<s)break;const l=Qr(r,s);a.enqueue(In(i?l:Fn.decode(l),e)),n=0}if(s===0||s>t){a.enqueue(jn);break}}}})}const no=4;function le(t){if(t)return Kc(t)}function Kc(t){for(var e in le.prototype)t[e]=le.prototype[e];return t}le.prototype.on=le.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},le.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this},le.prototype.off=le.prototype.removeListener=le.prototype.removeAllListeners=le.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,s=0;s<r.length;s++)if(n=r[s],n===e||n.fn===e){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+t],this},le.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,s=r.length;n<s;++n)r[n].apply(this,e)}return this},le.prototype.emitReserved=le.prototype.emit,le.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},le.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Ce=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function so(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const Gc=Ce.setTimeout,Xc=Ce.clearTimeout;function zr(t,e){e.useNativeTimers?(t.setTimeoutFn=Gc.bind(Ce),t.clearTimeoutFn=Xc.bind(Ce)):(t.setTimeoutFn=Ce.setTimeout.bind(Ce),t.clearTimeoutFn=Ce.clearTimeout.bind(Ce))}const Jc=1.33;function Zc(t){return typeof t=="string"?el(t):Math.ceil((t.byteLength||t.size)*Jc)}function el(t){let e=0,r=0;for(let n=0,s=t.length;n<s;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function tl(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function rl(t){let e={},r=t.split("&");for(let n=0,s=r.length;n<s;n++){let i=r[n].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}class nl extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class Un extends le{constructor(e){super(),this.writable=!1,zr(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,r,n){return super.emitReserved("error",new nl(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=In(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=tl(e);return r.length?"?"+r:""}}const io="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),qn=64,sl={};let oo=0,Wr=0,ao;function co(t){let e="";do e=io[t%qn]+e,t=Math.floor(t/qn);while(t>0);return e}function lo(){const t=co(+new Date);return t!==ao?(oo=0,ao=t):t+"."+co(oo++)}for(;Wr<qn;Wr++)sl[io[Wr]]=Wr;let uo=!1;try{uo=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const il=uo;function ho(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||il))return new XMLHttpRequest}catch{}if(!e)try{return new Ce[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function hh(){}function ol(){}const al=function(){return new ho({xdomain:!1}).responseType!=null}();class cl extends Un{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){const n=location.protocol==="https:";let s=location.port;s||(s=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||s!==e.port}const r=e&&e.forceBase64;this.supportsBinary=al&&!r,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let n=0;this.polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};zc(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Qc(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=lo()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new je(this.uri(),e)}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(s,i)=>{this.onError("xhr post error",s,i)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}class je extends le{constructor(e,r){super(),zr(this,r),this.opts=r,this.method=r.method||"GET",this.uri=e,this.data=r.data!==void 0?r.data:null,this.create()}create(){var e;const r=so(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd;const n=this.xhr=new ho(r);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this.opts.extraHeaders[s])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this.opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this.opts.cookieJar)===null||s===void 0||s.parseCookies(n)),n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(s){this.setTimeoutFn(()=>{this.onError(s)},0);return}typeof document<"u"&&(this.index=je.requestsCount++,je.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=ol,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete je.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(je.requestsCount=0,je.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",fo);else if(typeof addEventListener=="function"){const t="onpagehide"in Ce?"pagehide":"unload";addEventListener(t,fo,!1)}}function fo(){for(let t in je.requests)je.requests.hasOwnProperty(t)&&je.requests[t].abort()}const Hn=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),Yr=Ce.WebSocket||Ce.MozWebSocket,po=!0,ll="arraybuffer",yo=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ul extends Un{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),r=this.opts.protocols,n=yo?{}:so(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=po&&!yo?r?new Yr(e,r):new Yr(e):new Yr(e,r,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],s=r===e.length-1;Dn(n,this.supportsBinary,i=>{const o={};try{po&&this.ws.send(i)}catch{}s&&Hn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=lo()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}check(){return!!Yr}}class hl extends Un{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(e=>{const r=Yc(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),s=Wc();s.readable.pipeTo(e.writable),this.writer=s.writable.getWriter();const i=()=>{n.read().then(({done:a,value:l})=>{a||(this.onPacket(l),i())}).catch(a=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this.writer.write(o).then(()=>this.onOpen())})}))}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],s=r===e.length-1;this.writer.write(n).then(()=>{s&&Hn(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this.transport)===null||e===void 0||e.close()}}const fl={websocket:ul,webtransport:hl,polling:cl},dl=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,pl=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Vn(t){if(t.length>2e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let s=dl.exec(t||""),i={},o=14;for(;o--;)i[pl[o]]=s[o]||"";return r!=-1&&n!=-1&&(i.source=e,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=yl(i,i.path),i.queryKey=ml(i,i.query),i}function yl(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function ml(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,i){s&&(r[s]=i)}),r}let mo=class Yt extends le{constructor(e,r={}){super(),this.binaryType=ll,this.writeBuffer=[],e&&typeof e=="object"&&(r=e,e=null),e?(e=Vn(e),r.hostname=e.host,r.secure=e.protocol==="https"||e.protocol==="wss",r.port=e.port,e.query&&(r.query=e.query)):r.host&&(r.hostname=Vn(r.host).host),zr(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=r.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=rl(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=no,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new fl[e](n)}open(){let e;if(this.opts.rememberUpgrade&&Yt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",r=>this.onClose("transport close",r))}probe(e){let r=this.createTransport(e),n=!1;Yt.priorWebsocketSuccess=!1;const s=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",p=>{if(!n)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Yt.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(h(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const d=new Error("probe error");d.transport=r.name,this.emitReserved("upgradeError",d)}}))};function i(){n||(n=!0,h(),r.close(),r=null)}const o=p=>{const d=new Error("probe error: "+p);d.transport=r.name,i(),this.emitReserved("upgradeError",d)};function a(){o("transport closed")}function l(){o("socket closed")}function f(p){r&&p.name!==r.name&&i()}const h=()=>{r.removeListener("open",s),r.removeListener("error",o),r.removeListener("close",a),this.off("close",l),this.off("upgrading",f)};r.once("open",s),r.once("error",o),r.once("close",a),this.once("close",l),this.once("upgrading",f),this.upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onOpen(){if(this.readyState="open",Yt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let e=0;const r=this.upgrades.length;for(;e<r;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const r=new Error("server error");r.code=e.data,this.onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(r+=Zc(s)),n>0&&r>this.maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}write(e,r,n){return this.sendPacket("message",e,r,n),this}send(e,r,n){return this.sendPacket("message",e,r,n),this}sendPacket(e,r,n,s){if(typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const i={type:e,data:r,options:n};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}onError(e){Yt.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,r){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const r=[];let n=0;const s=e.length;for(;n<s;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}};mo.protocol=no;function gl(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=Vn(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const i=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port+e,n.href=n.protocol+"://"+i+(r&&r.port===n.port?"":":"+n.port),n}const bl=typeof ArrayBuffer=="function",vl=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,go=Object.prototype.toString,wl=typeof Blob=="function"||typeof Blob<"u"&&go.call(Blob)==="[object BlobConstructor]",xl=typeof File=="function"||typeof File<"u"&&go.call(File)==="[object FileConstructor]";function Qn(t){return bl&&(t instanceof ArrayBuffer||vl(t))||wl&&t instanceof Blob||xl&&t instanceof File}function Kr(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(Kr(t[r]))return!0;return!1}if(Qn(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Kr(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&Kr(t[r]))return!0;return!1}function El(t){const e=[],r=t.data,n=t;return n.data=zn(r,e),n.attachments=e.length,{packet:n,buffers:e}}function zn(t,e){if(!t)return t;if(Qn(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=zn(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=zn(t[n],e));return r}return t}function _l(t,e){return t.data=Wn(t.data,e),delete t.attachments,t}function Wn(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=Wn(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=Wn(t[r],e));return t}const Sl=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],kl=5;var Q;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Q||(Q={}));class Cl{constructor(e){this.replacer=e}encode(e){return(e.type===Q.EVENT||e.type===Q.ACK)&&Kr(e)?this.encodeAsBinary({type:e.type===Q.EVENT?Q.BINARY_EVENT:Q.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===Q.BINARY_EVENT||e.type===Q.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=El(e),n=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(n),s}}function bo(t){return Object.prototype.toString.call(t)==="[object Object]"}class Yn extends le{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===Q.BINARY_EVENT;n||r.type===Q.BINARY_ACK?(r.type=n?Q.EVENT:Q.ACK,this.reconstructor=new Ol(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Qn(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(Q[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Q.BINARY_EVENT||n.type===Q.BINARY_ACK){const i=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const o=e.substring(i,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(r+1)==="/"){const i=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(i,r)}else n.nsp="/";const s=e.charAt(r+1);if(s!==""&&Number(s)==s){const i=r+1;for(;++r;){const o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}n.id=Number(e.substring(i,r+1))}if(e.charAt(++r)){const i=this.tryParse(e.substr(r));if(Yn.isPayloadValid(n.type,i))n.data=i;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case Q.CONNECT:return bo(r);case Q.DISCONNECT:return r===void 0;case Q.CONNECT_ERROR:return typeof r=="string"||bo(r);case Q.EVENT:case Q.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Sl.indexOf(r[0])===-1);case Q.ACK:case Q.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Ol{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=_l(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Al=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Yn,Encoder:Cl,get PacketType(){return Q},protocol:kl},Symbol.toStringTag,{value:"Module"}));function Pe(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const Tl=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class vo extends le{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Pe(e,"open",this.onopen.bind(this)),Pe(e,"packet",this.onpacket.bind(this)),Pe(e,"error",this.onerror.bind(this)),Pe(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){if(Tl.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const n={type:Q.EVENT,data:r};if(n.options={},n.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const o=this.ids++,a=r.pop();this._registerAckCallback(o,a),n.id=o}const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,r){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[e]=r;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);r.call(this,new Error("operation has timed out"))},s),o=(...a)=>{this.io.clearTimeoutFn(i),r.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...r){return new Promise((n,s)=>{const i=(o,a)=>o?s(o):n(a);i.withError=!0,r.push(i),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...i)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...i)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Q.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Q.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Q.EVENT:case Q.BINARY_EVENT:this.onevent(e);break;case Q.ACK:case Q.BINARY_ACK:this.onack(e);break;case Q.DISCONNECT:this.ondisconnect();break;case Q.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...s){n||(n=!0,r.packet({type:Q.ACK,id:e,data:s}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Q.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function Tt(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Tt.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+r:t-r}return Math.min(t,this.max)|0},Tt.prototype.reset=function(){this.attempts=0},Tt.prototype.setMin=function(t){this.ms=t},Tt.prototype.setMax=function(t){this.max=t},Tt.prototype.setJitter=function(t){this.jitter=t};class Kn extends le{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,zr(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Tt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const s=r.parser||Al;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new mo(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=Pe(r,"open",function(){n.onopen(),e&&e()}),i=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=Pe(r,"error",i);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{s(),i(new Error("timeout")),r.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(s),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Pe(e,"ping",this.onping.bind(this)),Pe(e,"data",this.ondata.bind(this)),Pe(e,"error",this.onerror.bind(this)),Pe(e,"close",this.onclose.bind(this)),Pe(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){Hn(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new vo(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,r){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const hr={};function Gr(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=gl(t,e.path||"/socket.io"),n=r.source,s=r.id,i=r.path,o=hr[s]&&i in hr[s].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new Kn(n,e):(hr[s]||(hr[s]=new Kn(n,e)),l=hr[s]),r.query&&!e.query&&(e.query=r.queryKey),l.socket(r.path,e)}Object.assign(Gr,{Manager:Kn,Socket:vo,io:Gr,connect:Gr});var Rl=typeof lt=="object"&&lt&&lt.Object===Object&&lt,Pl=typeof self=="object"&&self&&self.Object===Object&&self;Rl||Pl||Function("return this")();function $l(t){const e=b.useRef(t);e.current=t,b.useEffect(()=>()=>{e.current()},[])}const wo=b.createContext({}),Ml=({children:t,channelId:e,onEndBot:r,isTest:n=!1,onClose:s,isShowClose:i=!0,isForLiveChat:o,userId:a,customStyles:l,isForPreview:f,isForManager:h,adminId:p,...d})=>{const[y,w]=b.useState(!1),[_,g]=b.useState(h?void 0:l),k=zi(),M=b.useMemo(()=>new URLSearchParams(window.location.search),[]),I=b.useMemo(()=>a||Se(),[a]),j=b.useMemo(()=>e||M.get("channelId")||"",[e,M]),$=b.useRef(Gr(d.API_URL||wn,{autoConnect:!1,transports:["websocket"],query:{userId:p?`${I}_${p}`:I}})),{data:K,isLoading:oe}=Yi({queryKey:["messages",j,a||Se()],queryFn:async()=>{try{return f?[{isBot:!0,message:"Hello, how can I help you?",createdAt:new Date().toISOString()},{isBot:!1,message:"I want to know more about your product",userId:Se(),createdAt:new Date().toISOString()}]:(await(await fetch(`${URL}/api/conversation-live-chat/${a||Se()}/${j}`)).json()).data}catch{return[]}},initialData:[]}),{data:D}=Yi({queryKey:["custom-style",j,a||Se()],queryFn:async()=>{try{return(await(await fetch(`${d.API_URL||wn}/api/custom-chatbox/${j}`)).json()).data}catch{return}},enabled:!n&&!f&&!h}),X=b.useCallback(({message:m,cb:T,extraData:S,type:x})=>{const v=m.trim();if(v.length===0)return;const O=Ri(j,a),C={message:x==="list-button"?S||"":v,userId:p||a||Se(),template:{},createdAt:new Date().toISOString(),isTest:n};$.current.emit(tr.MESSAGE,{message:v,address:O,isTest:n,createdAt:C.createdAt}),k.setQueryData(["messages",j,a||Se()],N=>[...N,C]),T&&T(C)},[j,p,n,k,a]),J=b.useCallback(()=>{window.parent&&window.parent.postMessage({type:"TOGGLE_CHAT"},"*"),s==null||s()},[s]),H=b.useCallback(()=>{f||($.current.emit(tr.MESSAGE,{type:"event",typeName:"endConversation",address:Ri(j,a),isTest:n,message:""}),w(!1),k.setQueryData(["messages",j,a||Se()],()=>[]))},[j,f,n,k,a]);return $l(()=>{$.current.disconnect()}),b.useEffect(()=>{if(f)return;const m=$.current;return m.connect(),m.on(tr.MESSAGE,T=>{var S;((S=T.template)==null?void 0:S.type)==="list-button"?w(!0):w(!1),k.setQueryData(["messages",j,a||Se()],x=>[...x,T].filter(v=>v.userId!=="typing"))}),m.on(tr.TYPING,()=>{k.setQueryData(["messages",j,a||Se()],T=>[...T,{userId:"typing"}])}),m.on(tr.STOP_TYPING,()=>{k.setQueryData(["messages",j,a||Se()],T=>T.filter(S=>S.userId!=="typing"))}),()=>{m.disconnect()}},[j,k,a,f]),b.useEffect(()=>{f&&w(!0)},[f]),b.useEffect(()=>{D&&!h&&g(D)},[D,h]),b.useEffect(()=>{l&&!h&&g(l)},[l,h]),R.jsx(wo.Provider,{value:{socket:$.current,messages:K,channelId:j,onEndBot:r,isTest:n,handleSendMessage:X,handleClose:J,disableInput:y,isShowClose:i,isLoadingMessages:oe,isForLiveChat:o,userId:a,handleReload:H,customStyles:_,adminId:p,isForManager:h},children:t})},ft=()=>{const t=b.useContext(wo);if(!t)throw new Error("useSocket must be used within SocketProvider");return t};function xo(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=xo(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ll(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=xo(t))&&(n&&(n+=" "),n+=e);return n}const Gn="-";function Nl(t){const e=Dl(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;function s(o){const a=o.split(Gn);return a[0]===""&&a.length!==1&&a.shift(),Eo(a,e)||jl(o)}function i(o,a){const l=r[o]||[];return a&&n[o]?[...l,...n[o]]:l}return{getClassGroupId:s,getConflictingClassGroupIds:i}}function Eo(t,e){var o;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?Eo(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Gn);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId}const _o=/^\[(.+)\]$/;function jl(t){if(_o.test(t)){const e=_o.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}}function Dl(t){const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Il(Object.entries(t.classGroups),r).forEach(([i,o])=>{Xn(o,n,i,e)}),n}function Xn(t,e,r,n){t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:So(e,s);i.classGroupId=r;return}if(typeof s=="function"){if(Bl(s)){Xn(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Xn(o,So(e,i),r,n)})})}function So(t,e){let r=t;return e.split(Gn).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function Bl(t){return t.isThemeGetter}function Il(t,e){return e?t.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[r,s]}):t}function Fl(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;function s(i,o){r.set(i,o),e++,e>t&&(e=0,n=r,r=new Map)}return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}}const ko="!";function Ul(t){const e=t.separator,r=e.length===1,n=e[0],s=e.length;return function(o){const a=[];let l=0,f=0,h;for(let _=0;_<o.length;_++){let g=o[_];if(l===0){if(g===n&&(r||o.slice(_,_+s)===e)){a.push(o.slice(f,_)),f=_+s;continue}if(g==="/"){h=_;continue}}g==="["?l++:g==="]"&&l--}const p=a.length===0?o:o.substring(f),d=p.startsWith(ko),y=d?p.substring(1):p,w=h&&h>f?h-f:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:y,maybePostfixModifierPosition:w}}}function ql(t){if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e}function Hl(t){return{cache:Fl(t.cacheSize),splitModifiers:Ul(t),...Nl(t)}}const Vl=/\s+/;function Ql(t,e){const{splitModifiers:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,i=new Set;return t.trim().split(Vl).map(o=>{const{modifiers:a,hasImportantModifier:l,baseClassName:f,maybePostfixModifierPosition:h}=r(o);let p=n(h?f.substring(0,h):f),d=!!h;if(!p){if(!h)return{isTailwindClass:!1,originalClassName:o};if(p=n(f),!p)return{isTailwindClass:!1,originalClassName:o};d=!1}const y=ql(a).join(":");return{isTailwindClass:!0,modifierId:l?y+ko:y,classGroupId:p,originalClassName:o,hasPostfixModifier:d}}).reverse().filter(o=>{if(!o.isTailwindClass)return!0;const{modifierId:a,classGroupId:l,hasPostfixModifier:f}=o,h=a+l;return i.has(h)?!1:(i.add(h),s(l,f).forEach(p=>i.add(a+p)),!0)}).reverse().map(o=>o.originalClassName).join(" ")}function zl(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Co(e))&&(n&&(n+=" "),n+=r);return n}function Co(t){if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Co(t[n]))&&(r&&(r+=" "),r+=e);return r}function Wl(t,...e){let r,n,s,i=o;function o(l){const f=e.reduce((h,p)=>p(h),t());return r=Hl(f),n=r.cache.get,s=r.cache.set,i=a,a(l)}function a(l){const f=n(l);if(f)return f;const h=Ql(l,r);return s(l,h),h}return function(){return i(zl.apply(null,arguments))}}function se(t){const e=r=>r[t]||[];return e.isThemeGetter=!0,e}const Oo=/^\[(?:([a-z-]+):)?(.+)\]$/i,Yl=/^\d+\/\d+$/,Kl=new Set(["px","full","screen"]),Gl=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xl=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Jl=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Zl=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eu=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function ze(t){return dt(t)||Kl.has(t)||Yl.test(t)}function Ze(t){return Rt(t,"length",cu)}function dt(t){return!!t&&!Number.isNaN(Number(t))}function Xr(t){return Rt(t,"number",dt)}function fr(t){return!!t&&Number.isInteger(Number(t))}function tu(t){return t.endsWith("%")&&dt(t.slice(0,-1))}function q(t){return Oo.test(t)}function et(t){return Gl.test(t)}const ru=new Set(["length","size","percentage"]);function nu(t){return Rt(t,ru,Ao)}function su(t){return Rt(t,"position",Ao)}const iu=new Set(["image","url"]);function ou(t){return Rt(t,iu,uu)}function au(t){return Rt(t,"",lu)}function dr(){return!0}function Rt(t,e,r){const n=Oo.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1}function cu(t){return Xl.test(t)&&!Jl.test(t)}function Ao(){return!1}function lu(t){return Zl.test(t)}function uu(t){return eu.test(t)}function hu(){const t=se("colors"),e=se("spacing"),r=se("blur"),n=se("brightness"),s=se("borderColor"),i=se("borderRadius"),o=se("borderSpacing"),a=se("borderWidth"),l=se("contrast"),f=se("grayscale"),h=se("hueRotate"),p=se("invert"),d=se("gap"),y=se("gradientColorStops"),w=se("gradientColorStopPositions"),_=se("inset"),g=se("margin"),k=se("opacity"),M=se("padding"),I=se("saturate"),j=se("scale"),$=se("sepia"),K=se("skew"),oe=se("space"),D=se("translate"),X=()=>["auto","contain","none"],J=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",q,e],m=()=>[q,e],T=()=>["",ze,Ze],S=()=>["auto",dt,q],x=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],v=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],C=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",q],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[dt,Xr],Z=()=>[dt,q];return{cacheSize:500,separator:":",theme:{colors:[dr],spacing:[ze,Ze],blur:["none","",et,q],brightness:z(),borderColor:[t],borderRadius:["none","","full",et,q],borderSpacing:m(),borderWidth:T(),contrast:z(),grayscale:N(),hueRotate:Z(),invert:N(),gap:m(),gradientColorStops:[t],gradientColorStopPositions:[tu,Ze],inset:H(),margin:H(),opacity:z(),padding:m(),saturate:z(),scale:z(),sepia:N(),skew:Z(),space:m(),translate:m()},classGroups:{aspect:[{aspect:["auto","square","video",q]}],container:["container"],columns:[{columns:[et]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...x(),q]}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:X()}],"overscroll-x":[{"overscroll-x":X()}],"overscroll-y":[{"overscroll-y":X()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",fr,q]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",q]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",fr,q]}],"grid-cols":[{"grid-cols":[dr]}],"col-start-end":[{col:["auto",{span:["full",fr,q]},q]}],"col-start":[{"col-start":S()}],"col-end":[{"col-end":S()}],"grid-rows":[{"grid-rows":[dr]}],"row-start-end":[{row:["auto",{span:[fr,q]},q]}],"row-start":[{"row-start":S()}],"row-end":[{"row-end":S()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",q]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",q]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[M]}],px:[{px:[M]}],py:[{py:[M]}],ps:[{ps:[M]}],pe:[{pe:[M]}],pt:[{pt:[M]}],pr:[{pr:[M]}],pb:[{pb:[M]}],pl:[{pl:[M]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[oe]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[oe]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",q,e]}],"min-w":[{"min-w":[q,e,"min","max","fit"]}],"max-w":[{"max-w":[q,e,"none","full","min","max","fit","prose",{screen:[et]},et]}],h:[{h:[q,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[q,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[q,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[q,e,"auto","min","max","fit"]}],"font-size":[{text:["base",et,Ze]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xr]}],"font-family":[{font:[dr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",q]}],"line-clamp":[{"line-clamp":["none",dt,Xr]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ze,q]}],"list-image":[{"list-image":["none",q]}],"list-style-type":[{list:["none","disc","decimal",q]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[k]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...v(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ze,Ze]}],"underline-offset":[{"underline-offset":["auto",ze,q]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:m()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[k]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...x(),su]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nu]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ou]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[k]}],"border-style":[{border:[...v(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[k]}],"divide-style":[{divide:v()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...v()]}],"outline-offset":[{"outline-offset":[ze,q]}],"outline-w":[{outline:[ze,Ze]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[k]}],"ring-offset-w":[{"ring-offset":[ze,Ze]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",et,au]}],"shadow-color":[{shadow:[dr]}],opacity:[{opacity:[k]}],"mix-blend":[{"mix-blend":O()}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",et,q]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[I]}],sepia:[{sepia:[$]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[k]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",q]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",q]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",q]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[fr,q]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[K]}],"skew-y":[{"skew-y":[K]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",q]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",q]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":m()}],"scroll-mx":[{"scroll-mx":m()}],"scroll-my":[{"scroll-my":m()}],"scroll-ms":[{"scroll-ms":m()}],"scroll-me":[{"scroll-me":m()}],"scroll-mt":[{"scroll-mt":m()}],"scroll-mr":[{"scroll-mr":m()}],"scroll-mb":[{"scroll-mb":m()}],"scroll-ml":[{"scroll-ml":m()}],"scroll-p":[{"scroll-p":m()}],"scroll-px":[{"scroll-px":m()}],"scroll-py":[{"scroll-py":m()}],"scroll-ps":[{"scroll-ps":m()}],"scroll-pe":[{"scroll-pe":m()}],"scroll-pt":[{"scroll-pt":m()}],"scroll-pr":[{"scroll-pr":m()}],"scroll-pb":[{"scroll-pb":m()}],"scroll-pl":[{"scroll-pl":m()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",q]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ze,Ze,Xr]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const fu=Wl(hu);function pt(...t){return fu(Ll(t))}var To={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(lt,function(){var r=1e3,n=6e4,s=36e5,i="millisecond",o="second",a="minute",l="hour",f="day",h="week",p="month",d="quarter",y="year",w="date",_="Invalid Date",g=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,k=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(S){var x=["th","st","nd","rd"],v=S%100;return"["+S+(x[(v-20)%10]||x[v]||x[0])+"]"}},I=function(S,x,v){var O=String(S);return!O||O.length>=x?S:""+Array(x+1-O.length).join(v)+S},j={s:I,z:function(S){var x=-S.utcOffset(),v=Math.abs(x),O=Math.floor(v/60),C=v%60;return(x<=0?"+":"-")+I(O,2,"0")+":"+I(C,2,"0")},m:function S(x,v){if(x.date()<v.date())return-S(v,x);var O=12*(v.year()-x.year())+(v.month()-x.month()),C=x.clone().add(O,p),N=v-C<0,B=x.clone().add(O+(N?-1:1),p);return+(-(O+(v-C)/(N?C-B:B-C))||0)},a:function(S){return S<0?Math.ceil(S)||0:Math.floor(S)},p:function(S){return{M:p,y,w:h,d:f,D:w,h:l,m:a,s:o,ms:i,Q:d}[S]||String(S||"").toLowerCase().replace(/s$/,"")},u:function(S){return S===void 0}},$="en",K={};K[$]=M;var oe="$isDayjsObject",D=function(S){return S instanceof m||!(!S||!S[oe])},X=function S(x,v,O){var C;if(!x)return $;if(typeof x=="string"){var N=x.toLowerCase();K[N]&&(C=N),v&&(K[N]=v,C=N);var B=x.split("-");if(!C&&B.length>1)return S(B[0])}else{var z=x.name;K[z]=x,C=z}return!O&&C&&($=C),C||!O&&$},J=function(S,x){if(D(S))return S.clone();var v=typeof x=="object"?x:{};return v.date=S,v.args=arguments,new m(v)},H=j;H.l=X,H.i=D,H.w=function(S,x){return J(S,{locale:x.$L,utc:x.$u,x:x.$x,$offset:x.$offset})};var m=function(){function S(v){this.$L=X(v.locale,null,!0),this.parse(v),this.$x=this.$x||v.x||{},this[oe]=!0}var x=S.prototype;return x.parse=function(v){this.$d=function(O){var C=O.date,N=O.utc;if(C===null)return new Date(NaN);if(H.u(C))return new Date;if(C instanceof Date)return new Date(C);if(typeof C=="string"&&!/Z$/i.test(C)){var B=C.match(g);if(B){var z=B[2]-1||0,Z=(B[7]||"0").substring(0,3);return N?new Date(Date.UTC(B[1],z,B[3]||1,B[4]||0,B[5]||0,B[6]||0,Z)):new Date(B[1],z,B[3]||1,B[4]||0,B[5]||0,B[6]||0,Z)}}return new Date(C)}(v),this.init()},x.init=function(){var v=this.$d;this.$y=v.getFullYear(),this.$M=v.getMonth(),this.$D=v.getDate(),this.$W=v.getDay(),this.$H=v.getHours(),this.$m=v.getMinutes(),this.$s=v.getSeconds(),this.$ms=v.getMilliseconds()},x.$utils=function(){return H},x.isValid=function(){return this.$d.toString()!==_},x.isSame=function(v,O){var C=J(v);return this.startOf(O)<=C&&C<=this.endOf(O)},x.isAfter=function(v,O){return J(v)<this.startOf(O)},x.isBefore=function(v,O){return this.endOf(O)<J(v)},x.$g=function(v,O,C){return H.u(v)?this[O]:this.set(C,v)},x.unix=function(){return Math.floor(this.valueOf()/1e3)},x.valueOf=function(){return this.$d.getTime()},x.startOf=function(v,O){var C=this,N=!!H.u(O)||O,B=H.p(v),z=function(Le,he){var He=H.w(C.$u?Date.UTC(C.$y,he,Le):new Date(C.$y,he,Le),C);return N?He:He.endOf(f)},Z=function(Le,he){return H.w(C.toDate()[Le].apply(C.toDate("s"),(N?[0,0,0,0]:[23,59,59,999]).slice(he)),C)},ae=this.$W,pe=this.$M,Ee=this.$D,Ue="set"+(this.$u?"UTC":"");switch(B){case y:return N?z(1,0):z(31,11);case p:return N?z(1,pe):z(0,pe+1);case h:var Me=this.$locale().weekStart||0,qe=(ae<Me?ae+7:ae)-Me;return z(N?Ee-qe:Ee+(6-qe),pe);case f:case w:return Z(Ue+"Hours",0);case l:return Z(Ue+"Minutes",1);case a:return Z(Ue+"Seconds",2);case o:return Z(Ue+"Milliseconds",3);default:return this.clone()}},x.endOf=function(v){return this.startOf(v,!1)},x.$set=function(v,O){var C,N=H.p(v),B="set"+(this.$u?"UTC":""),z=(C={},C[f]=B+"Date",C[w]=B+"Date",C[p]=B+"Month",C[y]=B+"FullYear",C[l]=B+"Hours",C[a]=B+"Minutes",C[o]=B+"Seconds",C[i]=B+"Milliseconds",C)[N],Z=N===f?this.$D+(O-this.$W):O;if(N===p||N===y){var ae=this.clone().set(w,1);ae.$d[z](Z),ae.init(),this.$d=ae.set(w,Math.min(this.$D,ae.daysInMonth())).$d}else z&&this.$d[z](Z);return this.init(),this},x.set=function(v,O){return this.clone().$set(v,O)},x.get=function(v){return this[H.p(v)]()},x.add=function(v,O){var C,N=this;v=Number(v);var B=H.p(O),z=function(pe){var Ee=J(N);return H.w(Ee.date(Ee.date()+Math.round(pe*v)),N)};if(B===p)return this.set(p,this.$M+v);if(B===y)return this.set(y,this.$y+v);if(B===f)return z(1);if(B===h)return z(7);var Z=(C={},C[a]=n,C[l]=s,C[o]=r,C)[B]||1,ae=this.$d.getTime()+v*Z;return H.w(ae,this)},x.subtract=function(v,O){return this.add(-1*v,O)},x.format=function(v){var O=this,C=this.$locale();if(!this.isValid())return C.invalidDate||_;var N=v||"YYYY-MM-DDTHH:mm:ssZ",B=H.z(this),z=this.$H,Z=this.$m,ae=this.$M,pe=C.weekdays,Ee=C.months,Ue=C.meridiem,Me=function(he,He,at,Qt){return he&&(he[He]||he(O,N))||at[He].slice(0,Qt)},qe=function(he){return H.s(z%12||12,he,"0")},Le=Ue||function(he,He,at){var Qt=he<12?"AM":"PM";return at?Qt.toLowerCase():Qt};return N.replace(k,function(he,He){return He||function(at){switch(at){case"YY":return String(O.$y).slice(-2);case"YYYY":return H.s(O.$y,4,"0");case"M":return ae+1;case"MM":return H.s(ae+1,2,"0");case"MMM":return Me(C.monthsShort,ae,Ee,3);case"MMMM":return Me(Ee,ae);case"D":return O.$D;case"DD":return H.s(O.$D,2,"0");case"d":return String(O.$W);case"dd":return Me(C.weekdaysMin,O.$W,pe,2);case"ddd":return Me(C.weekdaysShort,O.$W,pe,3);case"dddd":return pe[O.$W];case"H":return String(z);case"HH":return H.s(z,2,"0");case"h":return qe(1);case"hh":return qe(2);case"a":return Le(z,Z,!0);case"A":return Le(z,Z,!1);case"m":return String(Z);case"mm":return H.s(Z,2,"0");case"s":return String(O.$s);case"ss":return H.s(O.$s,2,"0");case"SSS":return H.s(O.$ms,3,"0");case"Z":return B}return null}(he)||B.replace(":","")})},x.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},x.diff=function(v,O,C){var N,B=this,z=H.p(O),Z=J(v),ae=(Z.utcOffset()-this.utcOffset())*n,pe=this-Z,Ee=function(){return H.m(B,Z)};switch(z){case y:N=Ee()/12;break;case p:N=Ee();break;case d:N=Ee()/3;break;case h:N=(pe-ae)/6048e5;break;case f:N=(pe-ae)/864e5;break;case l:N=pe/s;break;case a:N=pe/n;break;case o:N=pe/r;break;default:N=pe}return C?N:H.a(N)},x.daysInMonth=function(){return this.endOf(p).$D},x.$locale=function(){return K[this.$L]},x.locale=function(v,O){if(!v)return this.$L;var C=this.clone(),N=X(v,O,!0);return N&&(C.$L=N),C},x.clone=function(){return H.w(this.$d,this)},x.toDate=function(){return new Date(this.valueOf())},x.toJSON=function(){return this.isValid()?this.toISOString():null},x.toISOString=function(){return this.$d.toISOString()},x.toString=function(){return this.$d.toUTCString()},S}(),T=m.prototype;return J.prototype=T,[["$ms",i],["$s",o],["$m",a],["$H",l],["$W",f],["$M",p],["$y",y],["$D",w]].forEach(function(S){T[S[1]]=function(x){return this.$g(x,S[0],S[1])}}),J.extend=function(S,x){return S.$i||(S(x,m,J),S.$i=!0),J},J.locale=X,J.isDayjs=D,J.unix=function(S){return J(1e3*S)},J.en=K[$],J.Ls=K,J.p={},J})})(To);var du=To.exports;const Jr=sa(du);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pu={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=(t,e)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...f},h)=>b.createElement("svg",{ref:h,...pu,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${yu(t)}`,a].join(" "),...f},[...e.map(([p,d])=>b.createElement(p,d)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=Zr("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gu=Zr("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=Zr("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=Zr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),wu=Br(t=>R.jsx("slot",{children:R.jsx("div",{className:t.v0,children:R.jsxs("div",{className:t.v1,children:[R.jsx("span",{className:t.v2,children:t.v3}),R.jsxs("div",{className:t.v4,style:t.v5,children:[t.v6,t.v7]})]})})}),{name:"Message_1",portals:["v3","v6","v7"]}),en=({message:t,children:e})=>{const{customStyles:r,adminId:n,isForManager:s}=ft(),i=t.isBot;return R.jsx(wu,{v0:pt("flex min-h-9 justify-end pl-8",{"justify-start pr-8 pl-0":i}),v1:pt("flex flex-col gap-1 w-full items-end",{"items-start":i}),v2:pt("flex items-center text-xs text-muted-foreground",{"justify-end":!i}),v3:s?t.isBot?"From bot":"From user":null,v4:pt("bg-primary rounded-md text-white flex items-center justify-end w-max p-2 max-w-72 text-wrap ",{"bg-muted text-neutral-900 justify-start":i}),v5:{wordBreak:"break-word",backgroundColor:i||r==null?void 0:r.color},v6:t.message,v7:e})};function tn(){return tn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tn.apply(this,arguments)}function xu(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Eu(...t){return e=>t.forEach(r=>xu(r,e))}const Ro=b.forwardRef((t,e)=>{const{children:r,...n}=t,s=b.Children.toArray(r),i=s.find(Su);if(i){const o=i.props.children,a=s.map(l=>l===i?b.Children.count(o)>1?b.Children.only(null):b.isValidElement(o)?o.props.children:null:l);return b.createElement(Jn,tn({},n,{ref:e}),b.isValidElement(o)?b.cloneElement(o,void 0,a):null)}return b.createElement(Jn,tn({},n,{ref:e}),r)});Ro.displayName="Slot";const Jn=b.forwardRef((t,e)=>{const{children:r,...n}=t;return b.isValidElement(r)?b.cloneElement(r,{...ku(n,r.props),ref:e?Eu(e,r.ref):r.ref}):b.Children.count(r)>1?b.Children.only(null):null});Jn.displayName="SlotClone";const _u=({children:t})=>b.createElement(b.Fragment,null,t);function Su(t){return b.isValidElement(t)&&t.type===_u}function ku(t,e){const r={...e};for(const n in e){const s=t[n],i=e[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{i(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...t,...r}}function Po(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=Po(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Cu(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=Po(t))&&(n&&(n+=" "),n+=e);return n}const $o=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,Mo=Cu,Ou=((t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Mo(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(f=>{const h=r==null?void 0:r[f],p=i==null?void 0:i[f];if(h===null)return null;const d=$o(h)||$o(p);return s[f][d]}),a=r&&Object.entries(r).reduce((f,h)=>{let[p,d]=h;return d===void 0||(f[p]=d),f},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((f,h)=>{let{class:p,className:d,...y}=h;return Object.entries(y).every(w=>{let[_,g]=w;return Array.isArray(g)?g.includes({...i,...a}[_]):{...i,...a}[_]===g})?[...f,p,d]:f},[]);return Mo(t,o,l,r==null?void 0:r.class,r==null?void 0:r.className)})("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",message:"bg-background shadow-sm border  text-primary border-primary hover:bg-primary/10 !rounded-full"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),rn=ge.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},i)=>{const o=n?Ro:"button";return R.jsx(o,{className:pt(Ou({variant:e,size:r,className:t})),ref:i,...s})});rn.displayName="Button";const Au=({message:t})=>{const{handleSendMessage:e,customStyles:r}=ft(),n=r!=null&&r.color?kn(r.color):null;return R.jsxs("div",{className:"space-y-2","data-buttons":!0,children:[R.jsx(en,{message:t}),R.jsx("div",{className:"flex gap-1 items-center w-[80%] justify-center flex-wrap mx-auto",children:t.template.data.map(s=>R.jsx(rn,{variant:"message",size:"sm",onClick:()=>{if(s.type==="postback"){if(!s.payload)return;e({message:s.payload,extraData:s.title,type:"list-button"})}if(s.type==="web_url"){if(!s.url)return;Pi(s.url)}},style:{"--primary":n?`${n.h} ${n.s}% ${n.l}%`:void 0},children:s.title}))})]})},Tu=Br(t=>R.jsxs("div",{className:"w-full space-y-1 text-center",children:[R.jsx("img",{src:t.v0,alt:t.v1,className:"rounded-md object-cover h-full w-full"}),R.jsx("h3",{className:"font-semibold",children:t.v2}),R.jsx("p",{className:"text-sm",children:t.v3}),t.v4]}),{name:"Card_1",portals:["v2","v3","v4"]}),Ru=({card:t})=>{const{handleSendMessage:e,customStyles:r}=ft(),n=r!=null&&r.color?kn(r.color):null;return R.jsx(Tu,{v0:t.image_url,v1:t.title,v2:t.title,v3:t.subtitle,v4:t.buttons&&t.buttons.length>0&&R.jsx("div",{className:"w-full mt-2",children:t.buttons.map((s,i)=>R.jsx(rn,{variant:"message",className:"!rounded-md w-full",onClick:()=>{if(s.type==="postback"){if(!s.payload)return;e({message:s.payload,extraData:s.title,type:"list-button"})}if(s.type==="web_url"){if(!s.url)return;Pi(s.url)}},style:{"--primary":n?`${n.h} ${n.s}% ${n.l}%`:void 0},children:s.title},i))})})},Pu=({message:t})=>R.jsx("div",{className:"flex flex-col space-y-2 gap-1",children:t.template.data.map((e,r)=>R.jsx(en,{message:t,children:R.jsx(Ru,{card:e})},r))}),$u=()=>R.jsx(en,{message:{isBot:!0,message:"",template:{},userId:"typing",createdAt:new Date().toISOString()},children:R.jsxs("div",{className:"flex space-x-1 h-full flex-1 items-center",children:[R.jsx("div",{className:"w-1 h-1 bg-neutral-800 rounded-full animate-bounce [animation-delay:-0.3s]"}),R.jsx("div",{className:"w-1 h-1 bg-neutral-800 rounded-full animate-bounce [animation-delay:-0.15s]"}),R.jsx("div",{className:"w-1 h-1 bg-neutral-800 rounded-full animate-bounce"})]})}),Mu=()=>{const t=b.useRef(null),{messages:e,isLoadingMessages:r}=ft();b.useEffect(()=>{t.current&&t.current.scrollIntoView({behavior:"smooth"})},[e]);const n=(s,i)=>{var o,a;return(s==null?void 0:s.userId)==="typing"?R.jsx($u,{}):((o=s==null?void 0:s.template)==null?void 0:o.type)==="list-button"?R.jsx(Au,{message:s},`${s.createdAt}+${i}`):((a=s==null?void 0:s.template)==null?void 0:a.type)==="list-card"?R.jsx(Pu,{message:s},`${s.createdAt}+${i}`):R.jsx(en,{message:s},`${s.createdAt}+${i}`)};return R.jsx("div",{className:"p-2 flex-1 pr-3 overflow-y-auto",children:r?R.jsx("div",{children:R.jsx(mu,{className:"animate-spin w-4 h-4"})}):R.jsxs("div",{className:"flex flex-col gap-1",children:[e.length>0&&R.jsx("div",{className:"text-center text-xs text-neutral-500 py-2",children:Jr(e[0].createdAt).format("DD/MM/YYYY HH:mm")}),e.map((s,i)=>R.jsxs(b.Fragment,{children:[i>0&&Jr(s.createdAt).diff(Jr(e[i-1].createdAt),"minutes")>10&&R.jsx("div",{className:"text-center text-xs text-neutral-500 py-2",children:Jr(s.createdAt).format("DD/MM/YYYY HH:mm")}),n(s,i)]},i)),R.jsx("div",{ref:t})]})})},Lu=Br(t=>R.jsx("header",{className:"flex items-center bg-primary select-none h-[3.75rem]",style:t.v0,children:R.jsxs("div",{className:"flex items-center  px-2 gap-2 justify-between w-full",children:[R.jsxs("div",{className:"flex items-center p-2 gap-2",children:[t.v1,R.jsx("span",{className:"font-medium text-white",children:t.v2})]}),R.jsxs("div",{className:"flex items-center gap-3",children:[t.v3,t.v4]})]})}),{name:"Header_1",portals:["v1","v2","v3","v4"]}),Nu=()=>{const{handleClose:t,isShowClose:e,handleReload:r,customStyles:n,isForManager:s}=ft();return R.jsx(Lu,{v0:{backgroundColor:n==null?void 0:n.color},v1:n!=null&&n.logoUrl?R.jsx("img",{src:n==null?void 0:n.logoUrl,alt:"logo",className:"w-10 h-10 rounded-full overflow-hidden object-cover"}):R.jsx("svg",{width:"40",height:"40",className:"text-neutral-700 fill-neutral-700 bg-neutral-700 rounded-full",children:R.jsx("text",{"text-anchor":"middle",x:"50%",y:"50%",dy:"0.35em",fill:"#ffffff","font-size":"1rem",children:"B"})}),v2:(n==null?void 0:n.name)||"DialogueBot",v3:!s&&R.jsx("div",{className:"w-6 h-6 flex items-center justify-center cursor-pointer",onClick:r,children:R.jsx(gu,{className:"w-4 h-4 text-white"})}),v4:e&&R.jsx("div",{className:"w-6 h-6 flex items-center justify-center cursor-pointer",onClick:t,children:R.jsx(vu,{className:"w-4 h-4 text-white"})})})},Lo=ge.forwardRef(({className:t,type:e,...r},n)=>R.jsx("input",{type:e,className:pt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...r}));Lo.displayName="Input";const ju=()=>{const{handleSendMessage:t,disableInput:e,customStyles:r}=ft(),[n,s]=b.useState(""),i=a=>{a.key==="Enter"&&(a.preventDefault(),t({message:n}),s(""))},o=r!=null&&r.color?kn(r.color):null;return R.jsxs("div",{className:"flex items-center py-2 px-3 gap-2 border-input border-t",children:[R.jsx(Lo,{className:"flex-1",placeholder:"Type a message...",value:n,onChange:a=>s(a.target.value),onKeyDown:i,disabled:e,style:{"--primary":o?`${o.h} ${o.s}% ${o.l}%`:void 0}}),R.jsx(rn,{size:"icon",className:"flex-shrink-0",onClick:()=>{t({message:n,cb:()=>s("")})},disabled:e,style:{"--primary":o?`${o.h} ${o.s}% ${o.l}%`:void 0},children:R.jsx(bu,{className:"w-4 h-4"})})]})},Du=new Sc,Bu=Br(t=>R.jsx("div",{className:t.v0,style:t.v1,children:R.jsxs("div",{className:"flex flex-col h-full overflow-hidden w-full flex-1",children:[t.v2,R.jsxs("div",{className:"flex-1 flex flex-col min-h-[1px]",children:[t.v3,t.v4]})]})}),{name:"ChatBox_1",portals:["v2","v3","v4"]}),Iu=({className:t})=>{const{customStyles:e,isForManager:r}=ft();return R.jsx(Bu,{v0:pt("select-none w-full h-screen flex flex-col shadow chatbox",t),v1:{width:e==null?void 0:e.windowSize.width,height:e==null?void 0:e.windowSize.height},v2:R.jsx(Nu,{}),v3:R.jsx(Mu,{}),v4:!r&&R.jsx(ju,{})})},Fu=t=>R.jsx(Ac,{client:Du,children:R.jsx(Ml,{...t,children:R.jsx(Iu,{className:t.className})})});ee.ChatBox=Fu,Object.defineProperty(ee,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=index.umd.js.map
