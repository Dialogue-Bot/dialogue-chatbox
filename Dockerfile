FROM node:20

ARG VITE_PROD_API_URL
ARG VITE_DEV_API_URL

ENV VITE_PROD_API_URL=$VITE_PROD_API_URL
ENV VITE_DEV_API_URL=$VITE_DEV_API_URL

WORKDIR /app

COPY package.json .

RUN npm install 

COPY . .

RUN npm run build

EXPOSE 5174

CMD [ "npm", "run", "start" ]